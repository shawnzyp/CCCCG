:root{--bg-color:#070b16;--bg:var(--bg-color) url('../images/Dark.PNG?v=2') center/cover no-repeat;--bg-image-set:image-set(url('../images/Dark.PNG?v=2') type('image/png') 1x);--bg-attachment:fixed;--surface:#111a2d;--surface-2:#0c1526;--text:#f8fafc;--muted:#94a3b8;--accent:#4f46e5;--accent-2:#f97316;--line:rgba(148,163,184,.22);--shadow:0 28px 60px -28px rgba(4,9,20,.9);--modal-accent-hue:244deg;--modal-glow-strength:.35;--text-on-accent:#f8fafc;--radius:clamp(10px,3vw,12px);--control-min-height:clamp(34px,7.2vw,44px);--control-compact-min-height:clamp(26px,6vw,32px);--tracker-pill-height:var(--control-min-height);--control-padding-y:clamp(8px,2.8vw,12px);--control-padding-x:clamp(10px,5vw,18px);--control-font-size:clamp(1rem,2.8vw,1.1rem);--control-gap:clamp(6px,2.6vw,12px);--transition-duration-short:160ms;--transition-duration-medium:260ms;--transition-duration-long:420ms;--transition-ease:cubic-bezier(.22,1,.36,1);--transition-ease-emphasized:cubic-bezier(.34,1.56,.64,1);--transition-ease-decelerate:cubic-bezier(.16,1,.3,1);--icon-size:clamp(18px,5.5vw,22px);--tab-icon-size:calc(var(--icon-size) * 2);--tab-bg:color-mix(in srgb,var(--surface-2) 65%, var(--accent) 35%);--tab-bg-hover:color-mix(in srgb,var(--surface-2) 48%, var(--accent) 52%);--tab-bg-active:color-mix(in srgb,var(--accent) 78%, var(--surface) 22%);--tab-border:color-mix(in srgb,var(--accent) 55%, transparent);--tab-fg:color-mix(in srgb,var(--accent) 82%, var(--text) 18%);--tab-active-fg:var(--text-on-accent);--tab-icon-filter:drop-shadow(0 6px 18px rgba(4,9,20,.55)) saturate(1.08) brightness(1);--tab-icon-filter-active:drop-shadow(0 10px 24px rgba(4,9,20,.6)) saturate(1.15) brightness(1.08);--tab-icon-filter-inverted:invert(1) drop-shadow(0 6px 18px rgba(4,9,20,.55)) saturate(1.16) brightness(1.04);--tab-icon-filter-inverted-active:invert(1) drop-shadow(0 10px 26px rgba(4,9,20,.62)) saturate(1.22) brightness(1.12);--pill-padding-y:clamp(4px,2.4vw,6px);--pill-padding-x:clamp(8px,4vw,12px);--pill-font-size:clamp(.75rem,2.6vw,.95rem);--pill-font-size-lg:clamp(.9rem,3vw,1.1rem);--select-indicator-size:clamp(14px,4.4vw,18px);--select-indicator-gap:clamp(2px,1.2vw,4px);--form-control-height:var(--control-min-height);--control-indicator-size:var(--form-control-height);--pill-min-height:var(--form-control-height);--progress-min-height:var(--form-control-height);--transition:background-color .4s ease-in-out,color .4s ease-in-out,border-color .4s ease-in-out,transform .4s ease-in-out,opacity .4s ease-in-out;--success:#22c55e;--error:#f87171;--icon-info:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none' stroke='%230ea5e9' stroke-width='1.8' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='10' cy='10' r='7'/%3E%3Cline x1='10' y1='9' x2='10' y2='13'/%3E%3Ccircle cx='10' cy='6' r='1.2'/%3E%3C/svg%3E");--icon-success:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none' stroke='%2322c55e' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M5 10l3 3 7-7'/%3E%3C/svg%3E");--icon-error:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none' stroke='%23f87171' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 6l8 8M6 14l8-8'/%3E%3C/svg%3E");--chevron:url("data:image/svg+xml,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20viewBox%3D'0%200%2020%2020'%20fill%3D'none'%20stroke%3D'currentColor'%20stroke-width%3D'2'%20stroke-linecap%3D'round'%20stroke-linejoin%3D'round'%3E%3Cpath%20d%3D'M6%208l4%204%204-4'%2F%3E%3C%2Fsvg%3E");--vh:1vh;--app-max-width:clamp(320px,96vw,1100px);--content-width:min(var(--app-max-width),100vw);--modal-width:var(--content-width);--shell-width:100vw;--card-padding:8px;--card-gap:10px;--modal-padding-block:14px;--modal-padding-inline:20px;--modal-surface-padding:16px;--modal-padding-top-offset:10px;--modal-padding-top-min:8px;--title-letter-spacing:0.05em;--title-word-spacing:0.12em;--title-character-gap:0.08em;--title-letter-spacing-uppercase:0.12em;--title-word-spacing-uppercase:0.2em;--title-space-width:clamp(0.75em,0.6em + 0.45vw,1.1em);--safe-area-top:env(safe-area-inset-top,0px);--safe-area-right:env(safe-area-inset-right,0px);--safe-area-bottom:env(safe-area-inset-bottom,0px);--safe-area-left:env(safe-area-inset-left,0px);--view-label-color:color-mix(in srgb,var(--muted) 85%, transparent);--view-value-color:var(--text);--view-helper-color:color-mix(in srgb,var(--muted) 65%, transparent);--chip-bg:color-mix(in srgb,var(--accent) 22%, var(--surface-2) 78%);--chip-text:var(--text);}

[inert],
[inert] *{pointer-events:none;}
@font-face{font-family:'CFTechnoMania Slanted';src:url('../CFTechnoMania-Slanted.woff2') format('woff2');font-weight:400;font-style:normal;font-display:swap}
@font-face{font-family:'Race Sport';src:url('../Race Sport.woff2') format('woff2'),url('../Race Sport.ttf') format('truetype');font-weight:400;font-style:normal;font-display:swap}
:root.theme-dark{
  --bg-overlay-mix-mode:screen;
  --bg-gradient-opacity:.75;
  --bg-overlay-opacity:.78;
  --bg-gradient-opacity-reduced:.45;
  --bg-overlay-opacity-reduced:.38;
  --bg-particle-alpha-1:.4;
  --bg-particle-alpha-2:.28;
  --bg-particle-alpha-3:.2;
  --bg-grain-opacity:.12;
  --bg-grain-shadow-opacity:.08;
  --bg-gradient:conic-gradient(from 140deg at 50% 50%, rgba(79 70 229 / 0.12) 0deg,rgba(79 70 229 / 0.35) 140deg,rgba(14 197 255 / 0.26) 220deg,rgba(255 94 130 / 0.38) 320deg,rgba(79 70 229 / 0.12) 360deg);
  --bg-gradient-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20400%20400%27%3E%3Cdefs%3E%3CradialGradient%20id%3D%27g%27%20cx%3D%270.35%27%20cy%3D%270.25%27%20r%3D%270.75%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%234f46e5%27%20stop-opacity%3D%270.6%27/%3E%3Cstop%20offset%3D%2755%25%27%20stop-color%3D%27%230ec5ff%27%20stop-opacity%3D%270.28%27/%3E%3Cstop%20offset%3D%27100%25%27%20stop-color%3D%27%23070b16%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3CradialGradient%20id%3D%27g2%27%20cx%3D%270.72%27%20cy%3D%270.78%27%20r%3D%270.9%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%23ff5e82%27%20stop-opacity%3D%270.42%27/%3E%3Cstop%20offset%3D%2770%25%27%20stop-color%3D%27%23070b16%27%20stop-opacity%3D%270.05%27/%3E%3Cstop%20offset%3D%27100%25%27%20stop-color%3D%27%23070b16%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3C/defs%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27%23070b16%27%20opacity%3D%270.08%27/%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g%29%27/%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g2%29%27/%3E%3C/svg%3E");
  --bg-gradient-avif:none;
  --bg-glow:radial-gradient(circle at 30% 24%,rgba(96 165 250 / 0.38) 0%,rgba(96 165 250 / 0) 70%),radial-gradient(circle at 74% 76%,rgba(14 197 255 / 0.32) 0%,rgba(14 197 255 / 0) 78%);
  --bg-glow-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20400%20400%27%3E%3CradialGradient%20id%3D%27g%27%20cx%3D%270.32%27%20cy%3D%270.28%27%20r%3D%270.6%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%2360a5fa%27%20stop-opacity%3D%270.45%27/%3E%3Cstop%20offset%3D%2775%25%27%20stop-color%3D%27%2360a5fa%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3CradialGradient%20id%3D%27g2%27%20cx%3D%270.78%27%20cy%3D%270.74%27%20r%3D%270.7%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%230ec5ff%27%20stop-opacity%3D%270.35%27/%3E%3Cstop%20offset%3D%2780%25%27%20stop-color%3D%27%230ec5ff%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g%29%27/%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g2%29%27/%3E%3C/svg%3E");
  --bg-particles:radial-gradient(circle at 18% 22%,rgba(79 70 229 / var(--bg-particle-alpha-1,.4)) 0 2px,transparent 60px),radial-gradient(circle at 75% 35%,rgba(14 197 255 / var(--bg-particle-alpha-2,.28)) 0 1.5px,transparent 55px),radial-gradient(circle at 42% 78%,rgba(255 94 130 / var(--bg-particle-alpha-3,.2)) 0 1px,transparent 48px);
  --bg-particles-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20200%20200%27%3E%3Ccircle%20cx%3D%2736%27%20cy%3D%2740%27%20r%3D%275%27%20fill%3D%27%234f46e5%27%20fill-opacity%3D%270.35%27/%3E%3Ccircle%20cx%3D%27156%27%20cy%3D%2764%27%20r%3D%274%27%20fill%3D%27%230ec5ff%27%20fill-opacity%3D%270.3%27/%3E%3Ccircle%20cx%3D%2790%27%20cy%3D%27160%27%20r%3D%273%27%20fill%3D%27%23ff5e82%27%20fill-opacity%3D%270.24%27/%3E%3Ccircle%20cx%3D%27128%27%20cy%3D%27120%27%20r%3D%272.6%27%20fill%3D%27%234f46e5%27%20fill-opacity%3D%270.26%27/%3E%3C/svg%3E");
  --bg-noise:linear-gradient(120deg,rgba(79 70 229 / 0.16) 0%,transparent 58%),linear-gradient(220deg,rgba(14 197 255 / 0.12) 18%,transparent 70%);
  --bg-noise-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20120%20120%27%3E%3Crect%20width%3D%27120%27%20height%3D%27120%27%20fill%3D%27%23070b16%27%20opacity%3D%270.06%27/%3E%3Ccircle%20cx%3D%2726%27%20cy%3D%2720%27%20r%3D%273%27%20fill%3D%27%234f46e5%27%20fill-opacity%3D%270.18%27/%3E%3Ccircle%20cx%3D%2796%27%20cy%3D%2740%27%20r%3D%274%27%20fill%3D%27%230ec5ff%27%20fill-opacity%3D%270.15%27/%3E%3Ccircle%20cx%3D%2758%27%20cy%3D%2796%27%20r%3D%273.2%27%20fill%3D%27%234f46e5%27%20fill-opacity%3D%270.16%27/%3E%3Ccircle%20cx%3D%2776%27%20cy%3D%2768%27%20r%3D%272.4%27%20fill%3D%27%230ec5ff%27%20fill-opacity%3D%270.18%27/%3E%3Crect%20x%3D%2720%27%20y%3D%2756%27%20width%3D%2710%27%20height%3D%271.6%27%20fill%3D%27%234f46e5%27%20fill-opacity%3D%270.18%27/%3E%3Crect%20x%3D%2790%27%20y%3D%2722%27%20width%3D%278%27%20height%3D%271.2%27%20fill%3D%27%230ec5ff%27%20fill-opacity%3D%270.16%27/%3E%3C/svg%3E");--ticker-tab-size:clamp(32px,7vw,42px);--ticker-tab-width:clamp(72px,20vw,122px);--ticker-tab-border-width:2px;--ticker-tab-offset:0px;--ticker-tab-margin-adjust:0px;--ticker-tab-overlap:calc(var(--ticker-tab-size)-var(--ticker-tab-border-width));--ticker-tab-clearance:calc(var(--ticker-tab-size)+clamp(12px,3vw,18px));
}
:root.theme-light{--bg-color:#f5f6ff;--bg:var(--bg-color) url('../images/Light.PNG?v=2') center/cover no-repeat;--bg-image-set:image-set(url('../images/Light.PNG?v=2') type('image/png') 1x);--bg-attachment:fixed;--surface:#fff;--surface-2:#e8edff;--text:#0f172a;--muted:#64748b;--accent:#2563eb;--accent-2:#f97316;--line:rgba(37,99,235,.15);--shadow:0 28px 52px -28px rgba(15,23,42,.28);--text-on-accent:#f8fafc;--success:#15803d;--error:#e11d48;--icon-success:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none' stroke='%2315803d' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M5 10l3 3 7-7'/%3E%3C/svg%3E");--icon-error:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none' stroke='%23e11d48' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 6l8 8M6 14l8-8'/%3E%3C/svg%3E");--tab-bg:color-mix(in srgb,#fff 82%, var(--accent) 18%);--tab-bg-hover:color-mix(in srgb,#fff 65%, var(--accent) 35%);--tab-bg-active:color-mix(in srgb,var(--accent) 74%, #fff 26%);--tab-border:color-mix(in srgb,var(--accent) 55%, transparent);--tab-fg:color-mix(in srgb,var(--accent) 72%, #111827 28%);--tab-icon-filter:drop-shadow(0 6px 12px rgba(15,23,42,.18)) saturate(1.05) brightness(1.02);--tab-icon-filter-active:drop-shadow(0 10px 18px rgba(15,23,42,.24)) saturate(1.1) brightness(1.08);--tab-icon-filter-inverted:invert(1) drop-shadow(0 6px 12px rgba(15,23,42,.18)) saturate(1.12) brightness(1.05);--tab-icon-filter-inverted-active:invert(1) drop-shadow(0 10px 18px rgba(15,23,42,.24)) saturate(1.18) brightness(1.12)}

@media (min-width:1200px){
  :root{--app-max-width:min(920px,78vw);--modal-width:min(840px,72vw);--card-padding:7px;--card-gap:8px;--modal-padding-block:12px;--modal-padding-inline:18px;--modal-surface-padding:14px;--modal-padding-top-offset:8px;--modal-padding-top-min:8px;}
  .app-alert__card{padding:24px 20px;}
  .somf-reveal-alert__card{padding:28px 24px;}
}

@media (min-width:1600px){
  :root{--app-max-width:min(820px,68vw);--modal-width:min(760px,60vw);--card-padding:6px;--card-gap:7px;--modal-padding-block:11px;--modal-padding-inline:16px;--modal-surface-padding:12px;--modal-padding-top-offset:6px;--modal-padding-top-min:8px;}
  .app-alert__card{padding:22px 18px;}
  .somf-reveal-alert__card{padding:24px 20px;}
}
:root.theme-high{--bg-color:#05060a;--bg:var(--bg-color) url('../images/High Contrast.PNG?v=2') center/cover no-repeat;--bg-image-set:image-set(url('../images/High Contrast.PNG?v=2') type('image/png') 1x);--bg-attachment:fixed;--surface:#07080f;--surface-2:#0b0d16;--text:#f8fafc;--muted:#f8fafc;--accent:#ffd60a;--accent-2:#38f9ff;--line:#f8fafc;--shadow:0 0 0 2px rgba(248,250,252,.35);--text-on-accent:#1a1200;--success:#5af78d;--error:#ff6b6b;--icon-success:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none' stroke='%235af78d' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M5 10l3 3 7-7'/%3E%3C/svg%3E");--icon-error:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none' stroke='%23ff6b6b' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 6l8 8M6 14l8-8'/%3E%3C/svg%3E");--tab-bg:#07080f;--tab-bg-hover:#10121f;--tab-bg-active:#ffd60a;--tab-border:#f8fafc;--tab-fg:#ffd60a;--tab-active-fg:#1a1200;--tab-icon-filter:contrast(1.3) brightness(1.18);--tab-icon-filter-active:contrast(1.45) brightness(1.25);--tab-icon-filter-inverted:invert(1) contrast(1.5) brightness(1.35);--tab-icon-filter-inverted-active:invert(1) contrast(1.6) brightness(1.45)}

:root.theme-forest{
  --bg-gradient-opacity:.78;
  --bg-overlay-opacity:.74;
  --bg-gradient:conic-gradient(from 140deg at 50% 50%, rgba(22 163 74 / 0.12) 0deg,rgba(22 163 74 / 0.35) 140deg,rgba(21 128 61 / 0.26) 220deg,rgba(190 242 100 / 0.38) 320deg,rgba(22 163 74 / 0.12) 360deg);
  --bg-gradient-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20400%20400%27%3E%3Cdefs%3E%3CradialGradient%20id%3D%27g%27%20cx%3D%270.35%27%20cy%3D%270.25%27%20r%3D%270.75%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%2316a34a%27%20stop-opacity%3D%270.6%27/%3E%3Cstop%20offset%3D%2755%25%27%20stop-color%3D%27%2315803d%27%20stop-opacity%3D%270.28%27/%3E%3Cstop%20offset%3D%27100%25%27%20stop-color%3D%27%23071811%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3CradialGradient%20id%3D%27g2%27%20cx%3D%270.72%27%20cy%3D%270.78%27%20r%3D%270.9%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%23bef264%27%20stop-opacity%3D%270.42%27/%3E%3Cstop%20offset%3D%2770%25%27%20stop-color%3D%27%23071811%27%20stop-opacity%3D%270.05%27/%3E%3Cstop%20offset%3D%27100%25%27%20stop-color%3D%27%23071811%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3C/defs%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27%23071811%27%20opacity%3D%270.08%27/%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g%29%27/%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g2%29%27/%3E%3C/svg%3E");
  --bg-gradient-avif:none;
  --bg-glow:radial-gradient(circle at 30% 24%,rgba(52 211 153 / 0.38) 0%,rgba(52 211 153 / 0) 70%),radial-gradient(circle at 74% 76%,rgba(187 247 208 / 0.32) 0%,rgba(187 247 208 / 0) 78%);
  --bg-glow-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20400%20400%27%3E%3CradialGradient%20id%3D%27g%27%20cx%3D%270.32%27%20cy%3D%270.28%27%20r%3D%270.6%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%2334d399%27%20stop-opacity%3D%270.45%27/%3E%3Cstop%20offset%3D%2775%25%27%20stop-color%3D%27%2334d399%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3CradialGradient%20id%3D%27g2%27%20cx%3D%270.78%27%20cy%3D%270.74%27%20r%3D%270.7%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%23bbf7d0%27%20stop-opacity%3D%270.35%27/%3E%3Cstop%20offset%3D%2780%25%27%20stop-color%3D%27%23bbf7d0%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g%29%27/%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g2%29%27/%3E%3C/svg%3E");
  --bg-particles:radial-gradient(circle at 18% 22%,rgba(22 163 74 / var(--bg-particle-alpha-1,.4)) 0 2px,transparent 60px),radial-gradient(circle at 75% 35%,rgba(21 128 61 / var(--bg-particle-alpha-2,.28)) 0 1.5px,transparent 55px),radial-gradient(circle at 42% 78%,rgba(190 242 100 / var(--bg-particle-alpha-3,.2)) 0 1px,transparent 48px);
  --bg-particles-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20200%20200%27%3E%3Ccircle%20cx%3D%2736%27%20cy%3D%2740%27%20r%3D%275%27%20fill%3D%27%2316a34a%27%20fill-opacity%3D%270.35%27/%3E%3Ccircle%20cx%3D%27156%27%20cy%3D%2764%27%20r%3D%274%27%20fill%3D%27%2315803d%27%20fill-opacity%3D%270.3%27/%3E%3Ccircle%20cx%3D%2790%27%20cy%3D%27160%27%20r%3D%273%27%20fill%3D%27%23bef264%27%20fill-opacity%3D%270.24%27/%3E%3Ccircle%20cx%3D%27128%27%20cy%3D%27120%27%20r%3D%272.6%27%20fill%3D%27%2316a34a%27%20fill-opacity%3D%270.26%27/%3E%3C/svg%3E");
  --bg-noise:linear-gradient(120deg,rgba(22 163 74 / 0.16) 0%,transparent 58%),linear-gradient(220deg,rgba(21 128 61 / 0.12) 18%,transparent 70%);
  --bg-noise-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20120%20120%27%3E%3Crect%20width%3D%27120%27%20height%3D%27120%27%20fill%3D%27%23071811%27%20opacity%3D%270.06%27/%3E%3Ccircle%20cx%3D%2726%27%20cy%3D%2720%27%20r%3D%273%27%20fill%3D%27%2316a34a%27%20fill-opacity%3D%270.18%27/%3E%3Ccircle%20cx%3D%2796%27%20cy%3D%2740%27%20r%3D%274%27%20fill%3D%27%2315803d%27%20fill-opacity%3D%270.15%27/%3E%3Ccircle%20cx%3D%2758%27%20cy%3D%2796%27%20r%3D%273.2%27%20fill%3D%27%2316a34a%27%20fill-opacity%3D%270.16%27/%3E%3Ccircle%20cx%3D%2776%27%20cy%3D%2768%27%20r%3D%272.4%27%20fill%3D%27%2315803d%27%20fill-opacity%3D%270.18%27/%3E%3Crect%20x%3D%2720%27%20y%3D%2756%27%20width%3D%2710%27%20height%3D%271.6%27%20fill%3D%27%2316a34a%27%20fill-opacity%3D%270.18%27/%3E%3Crect%20x%3D%2790%27%20y%3D%2722%27%20width%3D%278%27%20height%3D%271.2%27%20fill%3D%27%2315803d%27%20fill-opacity%3D%270.16%27/%3E%3C/svg%3E");
}
:root.theme-ocean{
  --bg-gradient-opacity:.8;
  --bg-overlay-opacity:.76;
  --bg-gradient:conic-gradient(from 140deg at 50% 50%, rgba(14 165 233 / 0.12) 0deg,rgba(14 165 233 / 0.35) 140deg,rgba(56 189 248 / 0.26) 220deg,rgba(37 99 235 / 0.38) 320deg,rgba(14 165 233 / 0.12) 360deg);
  --bg-gradient-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20400%20400%27%3E%3Cdefs%3E%3CradialGradient%20id%3D%27g%27%20cx%3D%270.35%27%20cy%3D%270.25%27%20r%3D%270.75%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%230ea5e9%27%20stop-opacity%3D%270.6%27/%3E%3Cstop%20offset%3D%2755%25%27%20stop-color%3D%27%2338bdf8%27%20stop-opacity%3D%270.28%27/%3E%3Cstop%20offset%3D%27100%25%27%20stop-color%3D%27%23051320%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3CradialGradient%20id%3D%27g2%27%20cx%3D%270.72%27%20cy%3D%270.78%27%20r%3D%270.9%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%232563eb%27%20stop-opacity%3D%270.42%27/%3E%3Cstop%20offset%3D%2770%25%27%20stop-color%3D%27%23051320%27%20stop-opacity%3D%270.05%27/%3E%3Cstop%20offset%3D%27100%25%27%20stop-color%3D%27%23051320%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3C/defs%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27%23051320%27%20opacity%3D%270.08%27/%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g%29%27/%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g2%29%27/%3E%3C/svg%3E");
  --bg-gradient-avif:none;
  --bg-glow:radial-gradient(circle at 30% 24%,rgba(125 211 252 / 0.38) 0%,rgba(125 211 252 / 0) 70%),radial-gradient(circle at 74% 76%,rgba(56 189 248 / 0.32) 0%,rgba(56 189 248 / 0) 78%);
  --bg-glow-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20400%20400%27%3E%3CradialGradient%20id%3D%27g%27%20cx%3D%270.32%27%20cy%3D%270.28%27%20r%3D%270.6%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%237dd3fc%27%20stop-opacity%3D%270.45%27/%3E%3Cstop%20offset%3D%2775%25%27%20stop-color%3D%27%237dd3fc%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3CradialGradient%20id%3D%27g2%27%20cx%3D%270.78%27%20cy%3D%270.74%27%20r%3D%270.7%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%2338bdf8%27%20stop-opacity%3D%270.35%27/%3E%3Cstop%20offset%3D%2780%25%27%20stop-color%3D%27%2338bdf8%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g%29%27/%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g2%29%27/%3E%3C/svg%3E");
  --bg-particles:radial-gradient(circle at 18% 22%,rgba(14 165 233 / var(--bg-particle-alpha-1,.4)) 0 2px,transparent 60px),radial-gradient(circle at 75% 35%,rgba(56 189 248 / var(--bg-particle-alpha-2,.28)) 0 1.5px,transparent 55px),radial-gradient(circle at 42% 78%,rgba(37 99 235 / var(--bg-particle-alpha-3,.2)) 0 1px,transparent 48px);
  --bg-particles-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20200%20200%27%3E%3Ccircle%20cx%3D%2736%27%20cy%3D%2740%27%20r%3D%275%27%20fill%3D%27%230ea5e9%27%20fill-opacity%3D%270.35%27/%3E%3Ccircle%20cx%3D%27156%27%20cy%3D%2764%27%20r%3D%274%27%20fill%3D%27%2338bdf8%27%20fill-opacity%3D%270.3%27/%3E%3Ccircle%20cx%3D%2790%27%20cy%3D%27160%27%20r%3D%273%27%20fill%3D%27%232563eb%27%20fill-opacity%3D%270.24%27/%3E%3Ccircle%20cx%3D%27128%27%20cy%3D%27120%27%20r%3D%272.6%27%20fill%3D%27%230ea5e9%27%20fill-opacity%3D%270.26%27/%3E%3C/svg%3E");
  --bg-noise:linear-gradient(120deg,rgba(14 165 233 / 0.16) 0%,transparent 58%),linear-gradient(220deg,rgba(56 189 248 / 0.12) 18%,transparent 70%);
  --bg-noise-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20120%20120%27%3E%3Crect%20width%3D%27120%27%20height%3D%27120%27%20fill%3D%27%23051320%27%20opacity%3D%270.06%27/%3E%3Ccircle%20cx%3D%2726%27%20cy%3D%2720%27%20r%3D%273%27%20fill%3D%27%230ea5e9%27%20fill-opacity%3D%270.18%27/%3E%3Ccircle%20cx%3D%2796%27%20cy%3D%2740%27%20r%3D%274%27%20fill%3D%27%2338bdf8%27%20fill-opacity%3D%270.15%27/%3E%3Ccircle%20cx%3D%2758%27%20cy%3D%2796%27%20r%3D%273.2%27%20fill%3D%27%230ea5e9%27%20fill-opacity%3D%270.16%27/%3E%3Ccircle%20cx%3D%2776%27%20cy%3D%2768%27%20r%3D%272.4%27%20fill%3D%27%2338bdf8%27%20fill-opacity%3D%270.18%27/%3E%3Crect%20x%3D%2720%27%20y%3D%2756%27%20width%3D%2710%27%20height%3D%271.6%27%20fill%3D%27%230ea5e9%27%20fill-opacity%3D%270.18%27/%3E%3Crect%20x%3D%2790%27%20y%3D%2722%27%20width%3D%278%27%20height%3D%271.2%27%20fill%3D%27%2338bdf8%27%20fill-opacity%3D%270.16%27/%3E%3C/svg%3E");
}
:root.theme-mutant{
  --bg-gradient-opacity:.82;
  --bg-overlay-opacity:.72;
  --bg-gradient:conic-gradient(from 140deg at 50% 50%, rgba(192 38 211 / 0.12) 0deg,rgba(192 38 211 / 0.35) 140deg,rgba(249 115 22 / 0.26) 220deg,rgba(250 204 21 / 0.38) 320deg,rgba(192 38 211 / 0.12) 360deg);
  --bg-gradient-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20400%20400%27%3E%3Cdefs%3E%3CradialGradient%20id%3D%27g%27%20cx%3D%270.35%27%20cy%3D%270.25%27%20r%3D%270.75%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%23c026d3%27%20stop-opacity%3D%270.6%27/%3E%3Cstop%20offset%3D%2755%25%27%20stop-color%3D%27%23f97316%27%20stop-opacity%3D%270.28%27/%3E%3Cstop%20offset%3D%27100%25%27%20stop-color%3D%27%2315041f%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3CradialGradient%20id%3D%27g2%27%20cx%3D%270.72%27%20cy%3D%270.78%27%20r%3D%270.9%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%23facc15%27%20stop-opacity%3D%270.42%27/%3E%3Cstop%20offset%3D%2770%25%27%20stop-color%3D%27%2315041f%27%20stop-opacity%3D%270.05%27/%3E%3Cstop%20offset%3D%27100%25%27%20stop-color%3D%27%2315041f%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3C/defs%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27%2315041f%27%20opacity%3D%270.08%27/%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g%29%27/%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g2%29%27/%3E%3C/svg%3E");
  --bg-gradient-avif:none;
  --bg-glow:radial-gradient(circle at 30% 24%,rgba(240 171 252 / 0.38) 0%,rgba(240 171 252 / 0) 70%),radial-gradient(circle at 74% 76%,rgba(249 115 22 / 0.32) 0%,rgba(249 115 22 / 0) 78%);
  --bg-glow-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20400%20400%27%3E%3CradialGradient%20id%3D%27g%27%20cx%3D%270.32%27%20cy%3D%270.28%27%20r%3D%270.6%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%23f0abfc%27%20stop-opacity%3D%270.45%27/%3E%3Cstop%20offset%3D%2775%25%27%20stop-color%3D%27%23f0abfc%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3CradialGradient%20id%3D%27g2%27%20cx%3D%270.78%27%20cy%3D%270.74%27%20r%3D%270.7%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%23f97316%27%20stop-opacity%3D%270.35%27/%3E%3Cstop%20offset%3D%2780%25%27%20stop-color%3D%27%23f97316%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g%29%27/%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g2%29%27/%3E%3C/svg%3E");
  --bg-particles:radial-gradient(circle at 18% 22%,rgba(192 38 211 / var(--bg-particle-alpha-1,.4)) 0 2px,transparent 60px),radial-gradient(circle at 75% 35%,rgba(249 115 22 / var(--bg-particle-alpha-2,.28)) 0 1.5px,transparent 55px),radial-gradient(circle at 42% 78%,rgba(250 204 21 / var(--bg-particle-alpha-3,.2)) 0 1px,transparent 48px);
  --bg-particles-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20200%20200%27%3E%3Ccircle%20cx%3D%2736%27%20cy%3D%2740%27%20r%3D%275%27%20fill%3D%27%23c026d3%27%20fill-opacity%3D%270.35%27/%3E%3Ccircle%20cx%3D%27156%27%20cy%3D%2764%27%20r%3D%274%27%20fill%3D%27%23f97316%27%20fill-opacity%3D%270.3%27/%3E%3Ccircle%20cx%3D%2790%27%20cy%3D%27160%27%20r%3D%273%27%20fill%3D%27%23facc15%27%20fill-opacity%3D%270.24%27/%3E%3Ccircle%20cx%3D%27128%27%20cy%3D%27120%27%20r%3D%272.6%27%20fill%3D%27%23c026d3%27%20fill-opacity%3D%270.26%27/%3E%3C/svg%3E");
  --bg-noise:linear-gradient(120deg,rgba(192 38 211 / 0.16) 0%,transparent 58%),linear-gradient(220deg,rgba(249 115 22 / 0.12) 18%,transparent 70%);
  --bg-noise-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20120%20120%27%3E%3Crect%20width%3D%27120%27%20height%3D%27120%27%20fill%3D%27%2315041f%27%20opacity%3D%270.06%27/%3E%3Ccircle%20cx%3D%2726%27%20cy%3D%2720%27%20r%3D%273%27%20fill%3D%27%23c026d3%27%20fill-opacity%3D%270.18%27/%3E%3Ccircle%20cx%3D%2796%27%20cy%3D%2740%27%20r%3D%274%27%20fill%3D%27%23f97316%27%20fill-opacity%3D%270.15%27/%3E%3Ccircle%20cx%3D%2758%27%20cy%3D%2796%27%20r%3D%273.2%27%20fill%3D%27%23c026d3%27%20fill-opacity%3D%270.16%27/%3E%3Ccircle%20cx%3D%2776%27%20cy%3D%2768%27%20r%3D%272.4%27%20fill%3D%27%23f97316%27%20fill-opacity%3D%270.18%27/%3E%3Crect%20x%3D%2720%27%20y%3D%2756%27%20width%3D%2710%27%20height%3D%271.6%27%20fill%3D%27%23c026d3%27%20fill-opacity%3D%270.18%27/%3E%3Crect%20x%3D%2790%27%20y%3D%2722%27%20width%3D%278%27%20height%3D%271.2%27%20fill%3D%27%23f97316%27%20fill-opacity%3D%270.16%27/%3E%3C/svg%3E");
}
:root.theme-enhanced{
  --bg-gradient-opacity:.8;
  --bg-overlay-opacity:.7;
  --bg-gradient:conic-gradient(from 140deg at 50% 50%, rgba(34 211 238 / 0.12) 0deg,rgba(34 211 238 / 0.35) 140deg,rgba(14 165 233 / 0.26) 220deg,rgba(129 140 248 / 0.38) 320deg,rgba(34 211 238 / 0.12) 360deg);
  --bg-gradient-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20400%20400%27%3E%3Cdefs%3E%3CradialGradient%20id%3D%27g%27%20cx%3D%270.35%27%20cy%3D%270.25%27%20r%3D%270.75%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%2322d3ee%27%20stop-opacity%3D%270.6%27/%3E%3Cstop%20offset%3D%2755%25%27%20stop-color%3D%27%230ea5e9%27%20stop-opacity%3D%270.28%27/%3E%3Cstop%20offset%3D%27100%25%27%20stop-color%3D%27%23050e1a%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3CradialGradient%20id%3D%27g2%27%20cx%3D%270.72%27%20cy%3D%270.78%27%20r%3D%270.9%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%23818cf8%27%20stop-opacity%3D%270.42%27/%3E%3Cstop%20offset%3D%2770%25%27%20stop-color%3D%27%23050e1a%27%20stop-opacity%3D%270.05%27/%3E%3Cstop%20offset%3D%27100%25%27%20stop-color%3D%27%23050e1a%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3C/defs%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27%23050e1a%27%20opacity%3D%270.08%27/%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g%29%27/%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g2%29%27/%3E%3C/svg%3E");
  --bg-gradient-avif:none;
  --bg-glow:radial-gradient(circle at 30% 24%,rgba(103 232 249 / 0.38) 0%,rgba(103 232 249 / 0) 70%),radial-gradient(circle at 74% 76%,rgba(165 180 252 / 0.32) 0%,rgba(165 180 252 / 0) 78%);
  --bg-glow-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20400%20400%27%3E%3CradialGradient%20id%3D%27g%27%20cx%3D%270.32%27%20cy%3D%270.28%27%20r%3D%270.6%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%2367e8f9%27%20stop-opacity%3D%270.45%27/%3E%3Cstop%20offset%3D%2775%25%27%20stop-color%3D%27%2367e8f9%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3CradialGradient%20id%3D%27g2%27%20cx%3D%270.78%27%20cy%3D%270.74%27%20r%3D%270.7%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%23a5b4fc%27%20stop-opacity%3D%270.35%27/%3E%3Cstop%20offset%3D%2780%25%27%20stop-color%3D%27%23a5b4fc%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g%29%27/%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g2%29%27/%3E%3C/svg%3E");
  --bg-particles:radial-gradient(circle at 18% 22%,rgba(34 211 238 / var(--bg-particle-alpha-1,.4)) 0 2px,transparent 60px),radial-gradient(circle at 75% 35%,rgba(14 165 233 / var(--bg-particle-alpha-2,.28)) 0 1.5px,transparent 55px),radial-gradient(circle at 42% 78%,rgba(129 140 248 / var(--bg-particle-alpha-3,.2)) 0 1px,transparent 48px);
  --bg-particles-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20200%20200%27%3E%3Ccircle%20cx%3D%2736%27%20cy%3D%2740%27%20r%3D%275%27%20fill%3D%27%2322d3ee%27%20fill-opacity%3D%270.35%27/%3E%3Ccircle%20cx%3D%27156%27%20cy%3D%2764%27%20r%3D%274%27%20fill%3D%27%230ea5e9%27%20fill-opacity%3D%270.3%27/%3E%3Ccircle%20cx%3D%2790%27%20cy%3D%27160%27%20r%3D%273%27%20fill%3D%27%23818cf8%27%20fill-opacity%3D%270.24%27/%3E%3Ccircle%20cx%3D%27128%27%20cy%3D%27120%27%20r%3D%272.6%27%20fill%3D%27%2322d3ee%27%20fill-opacity%3D%270.26%27/%3E%3C/svg%3E");
  --bg-noise:linear-gradient(120deg,rgba(34 211 238 / 0.16) 0%,transparent 58%),linear-gradient(220deg,rgba(14 165 233 / 0.12) 18%,transparent 70%);
  --bg-noise-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20120%20120%27%3E%3Crect%20width%3D%27120%27%20height%3D%27120%27%20fill%3D%27%23050e1a%27%20opacity%3D%270.06%27/%3E%3Ccircle%20cx%3D%2726%27%20cy%3D%2720%27%20r%3D%273%27%20fill%3D%27%2322d3ee%27%20fill-opacity%3D%270.18%27/%3E%3Ccircle%20cx%3D%2796%27%20cy%3D%2740%27%20r%3D%274%27%20fill%3D%27%230ea5e9%27%20fill-opacity%3D%270.15%27/%3E%3Ccircle%20cx%3D%2758%27%20cy%3D%2796%27%20r%3D%273.2%27%20fill%3D%27%2322d3ee%27%20fill-opacity%3D%270.16%27/%3E%3Ccircle%20cx%3D%2776%27%20cy%3D%2768%27%20r%3D%272.4%27%20fill%3D%27%230ea5e9%27%20fill-opacity%3D%270.18%27/%3E%3Crect%20x%3D%2720%27%20y%3D%2756%27%20width%3D%2710%27%20height%3D%271.6%27%20fill%3D%27%2322d3ee%27%20fill-opacity%3D%270.18%27/%3E%3Crect%20x%3D%2790%27%20y%3D%2722%27%20width%3D%278%27%20height%3D%271.2%27%20fill%3D%27%230ea5e9%27%20fill-opacity%3D%270.16%27/%3E%3C/svg%3E");
}
:root.theme-magic{
  --bg-gradient-opacity:.84;
  --bg-overlay-opacity:.75;
  --bg-gradient:conic-gradient(from 140deg at 50% 50%, rgba(168 85 247 / 0.12) 0deg,rgba(168 85 247 / 0.35) 140deg,rgba(244 114 182 / 0.26) 220deg,rgba(56 189 248 / 0.38) 320deg,rgba(168 85 247 / 0.12) 360deg);
  --bg-gradient-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20400%20400%27%3E%3Cdefs%3E%3CradialGradient%20id%3D%27g%27%20cx%3D%270.35%27%20cy%3D%270.25%27%20r%3D%270.75%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%23a855f7%27%20stop-opacity%3D%270.6%27/%3E%3Cstop%20offset%3D%2755%25%27%20stop-color%3D%27%23f472b6%27%20stop-opacity%3D%270.28%27/%3E%3Cstop%20offset%3D%27100%25%27%20stop-color%3D%27%23190527%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3CradialGradient%20id%3D%27g2%27%20cx%3D%270.72%27%20cy%3D%270.78%27%20r%3D%270.9%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%2338bdf8%27%20stop-opacity%3D%270.42%27/%3E%3Cstop%20offset%3D%2770%25%27%20stop-color%3D%27%23190527%27%20stop-opacity%3D%270.05%27/%3E%3Cstop%20offset%3D%27100%25%27%20stop-color%3D%27%23190527%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3C/defs%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27%23190527%27%20opacity%3D%270.08%27/%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g%29%27/%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g2%29%27/%3E%3C/svg%3E");
  --bg-gradient-avif:none;
  --bg-glow:radial-gradient(circle at 30% 24%,rgba(232 121 249 / 0.38) 0%,rgba(232 121 249 / 0) 70%),radial-gradient(circle at 74% 76%,rgba(244 114 182 / 0.32) 0%,rgba(244 114 182 / 0) 78%);
  --bg-glow-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20400%20400%27%3E%3CradialGradient%20id%3D%27g%27%20cx%3D%270.32%27%20cy%3D%270.28%27%20r%3D%270.6%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%23e879f9%27%20stop-opacity%3D%270.45%27/%3E%3Cstop%20offset%3D%2775%25%27%20stop-color%3D%27%23e879f9%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3CradialGradient%20id%3D%27g2%27%20cx%3D%270.78%27%20cy%3D%270.74%27%20r%3D%270.7%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%23f472b6%27%20stop-opacity%3D%270.35%27/%3E%3Cstop%20offset%3D%2780%25%27%20stop-color%3D%27%23f472b6%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g%29%27/%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g2%29%27/%3E%3C/svg%3E");
  --bg-particles:radial-gradient(circle at 18% 22%,rgba(168 85 247 / var(--bg-particle-alpha-1,.4)) 0 2px,transparent 60px),radial-gradient(circle at 75% 35%,rgba(244 114 182 / var(--bg-particle-alpha-2,.28)) 0 1.5px,transparent 55px),radial-gradient(circle at 42% 78%,rgba(56 189 248 / var(--bg-particle-alpha-3,.2)) 0 1px,transparent 48px);
  --bg-particles-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20200%20200%27%3E%3Ccircle%20cx%3D%2736%27%20cy%3D%2740%27%20r%3D%275%27%20fill%3D%27%23a855f7%27%20fill-opacity%3D%270.35%27/%3E%3Ccircle%20cx%3D%27156%27%20cy%3D%2764%27%20r%3D%274%27%20fill%3D%27%23f472b6%27%20fill-opacity%3D%270.3%27/%3E%3Ccircle%20cx%3D%2790%27%20cy%3D%27160%27%20r%3D%273%27%20fill%3D%27%2338bdf8%27%20fill-opacity%3D%270.24%27/%3E%3Ccircle%20cx%3D%27128%27%20cy%3D%27120%27%20r%3D%272.6%27%20fill%3D%27%23a855f7%27%20fill-opacity%3D%270.26%27/%3E%3C/svg%3E");
  --bg-noise:linear-gradient(120deg,rgba(168 85 247 / 0.16) 0%,transparent 58%),linear-gradient(220deg,rgba(244 114 182 / 0.12) 18%,transparent 70%);
  --bg-noise-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20120%20120%27%3E%3Crect%20width%3D%27120%27%20height%3D%27120%27%20fill%3D%27%23190527%27%20opacity%3D%270.06%27/%3E%3Ccircle%20cx%3D%2726%27%20cy%3D%2720%27%20r%3D%273%27%20fill%3D%27%23a855f7%27%20fill-opacity%3D%270.18%27/%3E%3Ccircle%20cx%3D%2796%27%20cy%3D%2740%27%20r%3D%274%27%20fill%3D%27%23f472b6%27%20fill-opacity%3D%270.15%27/%3E%3Ccircle%20cx%3D%2758%27%20cy%3D%2796%27%20r%3D%273.2%27%20fill%3D%27%23a855f7%27%20fill-opacity%3D%270.16%27/%3E%3Ccircle%20cx%3D%2776%27%20cy%3D%2768%27%20r%3D%272.4%27%20fill%3D%27%23f472b6%27%20fill-opacity%3D%270.18%27/%3E%3Crect%20x%3D%2720%27%20y%3D%2756%27%20width%3D%2710%27%20height%3D%271.6%27%20fill%3D%27%23a855f7%27%20fill-opacity%3D%270.18%27/%3E%3Crect%20x%3D%2790%27%20y%3D%2722%27%20width%3D%278%27%20height%3D%271.2%27%20fill%3D%27%23f472b6%27%20fill-opacity%3D%270.16%27/%3E%3C/svg%3E");
}
:root.theme-alien{
  --bg-gradient-opacity:.8;
  --bg-overlay-opacity:.72;
  --bg-gradient:conic-gradient(from 140deg at 50% 50%, rgba(16 185 129 / 0.12) 0deg,rgba(16 185 129 / 0.35) 140deg,rgba(20 184 166 / 0.26) 220deg,rgba(163 230 53 / 0.38) 320deg,rgba(16 185 129 / 0.12) 360deg);
  --bg-gradient-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20400%20400%27%3E%3Cdefs%3E%3CradialGradient%20id%3D%27g%27%20cx%3D%270.35%27%20cy%3D%270.25%27%20r%3D%270.75%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%2310b981%27%20stop-opacity%3D%270.6%27/%3E%3Cstop%20offset%3D%2755%25%27%20stop-color%3D%27%2314b8a6%27%20stop-opacity%3D%270.28%27/%3E%3Cstop%20offset%3D%27100%25%27%20stop-color%3D%27%23041a19%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3CradialGradient%20id%3D%27g2%27%20cx%3D%270.72%27%20cy%3D%270.78%27%20r%3D%270.9%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%23a3e635%27%20stop-opacity%3D%270.42%27/%3E%3Cstop%20offset%3D%2770%25%27%20stop-color%3D%27%23041a19%27%20stop-opacity%3D%270.05%27/%3E%3Cstop%20offset%3D%27100%25%27%20stop-color%3D%27%23041a19%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3C/defs%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27%23041a19%27%20opacity%3D%270.08%27/%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g%29%27/%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g2%29%27/%3E%3C/svg%3E");
  --bg-gradient-avif:none;
  --bg-glow:radial-gradient(circle at 30% 24%,rgba(94 234 212 / 0.38) 0%,rgba(94 234 212 / 0) 70%),radial-gradient(circle at 74% 76%,rgba(190 242 100 / 0.32) 0%,rgba(190 242 100 / 0) 78%);
  --bg-glow-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20400%20400%27%3E%3CradialGradient%20id%3D%27g%27%20cx%3D%270.32%27%20cy%3D%270.28%27%20r%3D%270.6%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%235eead4%27%20stop-opacity%3D%270.45%27/%3E%3Cstop%20offset%3D%2775%25%27%20stop-color%3D%27%235eead4%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3CradialGradient%20id%3D%27g2%27%20cx%3D%270.78%27%20cy%3D%270.74%27%20r%3D%270.7%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%23bef264%27%20stop-opacity%3D%270.35%27/%3E%3Cstop%20offset%3D%2780%25%27%20stop-color%3D%27%23bef264%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g%29%27/%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g2%29%27/%3E%3C/svg%3E");
  --bg-particles:radial-gradient(circle at 18% 22%,rgba(16 185 129 / var(--bg-particle-alpha-1,.4)) 0 2px,transparent 60px),radial-gradient(circle at 75% 35%,rgba(20 184 166 / var(--bg-particle-alpha-2,.28)) 0 1.5px,transparent 55px),radial-gradient(circle at 42% 78%,rgba(163 230 53 / var(--bg-particle-alpha-3,.2)) 0 1px,transparent 48px);
  --bg-particles-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20200%20200%27%3E%3Ccircle%20cx%3D%2736%27%20cy%3D%2740%27%20r%3D%275%27%20fill%3D%27%2310b981%27%20fill-opacity%3D%270.35%27/%3E%3Ccircle%20cx%3D%27156%27%20cy%3D%2764%27%20r%3D%274%27%20fill%3D%27%2314b8a6%27%20fill-opacity%3D%270.3%27/%3E%3Ccircle%20cx%3D%2790%27%20cy%3D%27160%27%20r%3D%273%27%20fill%3D%27%23a3e635%27%20fill-opacity%3D%270.24%27/%3E%3Ccircle%20cx%3D%27128%27%20cy%3D%27120%27%20r%3D%272.6%27%20fill%3D%27%2310b981%27%20fill-opacity%3D%270.26%27/%3E%3C/svg%3E");
  --bg-noise:linear-gradient(120deg,rgba(16 185 129 / 0.16) 0%,transparent 58%),linear-gradient(220deg,rgba(20 184 166 / 0.12) 18%,transparent 70%);
  --bg-noise-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20120%20120%27%3E%3Crect%20width%3D%27120%27%20height%3D%27120%27%20fill%3D%27%23041a19%27%20opacity%3D%270.06%27/%3E%3Ccircle%20cx%3D%2726%27%20cy%3D%2720%27%20r%3D%273%27%20fill%3D%27%2310b981%27%20fill-opacity%3D%270.18%27/%3E%3Ccircle%20cx%3D%2796%27%20cy%3D%2740%27%20r%3D%274%27%20fill%3D%27%2314b8a6%27%20fill-opacity%3D%270.15%27/%3E%3Ccircle%20cx%3D%2758%27%20cy%3D%2796%27%20r%3D%273.2%27%20fill%3D%27%2310b981%27%20fill-opacity%3D%270.16%27/%3E%3Ccircle%20cx%3D%2776%27%20cy%3D%2768%27%20r%3D%272.4%27%20fill%3D%27%2314b8a6%27%20fill-opacity%3D%270.18%27/%3E%3Crect%20x%3D%2720%27%20y%3D%2756%27%20width%3D%2710%27%20height%3D%271.6%27%20fill%3D%27%2310b981%27%20fill-opacity%3D%270.18%27/%3E%3Crect%20x%3D%2790%27%20y%3D%2722%27%20width%3D%278%27%20height%3D%271.2%27%20fill%3D%27%2314b8a6%27%20fill-opacity%3D%270.16%27/%3E%3C/svg%3E");
}
:root.theme-mystic{
  --bg-gradient-opacity:.83;
  --bg-overlay-opacity:.74;
  --bg-gradient:conic-gradient(from 140deg at 50% 50%, rgba(99 102 241 / 0.12) 0deg,rgba(99 102 241 / 0.35) 140deg,rgba(236 72 153 / 0.26) 220deg,rgba(168 85 247 / 0.38) 320deg,rgba(99 102 241 / 0.12) 360deg);
  --bg-gradient-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20400%20400%27%3E%3Cdefs%3E%3CradialGradient%20id%3D%27g%27%20cx%3D%270.35%27%20cy%3D%270.25%27%20r%3D%270.75%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%236366f1%27%20stop-opacity%3D%270.6%27/%3E%3Cstop%20offset%3D%2755%25%27%20stop-color%3D%27%23ec4899%27%20stop-opacity%3D%270.28%27/%3E%3Cstop%20offset%3D%27100%25%27%20stop-color%3D%27%231a1345%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3CradialGradient%20id%3D%27g2%27%20cx%3D%270.72%27%20cy%3D%270.78%27%20r%3D%270.9%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%23a855f7%27%20stop-opacity%3D%270.42%27/%3E%3Cstop%20offset%3D%2770%25%27%20stop-color%3D%27%231a1345%27%20stop-opacity%3D%270.05%27/%3E%3Cstop%20offset%3D%27100%25%27%20stop-color%3D%27%231a1345%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3C/defs%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27%231a1345%27%20opacity%3D%270.08%27/%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g%29%27/%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g2%29%27/%3E%3C/svg%3E");
  --bg-gradient-avif:none;
  --bg-glow:radial-gradient(circle at 30% 24%,rgba(196 181 253 / 0.38) 0%,rgba(196 181 253 / 0) 70%),radial-gradient(circle at 74% 76%,rgba(249 168 212 / 0.32) 0%,rgba(249 168 212 / 0) 78%);
  --bg-glow-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20400%20400%27%3E%3CradialGradient%20id%3D%27g%27%20cx%3D%270.32%27%20cy%3D%270.28%27%20r%3D%270.6%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%23c4b5fd%27%20stop-opacity%3D%270.45%27/%3E%3Cstop%20offset%3D%2775%25%27%20stop-color%3D%27%23c4b5fd%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3CradialGradient%20id%3D%27g2%27%20cx%3D%270.78%27%20cy%3D%270.74%27%20r%3D%270.7%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%23f9a8d4%27%20stop-opacity%3D%270.35%27/%3E%3Cstop%20offset%3D%2780%25%27%20stop-color%3D%27%23f9a8d4%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g%29%27/%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g2%29%27/%3E%3C/svg%3E");
  --bg-particles:radial-gradient(circle at 18% 22%,rgba(99 102 241 / var(--bg-particle-alpha-1,.4)) 0 2px,transparent 60px),radial-gradient(circle at 75% 35%,rgba(236 72 153 / var(--bg-particle-alpha-2,.28)) 0 1.5px,transparent 55px),radial-gradient(circle at 42% 78%,rgba(168 85 247 / var(--bg-particle-alpha-3,.2)) 0 1px,transparent 48px);
  --bg-particles-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20200%20200%27%3E%3Ccircle%20cx%3D%2736%27%20cy%3D%2740%27%20r%3D%275%27%20fill%3D%27%236366f1%27%20fill-opacity%3D%270.35%27/%3E%3Ccircle%20cx%3D%27156%27%20cy%3D%2764%27%20r%3D%274%27%20fill%3D%27%23ec4899%27%20fill-opacity%3D%270.3%27/%3E%3Ccircle%20cx%3D%2790%27%20cy%3D%27160%27%20r%3D%273%27%20fill%3D%27%23a855f7%27%20fill-opacity%3D%270.24%27/%3E%3Ccircle%20cx%3D%27128%27%20cy%3D%27120%27%20r%3D%272.6%27%20fill%3D%27%236366f1%27%20fill-opacity%3D%270.26%27/%3E%3C/svg%3E");
  --bg-noise:linear-gradient(120deg,rgba(99 102 241 / 0.16) 0%,transparent 58%),linear-gradient(220deg,rgba(236 72 153 / 0.12) 18%,transparent 70%);
  --bg-noise-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20120%20120%27%3E%3Crect%20width%3D%27120%27%20height%3D%27120%27%20fill%3D%27%231a1345%27%20opacity%3D%270.06%27/%3E%3Ccircle%20cx%3D%2726%27%20cy%3D%2720%27%20r%3D%273%27%20fill%3D%27%236366f1%27%20fill-opacity%3D%270.18%27/%3E%3Ccircle%20cx%3D%2796%27%20cy%3D%2740%27%20r%3D%274%27%20fill%3D%27%23ec4899%27%20fill-opacity%3D%270.15%27/%3E%3Ccircle%20cx%3D%2758%27%20cy%3D%2796%27%20r%3D%273.2%27%20fill%3D%27%236366f1%27%20fill-opacity%3D%270.16%27/%3E%3Ccircle%20cx%3D%2776%27%20cy%3D%2768%27%20r%3D%272.4%27%20fill%3D%27%23ec4899%27%20fill-opacity%3D%270.18%27/%3E%3Crect%20x%3D%2720%27%20y%3D%2756%27%20width%3D%2710%27%20height%3D%271.6%27%20fill%3D%27%236366f1%27%20fill-opacity%3D%270.18%27/%3E%3Crect%20x%3D%2790%27%20y%3D%2722%27%20width%3D%278%27%20height%3D%271.2%27%20fill%3D%27%23ec4899%27%20fill-opacity%3D%270.16%27/%3E%3C/svg%3E");
}
:root.theme-forest{--bg-color:#071811;--bg:var(--bg-color) url('../images/Forest.PNG?v=2') center/cover no-repeat;--bg-image-set:image-set(url('../images/Forest.PNG?v=2') type('image/png') 1x);--bg-attachment:fixed;--surface:rgba(16,45,31,.92);--surface-2:rgba(10,32,22,.92);--text:#f1f7f3;--muted:#a3c9b5;--accent:#1f9d5c;--accent-2:#7dcfb6;--line:rgba(31,157,92,.38);--shadow:0 26px 50px -28px rgba(5,18,11,.85);--text-on-accent:#f4fff6;--success:#34d399;--error:#f97066;--icon-success:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none' stroke='%2334d399' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M5 10l3 3 7-7'/%3E%3C/svg%3E");--icon-error:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none' stroke='%23f97066' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 6l8 8M6 14l8-8'/%3E%3C/svg%3E");--tab-bg:color-mix(in srgb,var(--surface-2) 62%, var(--accent) 38%);--tab-bg-hover:color-mix(in srgb,var(--surface-2) 45%, var(--accent) 55%);--tab-bg-active:color-mix(in srgb,var(--accent) 78%, var(--surface) 22%);--tab-border:color-mix(in srgb,var(--accent) 55%, transparent);--tab-fg:color-mix(in srgb,var(--accent) 80%, var(--text) 20%)}
:root.theme-ocean{--bg-color:#051320;--bg:var(--bg-color) url('../images/Ocean.PNG?v=2') center/cover no-repeat;--bg-image-set:image-set(url('../images/Ocean.PNG?v=2') type('image/png') 1x);--bg-attachment:fixed;--surface:rgba(12,36,58,.92);--surface-2:rgba(6,25,44,.94);--text:#e7f8ff;--muted:#9ac2da;--accent:#0ea5e9;--accent-2:#22d3ee;--line:rgba(14,165,233,.32);--shadow:0 26px 50px -28px rgba(5,19,32,.85);--text-on-accent:#04121d;--success:#2dd4bf;--error:#fb7185;--icon-success:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none' stroke='%232dd4bf' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M5 10l3 3 7-7'/%3E%3C/svg%3E");--icon-error:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none' stroke='%23fb7185' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 6l8 8M6 14l8-8'/%3E%3C/svg%3E");--tab-bg:color-mix(in srgb,var(--surface-2) 60%, var(--accent) 40%);--tab-bg-hover:color-mix(in srgb,var(--surface-2) 42%, var(--accent) 58%);--tab-bg-active:color-mix(in srgb,var(--accent) 80%, var(--surface) 20%);--tab-border:color-mix(in srgb,var(--accent) 55%, transparent);--tab-fg:color-mix(in srgb,var(--accent) 78%, var(--text) 22%)}
:root.theme-mutant{--bg-color:#15041f;--bg:var(--bg-color) url('../images/Mutant.PNG?v=2') center/cover no-repeat;--bg-image-set:image-set(url('../images/Mutant.PNG?v=2') type('image/png') 1x);--bg-attachment:fixed;--surface:rgba(40,12,58,.92);--surface-2:rgba(28,8,44,.94);--text:#fdf2ff;--muted:#d6b4f5;--accent:#d946ef;--accent-2:#22d3ee;--line:rgba(217,70,239,.32);--shadow:0 26px 50px -28px rgba(18,4,28,.88);--text-on-accent:#2b0b36;--success:#5af78d;--error:#fb7185;--icon-success:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none' stroke='%235af78d' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M5 10l3 3 7-7'/%3E%3C/svg%3E");--icon-error:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none' stroke='%23fb7185' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 6l8 8M6 14l8-8'/%3E%3C/svg%3E");--tab-bg:color-mix(in srgb,var(--surface-2) 62%, var(--accent) 38%);--tab-bg-hover:color-mix(in srgb,var(--surface-2) 44%, var(--accent) 56%);--tab-bg-active:color-mix(in srgb,var(--accent) 78%, var(--surface) 22%);--tab-border:color-mix(in srgb,var(--accent) 55%, transparent);--tab-fg:color-mix(in srgb,var(--accent) 82%, var(--text) 18%)}
:root.theme-enhanced{--bg-color:#050e1a;--bg:var(--bg-color) url('../images/Enhanced Human.PNG?v=2') center/cover no-repeat;--bg-image-set:image-set(url('../images/Enhanced Human.PNG?v=2') type('image/png') 1x);--bg-attachment:fixed;--surface:rgba(13,30,48,.92);--surface-2:rgba(8,22,38,.94);--text:#e6f3ff;--muted:#9eb9d8;--accent:#2563eb;--accent-2:#22d3ee;--line:rgba(37,99,235,.32);--shadow:0 26px 50px -28px rgba(5,14,26,.88);--text-on-accent:#f8fafc;--success:#34d399;--error:#fb7185;--icon-success:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none' stroke='%2334d399' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M5 10l3 3 7-7'/%3E%3C/svg%3E");--icon-error:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none' stroke='%23fb7185' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 6l8 8M6 14l8-8'/%3E%3C/svg%3E");--tab-bg:color-mix(in srgb,var(--surface-2) 60%, var(--accent) 40%);--tab-bg-hover:color-mix(in srgb,var(--surface-2) 42%, var(--accent) 58%);--tab-bg-active:color-mix(in srgb,var(--accent) 78%, var(--surface) 22%);--tab-border:color-mix(in srgb,var(--accent) 55%, transparent);--tab-fg:color-mix(in srgb,var(--accent) 78%, var(--text) 22%)}
:root.theme-magic{--bg-color:#190527;--bg:var(--bg-color) url('../images/Magic User.PNG?v=2') center/cover no-repeat;--bg-image-set:image-set(url('../images/Magic User.PNG?v=2') type('image/png') 1x);--bg-attachment:fixed;--surface:rgba(54,18,84,.92);--surface-2:rgba(36,12,60,.94);--text:#f6edff;--muted:#d9b4fe;--accent:#a855f7;--accent-2:#f973c5;--line:rgba(168,85,247,.36);--shadow:0 26px 50px -28px rgba(24,5,39,.88);--text-on-accent:#fdf4ff;--success:#34d399;--error:#fb7185;--icon-success:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none' stroke='%2334d399' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M5 10l3 3 7-7'/%3E%3C/svg%3E");--icon-error:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none' stroke='%23fb7185' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 6l8 8M6 14l8-8'/%3E%3C/svg%3E");--tab-bg:color-mix(in srgb,var(--surface-2) 62%, var(--accent) 38%);--tab-bg-hover:color-mix(in srgb,var(--surface-2) 44%, var(--accent) 56%);--tab-bg-active:color-mix(in srgb,var(--accent) 78%, var(--surface) 22%);--tab-border:color-mix(in srgb,var(--accent) 55%, transparent);--tab-fg:color-mix(in srgb,var(--accent) 82%, var(--text) 18%)}
:root.theme-alien{--bg-color:#041a19;--bg:var(--bg-color) url('../images/Alien:Extraterrestrial.PNG?v=2') center/cover no-repeat;--bg-image-set:image-set(url('../images/Alien:Extraterrestrial.PNG?v=2') type('image/png') 1x);--bg-attachment:fixed;--surface:rgba(8,40,38,.92);--surface-2:rgba(12,24,52,.94);--text:#e4fbf7;--muted:#7bd6c8;--accent:#12f7d6;--accent-2:#7c4dff;--line:rgba(18,247,214,.32);--shadow:0 26px 50px -28px rgba(4,26,25,.88);--text-on-accent:#022724;--success:#5af78d;--error:#ff6bb5;--icon-success:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none' stroke='%235af78d' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M5 10l3 3 7-7'/%3E%3C/svg%3E");--icon-error:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none' stroke='%23ff6bb5' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 6l8 8M6 14l8-8'/%3E%3C/svg%3E");--tab-bg:color-mix(in srgb,var(--surface-2) 60%, var(--accent) 40%);--tab-bg-hover:color-mix(in srgb,var(--surface-2) 42%, var(--accent) 58%);--tab-bg-active:color-mix(in srgb,var(--accent) 78%, var(--surface) 22%);--tab-border:color-mix(in srgb,var(--accent) 55%, transparent);--tab-fg:color-mix(in srgb,var(--accent) 78%, var(--text) 22%)}
:root.theme-mystic{--bg-color:#1a1345;--bg:var(--bg-color) url('../images/Mystical Being.PNG?v=2') center/cover no-repeat;--bg-image-set:image-set(url('../images/Mystical Being.PNG?v=2') type('image/png') 1x);--bg-attachment:fixed;--surface:rgba(40,26,92,.92);--surface-2:rgba(28,18,70,.94);--text:#fef8e7;--muted:#f4d88f;--accent:#f4c95d;--accent-2:#7c3aed;--line:rgba(244,201,93,.32);--shadow:0 26px 50px -28px rgba(19,14,48,.88);--text-on-accent:#271b02;--success:#fde68a;--error:#fb7185;--icon-success:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none' stroke='%23fde68a' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M5 10l3 3 7-7'/%3E%3C/svg%3E");--icon-error:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none' stroke='%23fb7185' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 6l8 8M6 14l8-8'/%3E%3C/svg%3E");--tab-bg:color-mix(in srgb,var(--surface-2) 60%, var(--accent) 40%);--tab-bg-hover:color-mix(in srgb,var(--surface-2) 42%, var(--accent) 58%);--tab-bg-active:color-mix(in srgb,var(--accent) 78%, var(--surface) 22%);--tab-border:color-mix(in srgb,var(--accent) 55%, transparent);--tab-fg:color-mix(in srgb,var(--accent) 82%, var(--text) 18%)}



:root{
  --bg-gradient:conic-gradient(from 140deg at 50% 50%, rgba(79 70 229 / 0.12) 0deg,rgba(79 70 229 / 0.35) 140deg,rgba(14 197 255 / 0.26) 220deg,rgba(255 94 130 / 0.38) 320deg,rgba(79 70 229 / 0.12) 360deg);
  --bg-gradient-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20400%20400%27%3E%3Cdefs%3E%3CradialGradient%20id%3D%27g%27%20cx%3D%270.35%27%20cy%3D%270.25%27%20r%3D%270.75%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%234f46e5%27%20stop-opacity%3D%270.6%27/%3E%3Cstop%20offset%3D%2755%25%27%20stop-color%3D%27%230ec5ff%27%20stop-opacity%3D%270.28%27/%3E%3Cstop%20offset%3D%27100%25%27%20stop-color%3D%27%23070b16%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3CradialGradient%20id%3D%27g2%27%20cx%3D%270.72%27%20cy%3D%270.78%27%20r%3D%270.9%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%23ff5e82%27%20stop-opacity%3D%270.42%27/%3E%3Cstop%20offset%3D%2770%25%27%20stop-color%3D%27%23070b16%27%20stop-opacity%3D%270.05%27/%3E%3Cstop%20offset%3D%27100%25%27%20stop-color%3D%27%23070b16%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3C/defs%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27%23070b16%27%20opacity%3D%270.08%27/%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g%29%27/%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g2%29%27/%3E%3C/svg%3E");
  --bg-gradient-avif:none;
  --bg-gradient-opacity:.75;
  --bg-gradient-scale:1.35;
  --bg-gradient-duration:120s;
  --bg-gradient-animation-timing:linear;
  --bg-gradient-start-angle:0deg;
  --bg-gradient-blend-mode:screen;
  --bg-gradient-svg-blend-mode:screen;
  --bg-gradient-filter:blur(0) saturate(115%);
  --bg-gradient-size:160% 160%;
  --bg-gradient-svg-size:160% 160%;
  --bg-gradient-position:center;
  --bg-gradient-svg-position:center;
  --bg-gradient-transition:opacity .6s ease,transform 1.6s ease;
  --bg-glow:radial-gradient(circle at 30% 24%,rgba(96 165 250 / 0.38) 0%,rgba(96 165 250 / 0) 70%),radial-gradient(circle at 74% 76%,rgba(14 197 255 / 0.32) 0%,rgba(14 197 255 / 0) 78%);
  --bg-glow-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20400%20400%27%3E%3CradialGradient%20id%3D%27g%27%20cx%3D%270.32%27%20cy%3D%270.28%27%20r%3D%270.6%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%2360a5fa%27%20stop-opacity%3D%270.45%27/%3E%3Cstop%20offset%3D%2775%25%27%20stop-color%3D%27%2360a5fa%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3CradialGradient%20id%3D%27g2%27%20cx%3D%270.78%27%20cy%3D%270.74%27%20r%3D%270.7%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%230ec5ff%27%20stop-opacity%3D%270.35%27/%3E%3Cstop%20offset%3D%2780%25%27%20stop-color%3D%27%230ec5ff%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g%29%27/%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g2%29%27/%3E%3C/svg%3E");
  --bg-glow-size:240% 240%,180% 180%;
  --bg-glow-svg-size:240% 240%;
  --bg-glow-position:32% 24%,74% 76%;
  --bg-glow-svg-position:36% 30%;
  --bg-glow-blend-mode:screen,color-dodge;
  --bg-glow-svg-blend-mode:color-dodge;
  --bg-overlay-mix-mode:screen;
  --bg-particle-alpha-1:.4;
  --bg-particle-alpha-2:.28;
  --bg-particle-alpha-3:.2;
  --bg-particles:radial-gradient(circle at 18% 22%,rgba(79 70 229 / var(--bg-particle-alpha-1,.4)) 0 2px,transparent 60px),radial-gradient(circle at 75% 35%,rgba(14 197 255 / var(--bg-particle-alpha-2,.28)) 0 1.5px,transparent 55px),radial-gradient(circle at 42% 78%,rgba(255 94 130 / var(--bg-particle-alpha-3,.2)) 0 1px,transparent 48px);
  --bg-particles-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20200%20200%27%3E%3Ccircle%20cx%3D%2736%27%20cy%3D%2740%27%20r%3D%275%27%20fill%3D%27%234f46e5%27%20fill-opacity%3D%270.35%27/%3E%3Ccircle%20cx%3D%27156%27%20cy%3D%2764%27%20r%3D%274%27%20fill%3D%27%230ec5ff%27%20fill-opacity%3D%270.3%27/%3E%3Ccircle%20cx%3D%2790%27%20cy%3D%27160%27%20r%3D%273%27%20fill%3D%27%23ff5e82%27%20fill-opacity%3D%270.24%27/%3E%3Ccircle%20cx%3D%27128%27%20cy%3D%27120%27%20r%3D%272.6%27%20fill%3D%27%234f46e5%27%20fill-opacity%3D%270.26%27/%3E%3C/svg%3E");
  --bg-particles-size:420px 420px,380px 380px,360px 360px;
  --bg-particles-svg-size:460px 460px;
  --bg-particles-position:10% 18%,80% 20%,40% 75%;
  --bg-particles-svg-position:center;
  --bg-particles-blend-mode:screen,screen,screen;
  --bg-particles-svg-blend-mode:screen;
  --bg-parallax-duration:70s;
  --bg-parallax-easing:cubic-bezier(.37,.01,.28,1);
  --bg-parallax-distance:28px;
  --bg-noise:linear-gradient(120deg,rgba(79 70 229 / 0.16) 0%,transparent 58%),linear-gradient(220deg,rgba(14 197 255 / 0.12) 18%,transparent 70%);
  --bg-noise-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20120%20120%27%3E%3Crect%20width%3D%27120%27%20height%3D%27120%27%20fill%3D%27%23070b16%27%20opacity%3D%270.06%27/%3E%3Ccircle%20cx%3D%2726%27%20cy%3D%2720%27%20r%3D%273%27%20fill%3D%27%234f46e5%27%20fill-opacity%3D%270.18%27/%3E%3Ccircle%20cx%3D%2796%27%20cy%3D%2740%27%20r%3D%274%27%20fill%3D%27%230ec5ff%27%20fill-opacity%3D%270.15%27/%3E%3Ccircle%20cx%3D%2758%27%20cy%3D%2796%27%20r%3D%273.2%27%20fill%3D%27%234f46e5%27%20fill-opacity%3D%270.16%27/%3E%3Ccircle%20cx%3D%2776%27%20cy%3D%2768%27%20r%3D%272.4%27%20fill%3D%27%230ec5ff%27%20fill-opacity%3D%270.18%27/%3E%3Crect%20x%3D%2720%27%20y%3D%2756%27%20width%3D%2710%27%20height%3D%271.6%27%20fill%3D%27%234f46e5%27%20fill-opacity%3D%270.18%27/%3E%3Crect%20x%3D%2790%27%20y%3D%2722%27%20width%3D%278%27%20height%3D%271.2%27%20fill%3D%27%230ec5ff%27%20fill-opacity%3D%270.16%27/%3E%3C/svg%3E");
  --bg-noise-size:220% 220%,200% 200%;
  --bg-noise-svg-size:260% 260%;
  --bg-noise-position:30% 36%,72% 68%;
  --bg-noise-svg-position:48% 62%;
  --bg-noise-blend-mode:soft-light,overlay;
  --bg-noise-svg-blend-mode:soft-light;
  --bg-grain-opacity:.12;
  --bg-grain-shadow-opacity:.08;
  --bg-grain:repeating-conic-gradient(from 0deg at 50% 50%,rgba(255 255 255/var(--bg-grain-opacity,.12)) 0deg 12deg,transparent 12deg 24deg),repeating-linear-gradient(135deg,rgba(0 0 0/var(--bg-grain-shadow-opacity,.08)) 0 1px,transparent 1px 3px);
  --bg-grain-size:320px 320px,280px 280px;
  --bg-grain-position:center,center;
  --bg-grain-blend-mode:soft-light,overlay;
  --bg-texture-filter:contrast(110%) brightness(105%);
  --bg-texture-transition:opacity .6s ease,transform 2s ease;
  --bg-overlay-opacity:.78;
  --bg-gradient-opacity-reduced:.45;
  --bg-overlay-opacity-reduced:.38;
}

:root.theme-light{
  --bg-overlay-mix-mode:multiply;
  --bg-gradient-opacity:.62;
  --bg-particle-alpha-1:.26;
  --bg-particle-alpha-2:.2;
  --bg-particle-alpha-3:.16;
  --bg-grain-opacity:.08;
  --bg-grain-shadow-opacity:.05;
  --bg-overlay-opacity:.58;
  --bg-gradient-opacity-reduced:.38;
  --bg-overlay-opacity-reduced:.3;
  --bg-gradient:conic-gradient(from 140deg at 50% 50%, rgba(37 99 235 / 0.12) 0deg,rgba(37 99 235 / 0.35) 140deg,rgba(34 211 238 / 0.26) 220deg,rgba(249 115 22 / 0.38) 320deg,rgba(37 99 235 / 0.12) 360deg);
  --bg-gradient-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20400%20400%27%3E%3Cdefs%3E%3CradialGradient%20id%3D%27g%27%20cx%3D%270.35%27%20cy%3D%270.25%27%20r%3D%270.75%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%232563eb%27%20stop-opacity%3D%270.6%27/%3E%3Cstop%20offset%3D%2755%25%27%20stop-color%3D%27%2322d3ee%27%20stop-opacity%3D%270.28%27/%3E%3Cstop%20offset%3D%27100%25%27%20stop-color%3D%27%23f5f6ff%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3CradialGradient%20id%3D%27g2%27%20cx%3D%270.72%27%20cy%3D%270.78%27%20r%3D%270.9%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%23f97316%27%20stop-opacity%3D%270.42%27/%3E%3Cstop%20offset%3D%2770%25%27%20stop-color%3D%27%23f5f6ff%27%20stop-opacity%3D%270.05%27/%3E%3Cstop%20offset%3D%27100%25%27%20stop-color%3D%27%23f5f6ff%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3C/defs%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27%23f5f6ff%27%20opacity%3D%270.08%27/%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g%29%27/%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g2%29%27/%3E%3C/svg%3E");
  --bg-gradient-avif:none;
  --bg-glow:radial-gradient(circle at 30% 24%,rgba(147 197 253 / 0.38) 0%,rgba(147 197 253 / 0) 70%),radial-gradient(circle at 74% 76%,rgba(253 230 138 / 0.32) 0%,rgba(253 230 138 / 0) 78%);
  --bg-glow-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20400%20400%27%3E%3CradialGradient%20id%3D%27g%27%20cx%3D%270.32%27%20cy%3D%270.28%27%20r%3D%270.6%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%2393c5fd%27%20stop-opacity%3D%270.45%27/%3E%3Cstop%20offset%3D%2775%25%27%20stop-color%3D%27%2393c5fd%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3CradialGradient%20id%3D%27g2%27%20cx%3D%270.78%27%20cy%3D%270.74%27%20r%3D%270.7%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%23fde68a%27%20stop-opacity%3D%270.35%27/%3E%3Cstop%20offset%3D%2780%25%27%20stop-color%3D%27%23fde68a%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g%29%27/%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g2%29%27/%3E%3C/svg%3E");
  --bg-particles:radial-gradient(circle at 18% 22%,rgba(37 99 235 / var(--bg-particle-alpha-1,.4)) 0 2px,transparent 60px),radial-gradient(circle at 75% 35%,rgba(34 211 238 / var(--bg-particle-alpha-2,.28)) 0 1.5px,transparent 55px),radial-gradient(circle at 42% 78%,rgba(249 115 22 / var(--bg-particle-alpha-3,.2)) 0 1px,transparent 48px);
  --bg-particles-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20200%20200%27%3E%3Ccircle%20cx%3D%2736%27%20cy%3D%2740%27%20r%3D%275%27%20fill%3D%27%232563eb%27%20fill-opacity%3D%270.35%27/%3E%3Ccircle%20cx%3D%27156%27%20cy%3D%2764%27%20r%3D%274%27%20fill%3D%27%2322d3ee%27%20fill-opacity%3D%270.3%27/%3E%3Ccircle%20cx%3D%2790%27%20cy%3D%27160%27%20r%3D%273%27%20fill%3D%27%23f97316%27%20fill-opacity%3D%270.24%27/%3E%3Ccircle%20cx%3D%27128%27%20cy%3D%27120%27%20r%3D%272.6%27%20fill%3D%27%232563eb%27%20fill-opacity%3D%270.26%27/%3E%3C/svg%3E");
  --bg-noise:linear-gradient(120deg,rgba(37 99 235 / 0.16) 0%,transparent 58%),linear-gradient(220deg,rgba(34 211 238 / 0.12) 18%,transparent 70%);
  --bg-noise-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20120%20120%27%3E%3Crect%20width%3D%27120%27%20height%3D%27120%27%20fill%3D%27%23f5f6ff%27%20opacity%3D%270.06%27/%3E%3Ccircle%20cx%3D%2726%27%20cy%3D%2720%27%20r%3D%273%27%20fill%3D%27%232563eb%27%20fill-opacity%3D%270.18%27/%3E%3Ccircle%20cx%3D%2796%27%20cy%3D%2740%27%20r%3D%274%27%20fill%3D%27%2322d3ee%27%20fill-opacity%3D%270.15%27/%3E%3Ccircle%20cx%3D%2758%27%20cy%3D%2796%27%20r%3D%273.2%27%20fill%3D%27%232563eb%27%20fill-opacity%3D%270.16%27/%3E%3Ccircle%20cx%3D%2776%27%20cy%3D%2768%27%20r%3D%272.4%27%20fill%3D%27%2322d3ee%27%20fill-opacity%3D%270.18%27/%3E%3Crect%20x%3D%2720%27%20y%3D%2756%27%20width%3D%2710%27%20height%3D%271.6%27%20fill%3D%27%232563eb%27%20fill-opacity%3D%270.18%27/%3E%3Crect%20x%3D%2790%27%20y%3D%2722%27%20width%3D%278%27%20height%3D%271.2%27%20fill%3D%27%2322d3ee%27%20fill-opacity%3D%270.16%27/%3E%3C/svg%3E");
}
:root.theme-high{
  --bg-overlay-mix-mode:screen;
  --bg-gradient-opacity:.85;
  --bg-particle-alpha-1:.5;
  --bg-particle-alpha-2:.36;
  --bg-particle-alpha-3:.28;
  --bg-grain-opacity:.16;
  --bg-grain-shadow-opacity:.12;
  --bg-overlay-opacity:.86;
  --bg-gradient-opacity-reduced:.55;
  --bg-overlay-opacity-reduced:.45;
  --bg-gradient:conic-gradient(from 140deg at 50% 50%, rgba(14 165 233 / 0.12) 0deg,rgba(14 165 233 / 0.35) 140deg,rgba(249 115 22 / 0.26) 220deg,rgba(244 244 245 / 0.38) 320deg,rgba(14 165 233 / 0.12) 360deg);
  --bg-gradient-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20400%20400%27%3E%3Cdefs%3E%3CradialGradient%20id%3D%27g%27%20cx%3D%270.35%27%20cy%3D%270.25%27%20r%3D%270.75%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%230ea5e9%27%20stop-opacity%3D%270.6%27/%3E%3Cstop%20offset%3D%2755%25%27%20stop-color%3D%27%23f97316%27%20stop-opacity%3D%270.28%27/%3E%3Cstop%20offset%3D%27100%25%27%20stop-color%3D%27%2305060a%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3CradialGradient%20id%3D%27g2%27%20cx%3D%270.72%27%20cy%3D%270.78%27%20r%3D%270.9%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%23f4f4f5%27%20stop-opacity%3D%270.42%27/%3E%3Cstop%20offset%3D%2770%25%27%20stop-color%3D%27%2305060a%27%20stop-opacity%3D%270.05%27/%3E%3Cstop%20offset%3D%27100%25%27%20stop-color%3D%27%2305060a%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3C/defs%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27%2305060a%27%20opacity%3D%270.08%27/%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g%29%27/%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g2%29%27/%3E%3C/svg%3E");
  --bg-gradient-avif:none;
  --bg-glow:radial-gradient(circle at 30% 24%,rgba(56 189 248 / 0.38) 0%,rgba(56 189 248 / 0) 70%),radial-gradient(circle at 74% 76%,rgba(250 204 21 / 0.32) 0%,rgba(250 204 21 / 0) 78%);
  --bg-glow-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20400%20400%27%3E%3CradialGradient%20id%3D%27g%27%20cx%3D%270.32%27%20cy%3D%270.28%27%20r%3D%270.6%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%2338bdf8%27%20stop-opacity%3D%270.45%27/%3E%3Cstop%20offset%3D%2775%25%27%20stop-color%3D%27%2338bdf8%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3CradialGradient%20id%3D%27g2%27%20cx%3D%270.78%27%20cy%3D%270.74%27%20r%3D%270.7%27%3E%3Cstop%20offset%3D%270%25%27%20stop-color%3D%27%23facc15%27%20stop-opacity%3D%270.35%27/%3E%3Cstop%20offset%3D%2780%25%27%20stop-color%3D%27%23facc15%27%20stop-opacity%3D%270%27/%3E%3C/radialGradient%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g%29%27/%3E%3Crect%20width%3D%27400%27%20height%3D%27400%27%20fill%3D%27url%28%23g2%29%27/%3E%3C/svg%3E");
  --bg-particles:radial-gradient(circle at 18% 22%,rgba(14 165 233 / var(--bg-particle-alpha-1,.4)) 0 2px,transparent 60px),radial-gradient(circle at 75% 35%,rgba(249 115 22 / var(--bg-particle-alpha-2,.28)) 0 1.5px,transparent 55px),radial-gradient(circle at 42% 78%,rgba(244 244 245 / var(--bg-particle-alpha-3,.2)) 0 1px,transparent 48px);
  --bg-particles-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20200%20200%27%3E%3Ccircle%20cx%3D%2736%27%20cy%3D%2740%27%20r%3D%275%27%20fill%3D%27%230ea5e9%27%20fill-opacity%3D%270.35%27/%3E%3Ccircle%20cx%3D%27156%27%20cy%3D%2764%27%20r%3D%274%27%20fill%3D%27%23f97316%27%20fill-opacity%3D%270.3%27/%3E%3Ccircle%20cx%3D%2790%27%20cy%3D%27160%27%20r%3D%273%27%20fill%3D%27%23f4f4f5%27%20fill-opacity%3D%270.24%27/%3E%3Ccircle%20cx%3D%27128%27%20cy%3D%27120%27%20r%3D%272.6%27%20fill%3D%27%230ea5e9%27%20fill-opacity%3D%270.26%27/%3E%3C/svg%3E");
  --bg-noise:linear-gradient(120deg,rgba(14 165 233 / 0.16) 0%,transparent 58%),linear-gradient(220deg,rgba(249 115 22 / 0.12) 18%,transparent 70%);
  --bg-noise-svg:url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20120%20120%27%3E%3Crect%20width%3D%27120%27%20height%3D%27120%27%20fill%3D%27%2305060a%27%20opacity%3D%270.06%27/%3E%3Ccircle%20cx%3D%2726%27%20cy%3D%2720%27%20r%3D%273%27%20fill%3D%27%230ea5e9%27%20fill-opacity%3D%270.18%27/%3E%3Ccircle%20cx%3D%2796%27%20cy%3D%2740%27%20r%3D%274%27%20fill%3D%27%23f97316%27%20fill-opacity%3D%270.15%27/%3E%3Ccircle%20cx%3D%2758%27%20cy%3D%2796%27%20r%3D%273.2%27%20fill%3D%27%230ea5e9%27%20fill-opacity%3D%270.16%27/%3E%3Ccircle%20cx%3D%2776%27%20cy%3D%2768%27%20r%3D%272.4%27%20fill%3D%27%23f97316%27%20fill-opacity%3D%270.18%27/%3E%3Crect%20x%3D%2720%27%20y%3D%2756%27%20width%3D%2710%27%20height%3D%271.6%27%20fill%3D%27%230ea5e9%27%20fill-opacity%3D%270.18%27/%3E%3Crect%20x%3D%2790%27%20y%3D%2722%27%20width%3D%278%27%20height%3D%271.2%27%20fill%3D%27%23f97316%27%20fill-opacity%3D%270.16%27/%3E%3C/svg%3E");
}
*,*::before,*::after{box-sizing:border-box}

.menu button,
.card-menu__item,
.field-value__expander,
.dm-mini-games__knob-title,
.dm-mini-games__knob-toggle,
.cc-btn,
.cc-tabs__nav button,
.somf-btn,
.somf-dm__tabs button,
.somf-dm__list li,
.somf-dm__link,
.somf-dm__queue li,
.power-preset-menu__group-title,
.power-preset-menu__subgroup-title{transition:var(--transition)}
img,video{max-width:100%;height:auto}
html{-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;text-size-adjust:100%}
body,h1,h2,h3,h4,p,figure,blockquote,dl,dd{margin:0}
html{height:100%;background:var(--bg);background-position:center;background-size:cover;background-repeat:no-repeat;background-attachment:var(--bg-attachment,scroll);transition:var(--transition);scroll-behavior:smooth;-webkit-tap-highlight-color:transparent}@supports (background-image:image-set(url('data:image/avif;base64,AA==') type('image/avif'))){html{background-image:var(--bg-image-set);}}@media (hover: hover) and (pointer: fine){html{background-attachment:var(--bg-attachment, fixed);}}@media (pointer: coarse){html{background-attachment:scroll;}}
body{min-height:100%;margin:0;background:transparent;color:var(--text);font-family:'Inter',system-ui,-apple-system,Segoe UI,Arial,sans-serif;-webkit-font-smoothing:antialiased;overflow-x:hidden;overflow-y:auto;touch-action:pan-y;overscroll-behavior-x:none;overscroll-behavior-y:none;scrollbar-gutter:stable both-edges;line-height:1.6;font-size:clamp(.95rem,2.2vw,1rem);transition:var(--transition);opacity:1;padding:0;position:relative;isolation:isolate}
body::before,body::after{content:none;display:none}
body.launching{overflow:hidden;height:100vh;height:100dvh;background:#000}

.app-shell{
  --shell-width:100vw;
  opacity:1;
  transition:opacity .6s ease;
  min-height:100vh;
  min-height:100dvh;
  display:flex;
  flex-direction:column;
  width:100%;
  max-width:100vw;
  margin:0;
}
body.launching .app-shell{opacity:0}
html.player-tools-open{overflow:hidden;overscroll-behavior:none}
body.player-tools-open{overflow:hidden}
body.player-tools-open .app-shell{touch-action:none}
body.player-tools-open .player-tools-drawer,
body.player-tools-open .player-tools-drawer__content{touch-action:pan-y}
#launch-animation{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;padding:0;background:#000;z-index:2000;opacity:0;pointer-events:none;transition:opacity .6s ease,visibility .6s ease;visibility:hidden;width:100vw;height:100vh;height:100dvh;min-height:100vh;min-height:100dvh;box-sizing:border-box}
body.launching #launch-animation{opacity:1;visibility:visible;pointer-events:auto}
#launch-animation[data-hidden="true"]{opacity:0;visibility:hidden;pointer-events:none}
#launch-animation video{width:calc(100% + constant(safe-area-inset-left) + constant(safe-area-inset-right));height:calc(100% + constant(safe-area-inset-top) + constant(safe-area-inset-bottom));margin-left:calc(-1 * constant(safe-area-inset-left));margin-right:calc(-1 * constant(safe-area-inset-right));margin-top:calc(-1 * constant(safe-area-inset-top));margin-bottom:calc(-1 * constant(safe-area-inset-bottom));width:calc(100% + env(safe-area-inset-left) + env(safe-area-inset-right));height:calc(100% + env(safe-area-inset-top) + env(safe-area-inset-bottom));margin-left:calc(-1 * env(safe-area-inset-left));margin-right:calc(-1 * env(safe-area-inset-right));margin-top:calc(-1 * env(safe-area-inset-top));margin-bottom:calc(-1 * env(safe-area-inset-bottom));max-width:100%;max-height:100%;display:block;object-fit:contain;background-color:#000;pointer-events:none;-webkit-appearance:none;appearance:none}
#launch-animation video::-webkit-media-controls{display:none!important}
#launch-animation video::-webkit-media-controls-start-playback-button{display:none!important}
#launch-animation video::-webkit-media-controls-overlay-play-button{display:none!important}
#launch-animation video::-webkit-media-controls-panel{display:none!important}
#launch-animation video::-webkit-media-controls-enclosure{display:none!important}
#launch-animation video::-webkit-media-controls-play-button{display:none!important}
#launch-animation video::-webkit-media-controls-fullscreen-button{display:none!important}
#launch-animation video::-webkit-media-controls-background{display:none!important}
#launch-animation video::-webkit-media-controls-volume-slider{display:none!important}
#launch-animation video::-webkit-media-controls-timeline{display:none!important}
#launch-animation video::-webkit-media-controls-current-time-display{display:none!important}
#launch-animation video::-webkit-media-controls-time-remaining-display{display:none!important}
#launch-animation video::-webkit-media-controls-mute-button{display:none!important}
.launch-animation__skip{position:absolute;left:50%;bottom:20px;bottom:calc(20px + env(safe-area-inset-bottom, 0px));transform:translateX(-50%);background:none;border:none;color:rgba(255,255,255,.85);font:inherit;text-transform:none;letter-spacing:normal;text-shadow:none;text-decoration:underline;text-decoration-thickness:.08em;text-underline-offset:.2em;padding:0;cursor:pointer;pointer-events:auto;z-index:1;touch-action:manipulation;-webkit-appearance:none;appearance:none;border-radius:0;-webkit-tap-highlight-color:transparent}
.launch-animation__skip:focus-visible{outline:none;text-decoration-thickness:.12em;text-underline-offset:.18em;color:var(--accent)}
body:not(.no-hover) .launch-animation__skip:hover{color:var(--accent)}
::selection{background:var(--accent);color:var(--text-on-accent)}
h1,h2,h3,h4{font-family:'CFTechnoMania Slanted','Inter',system-ui,-apple-system,Segoe UI,Arial,sans-serif;letter-spacing:var(--title-letter-spacing);word-spacing:var(--title-word-spacing);line-height:1.25;margin:0 0 .5em}
h1{font-size:clamp(1.75rem,4.6vw,2rem);font-weight:700;color:var(--accent)}
h2{font-size:clamp(1.35rem,3.8vw,1.5rem);font-weight:600;color:var(--accent)}
h3{font-size:clamp(1.1rem,3.2vw,1.25rem);font-weight:600}
h4{font-size:clamp(1rem,2.8vw,1.1rem);font-weight:600}
header{
  --header-padding-block:calc(4px * 1.15);
  position:sticky;
  top:0;
  left:0;
  right:0;
  z-index:200;
  background:var(--surface);
  box-shadow:var(--shadow);
  padding-top:calc(var(--header-padding-block) + env(safe-area-inset-top, 0px));
  padding-bottom:0;
  display:flex;
  flex-direction:column;
  gap:0;
  isolation:isolate;
  width:100%;
  max-width:100%;
  flex:0 0 auto;
}
header > .top{margin-bottom:calc(6px * 1.15);}
header.hide-tabs .tabs{opacity:0;pointer-events:none;transform:translateY(calc(-10px * 1.15))}
header::before{content:none}
@supports ((-webkit-backdrop-filter:blur(0)) or (backdrop-filter:blur(0))){
  header{background:color-mix(in srgb,var(--surface) 92%, transparent)}
  header::before{content:"";position:absolute;inset:0;background:color-mix(in srgb,var(--surface) 92%, transparent);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);pointer-events:none;z-index:-1}
}
.actions{display:flex;gap:var(--control-gap);flex-wrap:wrap}
.actions.actions--center{justify-content:center}
.dropdown{position:relative;display:flex;align-items:center;justify-content:flex-end;flex:0 0 auto;justify-self:end;grid-area:menu;gap:clamp(8px,2vw,14px)}
.menu-toggle{display:flex;align-items:center;flex:0 0 auto}
.menu-surface{position:relative;flex:0 0 auto}
.menu{position:absolute;top:calc(100% + 4px);right:0;display:flex;flex-direction:column;background:var(--surface-2);border-radius:var(--radius);box-shadow:var(--shadow);z-index:50;opacity:0;transform:translateY(-8px) scale(.99);visibility:hidden;transition:opacity .24s cubic-bezier(.22,1,.36,1),transform .24s cubic-bezier(.22,1,.36,1);pointer-events:none;transform-origin:top right;will-change:opacity,transform;--menu-item-stagger:80ms}
.menu.show,.menu[data-state="opening"],.menu[data-state="open"]{opacity:1;transform:translateY(0) scale(1);visibility:visible;pointer-events:auto}
.menu button{background:transparent;color:var(--text);border:none;padding:clamp(6px,2.2vw,10px) clamp(10px,3.6vw,14px);text-align:left;font-weight:400;min-height:auto;white-space:nowrap;--menu-item-index:0;animation:menuItemDrop .3s cubic-bezier(.22,1,.36,1);animation-delay:calc(var(--menu-item-index, 0) * var(--menu-item-stagger, 80ms));animation-fill-mode:both;animation-play-state:paused}
.menu.show button,.menu[data-state="opening"] button,.menu[data-state="open"] button{animation-play-state:running}
body:not(.no-hover) .menu button:hover{background:var(--accent);color:var(--text-on-accent)}
.menu .btn-sm{justify-content:flex-start}

@keyframes menuItemDrop{0%{opacity:0;transform:translateY(-6px)}to{opacity:1;transform:translateY(0)}}


@media(max-width:600px){
  .actions{justify-content:center}
}
.icon,.tab{padding:clamp(2px,1vw,4px);height:calc(var(--icon-size)*1.05);min-height:calc(var(--icon-size)*1.2);border-radius:var(--radius);background:var(--surface-2);color:var(--accent);display:inline-flex;align-items:center;justify-content:center;transition:var(--transition);cursor:pointer;touch-action:manipulation}
.icon{width:calc(var(--icon-size)*1.8)}
.tab{
  min-width:calc(var(--icon-size)*1.8);
  flex:1 1 calc(var(--icon-size)*1.8);
}
.icon svg,.tab svg{width:var(--icon-size);height:var(--icon-size)}
.modal .x svg{width:18px;height:18px}
.icon svg{transition:transform .3s ease}
.menu-toggle[data-state="opening"] svg,.menu-toggle[data-state="open"] svg,.menu-toggle[data-state="closing"] svg{transform:rotate(90deg)}
body:not(.no-hover) .icon:hover,body:not(.no-hover) .tab:hover{background:var(--accent);color:var(--text-on-accent);transform:translateY(-1px)}
.icon:active{transform:translateY(1px)}
.modal .x:focus-visible,a:focus-visible{outline:2px solid var(--modal-accent-color,var(--accent));outline-offset:2px}
a{color:var(--accent);text-decoration:none}
body:not(.no-hover) a:hover,a:focus{color:var(--accent-2);text-decoration:underline}
.skip-link{position:absolute;left:-999px;top:auto;width:1px;height:1px;overflow:hidden;}
.skip-link:focus{left:8px;top:8px;width:auto;height:auto;background:var(--accent);color:var(--text-on-accent);padding:8px;border-radius:var(--radius);z-index:1000;}
[data-tip]{position:relative;cursor:help;z-index:0;--tip-glow-color:color-mix(in srgb,var(--accent) 60%, transparent);--tip-glow-opacity:.6;--tip-glow-scale:1.04}
[data-tip]::before{content:"";position:absolute;inset:-6px;border-radius:var(--tip-glow-radius, inherit);background:radial-gradient(circle,var(--tip-glow-color) 0%,color-mix(in srgb,var(--tip-glow-color) 65%, transparent) 55%,transparent 75%);opacity:var(--tip-glow-opacity);transform:scale(var(--tip-glow-scale));transition:opacity var(--transition-duration-medium) var(--transition-ease),transform var(--transition-duration-medium) var(--transition-ease);filter:blur(0.4px);pointer-events:none;z-index:-1}
body:not(.no-hover) [data-tip]:hover::before,[data-tip]:focus-visible::before,[data-tip]:focus::before{opacity:0.95;transform:scale(1.08)}
body:not(.no-hover) [data-tip]:hover::after,[data-tip]:focus::after{content:attr(data-tip);position:absolute;bottom:calc(100% + 6px);left:50%;transform:translateX(-50%);background:var(--surface-2);color:var(--text);padding:4px 8px;border-radius:var(--radius);box-shadow:var(--shadow);white-space:nowrap;font-size:.75rem;z-index:1500}
.breadcrumb,.breadcrumbs{display:none}
.top{
  display:grid;
  grid-template-columns:auto minmax(0, 1fr) auto;
  grid-template-areas:"logo title menu";
  align-items:center;
  column-gap:clamp(12px, 4vw, 24px);
  row-gap:calc(6px * 1.15);
  position:relative;
  width:100%;
  max-width:100%;
  margin-inline:0;
  padding-left:calc(clamp(16px, 5vw, 32px) + env(safe-area-inset-left, 0px));
  padding-right:calc(clamp(16px, 5vw, 32px) + env(safe-area-inset-right, 0px));
  margin-top:calc(-1 * env(safe-area-inset-top, 0px));
  padding-top:env(safe-area-inset-top, 0px);
}

@media(max-width:600px){
  .top{
    grid-template-columns:auto minmax(0, 1fr) auto;
    grid-template-areas:"logo title menu";
    row-gap:clamp(8px, 3vw, 12px);
  }
  .tabs-title{
    justify-self:center;
  }
}
.tabs{
  display:flex;
  justify-content:space-evenly;
  align-items:stretch;
  gap:0;
  flex-wrap:wrap;
  width:100%;
  max-width:100%;
  margin-inline:0;
  transition:opacity var(--transition-duration-long) var(--transition-ease),transform var(--transition-duration-long) var(--transition-ease);
  position:sticky;
  top:calc(env(safe-area-inset-top, 0px) + var(--header-padding-block));
  z-index:5;
  padding-left:env(safe-area-inset-left, 0px);
  padding-right:env(safe-area-inset-right, 0px);
  padding-bottom:0;
  margin-left:calc(-1 * env(safe-area-inset-left, 0px));
  margin-right:calc(-1 * env(safe-area-inset-right, 0px));
  margin-bottom:-2px;
  background:color-mix(in srgb,var(--surface) 94%, transparent);
  backdrop-filter:blur(8px);
  will-change:opacity,transform;
  --tab-indicator-thickness:clamp(3px,1vw,6px);
  --tab-indicator-inline-offset:clamp(8px,3vw,14px);
}
.tabs-title{
  padding:0 8px;
  font-size:clamp(1.1rem,3.6vw,1.75rem);
  white-space:nowrap;
  color:var(--accent);
  font-weight:700;
  text-align:center;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  font-family:'CFTechnoMania Slanted','Inter',system-ui,-apple-system,Segoe UI,Arial,sans-serif;letter-spacing:var(--title-letter-spacing);word-spacing:var(--title-word-spacing);
  min-width:0;
  grid-area:title;
  justify-self:center;
}

.tabs-title__label{
  display:inline-flex;
  align-items:center;
}

.sync-status-indicator{
  --sync-indicator-size:clamp(10px,2.5vw,12px);
  --sync-indicator-color:var(--success);
  --sync-indicator-alt:var(--sync-indicator-color);
  --sync-indicator-spark-size:calc(var(--sync-indicator-size) * .35);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:clamp(2px,.9vw,4px);
  margin-left:clamp(8px,2vw,12px);
  border-radius:999px;
  background:color-mix(in srgb,var(--sync-indicator-color) 12%, transparent);
  border:1px solid color-mix(in srgb,var(--sync-indicator-color) 50%, transparent);
  box-shadow:0 2px 6px color-mix(in srgb,var(--sync-indicator-color) 22%, transparent);
  transition:background .3s ease,border-color .3s ease,box-shadow .3s ease;
  min-width:calc(var(--sync-indicator-size) + clamp(6px,1.4vw,10px));
  min-height:calc(var(--sync-indicator-size) + clamp(6px,1.4vw,10px));
  position:relative;
  overflow:visible;
}

.sync-status-indicator::before,
.sync-status-indicator::after{
  content:"";
  position:absolute;
  inset:0;
  margin:auto;
  width:var(--sync-indicator-spark-size);
  height:var(--sync-indicator-spark-size);
  border-radius:999px;
  background:var(--sync-indicator-alt);
  box-shadow:0 0 10px color-mix(in srgb,var(--sync-indicator-alt) 60%, transparent);
  opacity:0;
  transform-origin:center;
  animation:sync-status-orbit 1.6s linear infinite;
  animation-play-state:paused;
  pointer-events:none;
}

.sync-status-indicator::after{
  animation:sync-status-orbit-alt 1.9s linear infinite;
  animation-delay:-.35s;
  background:color-mix(in srgb,var(--sync-indicator-alt) 70%, transparent);
}

.sync-status-indicator__light{
  width:var(--sync-indicator-size);
  height:var(--sync-indicator-size);
  border-radius:999px;
  background:var(--sync-indicator-color);
  box-shadow:0 0 0 1px color-mix(in srgb,var(--sync-indicator-color) 65%, transparent),0 0 8px color-mix(in srgb,var(--sync-indicator-color) 45%, transparent);
  transition:background .3s ease,box-shadow .3s ease,transform .3s ease,opacity .3s ease;
}

.sync-status-indicator[data-status="online"]{
  --sync-indicator-color:var(--success);
  --sync-indicator-alt:color-mix(in srgb,var(--success) 80%, white 20%);
}

.sync-status-indicator[data-status="syncing"]{
  --sync-indicator-color:var(--success);
  --sync-indicator-alt:color-mix(in srgb,var(--success) 70%, var(--accent, #38bdf8) 30%);
}

.sync-status-indicator[data-status="queued"]{
  --sync-indicator-color:var(--warning, #f59e0b);
  background:color-mix(in srgb,var(--warning, #f59e0b) 16%, transparent);
  border-color:color-mix(in srgb,var(--warning, #f59e0b) 50%, transparent);
  box-shadow:0 2px 8px color-mix(in srgb,var(--warning, #f59e0b) 30%, transparent);
}

.sync-status-indicator[data-status="reconnecting"]{
  --sync-indicator-color:var(--success);
  --sync-indicator-alt:var(--warning, #f59e0b);
  background:color-mix(in srgb,var(--success) 14%, transparent);
  border-color:color-mix(in srgb,var(--success) 48%, transparent);
  box-shadow:0 2px 10px color-mix(in srgb,var(--success) 26%, transparent);
}

.sync-status-indicator[data-status="offline"]{
  --sync-indicator-color:var(--error);
  --sync-indicator-alt:color-mix(in srgb,var(--error) 75%, white 25%);
  background:color-mix(in srgb,var(--error) 18%, transparent);
  border-color:color-mix(in srgb,var(--error) 54%, transparent);
  box-shadow:0 2px 8px color-mix(in srgb,var(--error) 32%, transparent);
}

.sync-status-indicator:focus-visible{
  outline:2px solid var(--accent);
  outline-offset:2px;
}

.sync-status-indicator[data-has-errors="true"]{
  box-shadow:0 0 0 2px color-mix(in srgb,var(--error) 45%, transparent),0 3px 12px color-mix(in srgb,var(--error) 35%, transparent);
}

.sync-status-indicator[data-queue-count]:after{
  content:attr(data-queue-count);
  position:absolute;
  top:-6px;
  right:-6px;
  min-width:clamp(16px,4vw,20px);
  padding:0 clamp(4px,1.2vw,6px);
  border-radius:999px;
  background:var(--accent);
  color:var(--text-on-accent);
  font-size:clamp(.55rem,1.8vw,.75rem);
  line-height:1.2;
  font-weight:600;
  box-shadow:0 2px 6px rgba(0,0,0,.35);
  pointer-events:none;
}

.sync-status-indicator[data-status="syncing"]::before,
.sync-status-indicator[data-status="syncing"]::after,
.sync-status-indicator[data-status="reconnecting"]::before,
.sync-status-indicator[data-status="reconnecting"]::after{
  animation-play-state:running;
}

.sync-status-indicator[data-status="syncing"] .sync-status-indicator__light{
  animation:sync-status-pulse 1s ease-in-out infinite;
}

.sync-status-indicator[data-status="reconnecting"] .sync-status-indicator__light{
  animation:sync-status-alternate 1.1s ease-in-out infinite;
}

.sync-status-indicator[data-status="online"]::before,
.sync-status-indicator[data-status="online"]::after,
.sync-status-indicator[data-status="queued"]::before,
.sync-status-indicator[data-status="queued"]::after,
.sync-status-indicator[data-status="offline"]::before,
.sync-status-indicator[data-status="offline"]::after{
  animation-play-state:paused;
  opacity:0;
}

@keyframes sync-status-pulse{
  0%,100%{
    transform:scale(1);
    opacity:1;
    box-shadow:0 0 0 1px color-mix(in srgb,var(--sync-indicator-color) 65%, transparent),0 0 8px color-mix(in srgb,var(--sync-indicator-color) 45%, transparent);
  }
  50%{
    transform:scale(.7);
    opacity:.55;
    box-shadow:0 0 0 4px color-mix(in srgb,var(--sync-indicator-color) 25%, transparent),0 0 14px color-mix(in srgb,var(--sync-indicator-color) 55%, transparent);
  }
}

@keyframes sync-status-orbit{
  0%{
    opacity:0;
    transform:rotate(0deg) translateX(calc(var(--sync-indicator-size) * .9)) rotate(0deg);
  }
  10%{
    opacity:1;
  }
  50%{
    opacity:.85;
  }
  90%{
    opacity:0;
  }
  100%{
    opacity:0;
    transform:rotate(360deg) translateX(calc(var(--sync-indicator-size) * .9)) rotate(-360deg);
  }
}

@keyframes sync-status-orbit-alt{
  0%{
    opacity:0;
    transform:rotate(0deg) translateX(calc(var(--sync-indicator-size) * -.9)) rotate(0deg);
  }
  15%{
    opacity:1;
  }
  55%{
    opacity:.9;
  }
  92%{
    opacity:0;
  }
  100%{
    opacity:0;
    transform:rotate(-360deg) translateX(calc(var(--sync-indicator-size) * -.9)) rotate(360deg);
  }
}

@keyframes sync-status-alternate{
  0%,45%{
    background:var(--sync-indicator-color);
    box-shadow:0 0 0 1px color-mix(in srgb,var(--sync-indicator-color) 65%, transparent),0 0 10px color-mix(in srgb,var(--sync-indicator-color) 45%, transparent);
  }
  55%,100%{
    background:var(--sync-indicator-alt);
    box-shadow:0 0 0 1px color-mix(in srgb,var(--sync-indicator-alt) 65%, transparent),0 0 10px color-mix(in srgb,var(--sync-indicator-alt) 45%, transparent);
  }
}

.sync-panel__backdrop{
  position:fixed;
  inset:0;
  background:color-mix(in srgb,rgba(6,10,18,.8) 90%, transparent);
  -webkit-backdrop-filter:blur(6px);
  backdrop-filter:blur(6px);
  z-index:1800;
}

.sync-panel__backdrop[hidden]{
  display:none;
}

.sync-panel{
  position:fixed;
  top:calc(var(--safe-area-top) + clamp(60px, 12vw, 88px));
  right:calc(16px + var(--safe-area-right));
  width:min(360px,calc(100vw - 32px - var(--safe-area-left) - var(--safe-area-right)));
  max-height:calc(var(--vh,1vh)*100 - 48px - var(--safe-area-top) - var(--safe-area-bottom));
  padding:18px;
  display:flex;
  flex-direction:column;
  gap:16px;
  background:none;
  border:none;
  border-radius:var(--radius);
  box-shadow:none;
  z-index:1900;
  overflow:auto;
  overscroll-behavior:contain;
}

.sync-panel[hidden]{
  display:none;
}

@media (max-width:720px){
  .sync-panel{
    left:calc(16px + var(--safe-area-left));
    right:calc(16px + var(--safe-area-right));
    width:auto;
    max-width:none;
  }
}

@media (max-width:480px){
  .sync-panel{
    top:calc(var(--safe-area-top) + clamp(44px, 10vw, 72px));
    padding:16px;
  }
}

.sync-panel__header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}

.sync-panel__title{
  margin:0;
  font-size:clamp(1rem,2.6vw,1.2rem);
  font-weight:700;
  letter-spacing:.04em;
  text-transform:uppercase;
}

.sync-panel__close{
  width:clamp(32px,8vw,40px);
  height:clamp(32px,8vw,40px);
  border-radius:calc(var(--radius) - 4px);
  border:1px solid color-mix(in srgb,var(--line) 60%, transparent);
  background:var(--surface-2);
  color:var(--text);
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  transition:var(--transition);
  font-size:clamp(1.1rem,3vw,1.4rem);
}

body:not(.no-hover) .sync-panel__close:hover,
.sync-panel__close:focus-visible{
  background:color-mix(in srgb,var(--accent) 22%,var(--surface-2));
  border-color:color-mix(in srgb,var(--accent) 55%, transparent);
  outline:none;
}

.sync-panel__body{
  display:flex;
  flex-direction:column;
  gap:16px;
}

.sync-panel__status-group{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  font-size:clamp(.85rem,2.4vw,1rem);
}

.sync-panel__status-label{
  color:color-mix(in srgb,var(--muted) 70%, transparent);
  text-transform:uppercase;
  letter-spacing:.08em;
  font-size:clamp(.68rem,2vw,.85rem);
}

.sync-panel__status-value{
  font-weight:600;
  color:var(--text);
}

.sync-panel__actions-row{
  display:flex;
  gap:10px;
}

.sync-panel__section{
  display:flex;
  flex-direction:column;
  gap:12px;
  padding:12px;
  border-radius:calc(var(--radius) - 3px);
  background:none;
  border:none;
}

.sync-panel__section-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}

.sync-panel__section-title{
  margin:0;
  font-size:clamp(.9rem,2.5vw,1.1rem);
  font-weight:600;
}

.sync-panel__clear-queue{
  margin-left:auto;
}

.sync-panel__list{
  list-style:none;
  margin:0;
  padding:0;
  display:flex;
  flex-direction:column;
  gap:10px;
}

.sync-panel__list-item{
  display:flex;
  flex-direction:column;
  gap:6px;
  padding:10px;
  border-radius:calc(var(--radius) - 4px);
  background:none;
  border:none;
}

.sync-panel__list-item--error{
  border:none;
  background:none;
}

.sync-panel__item-title{
  font-weight:600;
  font-size:clamp(.85rem,2.4vw,1rem);
}

.sync-panel__item-note{
  font-size:clamp(.72rem,2vw,.9rem);
  color:color-mix(in srgb,var(--muted) 75%, transparent);
}

.sync-panel__item-detail{
  font-size:clamp(.75rem,2.3vw,.95rem);
  color:var(--text);
}

.sync-panel__meta{
  font-size:clamp(.7rem,2vw,.85rem);
  color:color-mix(in srgb,var(--muted) 65%, transparent);
}

.sync-panel__empty{
  margin:0;
  font-size:clamp(.8rem,2.2vw,.95rem);
  color:color-mix(in srgb,var(--muted) 80%, transparent);
}

.sync-panel__note{
  margin:0;
  font-size:clamp(.8rem,2.2vw,.95rem);
  color:color-mix(in srgb,var(--muted) 70%, transparent);
}

.sync-panel__note[data-state="success"]{
  color:color-mix(in srgb,var(--accent) 65%, var(--text) 35%);
}

.sync-panel__note[data-state="error"]{
  color:color-mix(in srgb,var(--warn) 80%, var(--text) 20%);
}

.sync-panel__actions{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
}

.sync-panel__actions .btn-sm{
  flex:0 0 auto;
}

header{
  --header-icon-size:calc(var(--icon-size) * 1.25);
}

header .icon,
header .tab{
  height:calc(var(--header-icon-size) * 1.05);
  min-height:calc(var(--header-icon-size) * 1.2);
}

header .icon{
  width:calc(var(--header-icon-size) * 1.8);
}

header .tab{
  min-width:calc(var(--header-icon-size) * 1.8);
  flex:1 1 calc(var(--header-icon-size) * 1.8);
}

header .icon svg,
header .tab svg{
  width:var(--header-icon-size);
  height:var(--header-icon-size);
}

.logo-button{
  background:transparent;
  border:none;
  padding:0;
  width:calc(43px * 1.25);
  height:calc(43px * 1.25);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  border-radius:50%;
  flex:0 0 calc(43px * 1.25);
  grid-area:logo;
  justify-self:start;
  --theme-toggle-backdrop:linear-gradient(135deg,#070b16,#1b2550,#4f46e5);
  --theme-toggle-shadow:0 0 0 2px rgba(4,9,20,.6);
  --theme-toggle-icon:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22%23f97316%22%3E%3Cpath%20d%3D%22M21%2012.79A9%209%200%200%201%2011.21%203a7%207%200%201%200%20.79%2018A9%209%200%200%200%2021%2012.79Z%22/%3E%3C/svg%3E");
}

.logo-button:focus-visible{
  outline:2px solid var(--accent);
  outline-offset:2px;
}

.theme-toggle__icon{
  width:100%;
  height:100%;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  perspective:700px;
}

.theme-toggle__spinner{
  position:relative;
  width:100%;
  height:100%;
  border-radius:50%;
  transform-style:preserve-3d;
  box-shadow:var(--theme-toggle-shadow);
}

.theme-toggle__face{
  position:absolute;
  inset:0;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  backface-visibility:hidden;
  overflow:hidden;
}

.theme-toggle__face::after{
  content:"";
  position:absolute;
  inset:20%;
  border-radius:inherit;
  background-repeat:no-repeat;
  background-position:center;
  background-size:contain;
  transform:translateZ(1px);
  pointer-events:none;
}

.theme-toggle__face--front{
  background:radial-gradient(70% 70% at 50% 28%,rgba(255,255,255,.22),rgba(15,23,42,.92));
  transform:rotateY(0deg);
}

.theme-toggle__face--front::after{
  inset:0;
  background-image:url("../images/logo.png");
  background-image:image-set(
    url("../images/logo.png") 1x,
    url("../images/logo.png") 2x
  );
  background-size:82%;
  background-position:center;
  background-repeat:no-repeat;
  image-rendering:-webkit-optimize-contrast;
  image-rendering:auto;
  box-shadow:0 0 12px rgba(0,0,0,.35);
}

.theme-toggle__face--back{
  transform:rotateY(180deg);
  background:var(--theme-toggle-backdrop);
}

.theme-toggle__face--back::after{
  background-image:var(--theme-toggle-icon);
}

.theme-toggle__spinner--spinning{
  animation:theme-toggle-spin 1.1s cubic-bezier(.36,.07,.19,.97);
}

@keyframes theme-toggle-spin{
  0%{transform:rotateY(0deg);}
  45%{transform:rotateY(180deg);}
  55%{transform:rotateY(180deg);}
  100%{transform:rotateY(360deg);}
}



.logo-button[data-theme='light']{
  --theme-toggle-backdrop:linear-gradient(135deg,#e0e7ff,#bfdbfe,#2563eb);
  --theme-toggle-shadow:0 0 0 2px rgba(15,23,42,.18);
  --theme-toggle-icon:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20stroke%3D%22%232563eb%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%3Ccircle%20cx%3D%2212%22%20cy%3D%2212%22%20r%3D%224%22/%3E%3Cpath%20d%3D%22M12%202v2m0%2016v2M22%2012h-2M4%2012H2m15.364-7.364l-1.414%201.414M7.05%2016.95l-1.414%201.414m0-12.728L7.05%207.05m9.9%209.9l1.414%201.414%22/%3E%3C/svg%3E");
}

.logo-button[data-theme='high']{
  --theme-toggle-backdrop:linear-gradient(135deg,#05060a,#0b0d16,#ffd60a);
  --theme-toggle-shadow:0 0 0 2px rgba(248,250,252,.6);
  --theme-toggle-icon:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22%23ffd60a%22%3E%3Crect%20x%3D%224%22%20y%3D%224%22%20width%3D%226%22%20height%3D%2216%22%20rx%3D%222%22/%3E%3Crect%20x%3D%2210%22%20y%3D%228%22%20width%3D%226%22%20height%3D%2212%22%20rx%3D%222%22/%3E%3Crect%20x%3D%2216%22%20y%3D%206%22%20width%3D%204%22%20height%3D%2014%22%20rx%3D%221.5%22/%3E%3C/svg%3E");
}

.logo-button[data-theme='forest']{
  --theme-toggle-backdrop:linear-gradient(135deg,#0b2d1f,#1f9d5c,#8fe3b0);
  --theme-toggle-shadow:0 0 0 2px rgba(11,45,31,.45);
  --theme-toggle-icon:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22%238fe3b0%22%3E%3Cpath%20d%3D%22M12%202c-4.2%202.5-6.8%206.2-6.8%2010.2%200%203.3%202.3%206.3%206.8%209.8%204.5-3.5%206.8-6.5%206.8-9.8C18.8%208.2%2016.2%204.5%2012%202Z%22/%3E%3Cpath%20d%3D%22M12%208v8M9%2013h6%22%20stroke%3D%22%23135c3d%22%20stroke-width%3D%221.5%22%20stroke-linecap%3D%22round%22/%3E%3C/svg%3E");
}

.logo-button[data-theme='ocean']{
  --theme-toggle-backdrop:linear-gradient(135deg,#051320,#0e3a63,#0ea5e9);
  --theme-toggle-shadow:0 0 0 2px rgba(6,25,44,.45);
  --theme-toggle-icon:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22%23d5f7ff%22%3E%3Cpath%20d%3D%22M4%2015c2%200%203-2%205-2s3%202%205%202%203-2%205-2%203%202%205%202v2c-2%200-3-2-5-2s-3%202-5%202-3-2-5-2-3%202-5%202v-2Z%22/%3E%3Cpath%20d%3D%22M4%2011c2%200%203-2%205-2s3%202%205%202%203-2%205-2%203%202%205%202V9c-2%200-3-2-5-2s-3%202-5%202-3-2-5-2-3%202-5%202v2Z%22/%3E%3C/svg%3E");
}

.logo-button[data-theme='mutant']{
  --theme-toggle-backdrop:linear-gradient(135deg,#28063c,#d946ef,#22d3ee);
  --theme-toggle-shadow:0 0 0 2px rgba(40,6,60,.45);
  --theme-toggle-icon:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20stroke%3D%22%23f0b5ff%22%20stroke-width%3D%221.6%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%3Cpath%20d%3D%22M6%204c4%204%208%204%2012%208s4%208%200%2012%22/%3E%3Cpath%20d%3D%22M18%204c-4%204-8%204-12%208s-4%208%200%2012%22/%3E%3Ccircle%20cx%3D%227%22%20cy%3D%227%22%20r%3D%221.5%22%20fill%3D%22%2322d3ee%22%20stroke%3D%22none%22/%3E%3Ccircle%20cx%3D%2217%22%20cy%3D%2217%22%20r%3D%221.5%22%20fill%3D%22%2322d3ee%22%20stroke%3D%22none%22/%3E%3C/svg%3E");
}

.logo-button[data-theme='enhanced']{
  --theme-toggle-backdrop:linear-gradient(135deg,#050e1a,#123870,#2563eb);
  --theme-toggle-shadow:0 0 0 2px rgba(18,45,86,.45);
  --theme-toggle-icon:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20stroke%3D%22%232563eb%22%20stroke-width%3D%221.8%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%3Crect%20x%3D%224%22%20y%3D%224%22%20width%3D%2216%22%20height%3D%2216%22%20rx%3D%223%22/%3E%3Cpath%20d%3D%22M8%208h2v2H8zM14%208h2v2h-2zM11%2011h2v2h-2zM8%2014h2v2H8zM14%2014h2v2h-2z%22%20fill%3D%22%239fc1ff%22%20stroke%3D%22none%22/%3E%3C/svg%3E");
}

.logo-button[data-theme='magic']{
  --theme-toggle-backdrop:linear-gradient(135deg,#2d0c4a,#a855f7,#f973c5);
  --theme-toggle-shadow:0 0 0 2px rgba(45,12,74,.45);
  --theme-toggle-icon:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22%23fcd8ff%22%3E%3Cpath%20d%3D%22M12%203l1.9%205.8H20l-4.7%203.4L17.2%2018%2012%2014.6%206.8%2018l1.9-5.8L4%208.8h6.1L12%203Z%22/%3E%3C/svg%3E");
}

.logo-button[data-theme='alien']{
  --theme-toggle-backdrop:linear-gradient(135deg,#022926,#0f766e,#12f7d6);
  --theme-toggle-shadow:0 0 0 2px rgba(2,41,38,.45);
  --theme-toggle-icon:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22none%22%20stroke%3D%22%2312f7d6%22%20stroke-width%3D%221.6%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%3E%3Ccircle%20cx%3D%2211%22%20cy%3D%2211%22%20r%3D%227%22%20fill%3D%22%23e4fff9%22%20stroke%3D%22none%22/%3E%3Cpath%20d%3D%22M18%2014c2.5%200%204.5%202%204.5%204.5S20.5%2023%2018%2023%2013.5%2021%2013.5%2018.5c0-.5.1-1%20.3-1.5%22/%3E%3Cpath%20d%3D%22M8.5%2010.5c.5-.5%201.5-.5%202%200%20.5.5.5%201.5%200%202-.5.5-1.5.5-2%200-.6-.5-.6-1.5%200-2Zm5%200c.5-.5%201.5-.5%202%200%20.5.5.5%201.5%200%202-.5.5-1.5.5-2%200-.6-.5-.6-1.5%200-2Z%22/%3E%3C/svg%3E");
}

.logo-button[data-theme='mystic']{
  --theme-toggle-backdrop:linear-gradient(135deg,#1a1345,#7c3aed,#f4c95d);
  --theme-toggle-shadow:0 0 0 2px rgba(26,19,69,.45);
  --theme-toggle-icon:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22%23fef3c7%22%3E%3Cpath%20d%3D%22M12%202l4%206-2%2010-2%204-2-4-2-10%204-6Z%22/%3E%3Cpath%20d%3D%22M8%208h8l-2%2010H10L8%208Z%22%20fill%3D%22%23f4c95d%22/%3E%3C/svg%3E");
}

.header-title-react-root{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
  white-space:nowrap;
  flex:0 1 auto;
  min-width:0;
  inline-size:min(var(--header-title-width, 100%), var(--header-title-available, 100%));
  max-inline-size:var(--header-title-available, 100%);
}

.header-title-react-root>.header-decrypted,
.header-title-react-root>.animated-decrypted{
  flex:1 1 auto;
  justify-content:center;
}

.header-decrypted,
.animated-decrypted{
  display:inline-flex;
  gap:var(--title-character-gap);
  letter-spacing:var(--title-letter-spacing);
  word-spacing:var(--title-word-spacing);
}

.header-decrypted__char,
.animated-decrypted__char{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  flex:0 0 auto;
  min-width:0;
  color:inherit;
  background:none;
  text-shadow:none;
  filter:none;
  transition:none;
}

.header-decrypted__char--scrambling,
.animated-decrypted__char--scrambling{
  color:inherit;
  text-shadow:none;
  filter:none;
  opacity:1;
}

[data-animate-title]{
  font-family:'CFTechnoMania Slanted','Inter',system-ui,-apple-system,Segoe UI,Arial,sans-serif;letter-spacing:var(--title-letter-spacing);word-spacing:var(--title-word-spacing);
}

span[data-animate-title]{
  display:inline-flex;
  align-items:center;
  gap:var(--title-character-gap);
}

legend[data-animate-title]{
  margin-bottom:6px;
}

label[data-animate-title]{
  margin-bottom:4px;
  display:flex;
  align-items:center;
  gap:0.1em;
}

.cap-box label{
  display:flex;
  align-items:center;
  gap:8px;
}

.cap-box label [data-animate-title]{
  margin-bottom:0;
}

.cap-box{
  position:relative;
  isolation:isolate;
}

.cap-box label{
  position:relative;
  z-index:1;
}

.cap-box--spent{
  color:color-mix(in srgb,var(--muted) 70%, var(--text) 30%);
}

.cap-box--spent #cap-status{
  font-weight:600;
  color:var(--accent);
}

.cap-box--spent::before,
.cap-box--spent::after{
  content:"";
  position:absolute;
  inset:-12px;
  border-radius:calc(var(--radius) * 1.6);
  pointer-events:none;
  opacity:0;
  transform:scale(1);
  transform-origin:center;
  z-index:-1;
}

.cap-box--spent::before{
  background:radial-gradient(circle at center,
      color-mix(in srgb,var(--accent) 45%, transparent) 0%,
      color-mix(in srgb,var(--accent) 25%, transparent) 35%,
      transparent 70%);
  animation:capAuraCollapse var(--cap-aura-duration,0.7s) ease-out forwards;
}

.cap-box--spent::after{
  border:2px solid color-mix(in srgb,var(--accent) 70%, transparent);
  box-shadow:0 0 24px color-mix(in srgb,var(--accent) 55%, transparent);
  animation:capAuraCollapse var(--cap-aura-duration,0.7s) ease-out forwards;
}

@keyframes capAuraCollapse{
  0%{
    opacity:.9;
    transform:scale(1.05);
    filter:blur(0);
  }
  35%{
    opacity:1;
    transform:scale(1.1);
  }
  100%{
    opacity:0;
    transform:scale(0.55);
  }
}

.card-info{
  font-size:.95rem;
  line-height:1.5;
  color:var(--muted);
}

.tabs .tab{
  position:relative;
  justify-self:center;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  gap:calc(4px * 1.15);
  padding:clamp(6px,2.4vw,12px) clamp(10px,4vw,18px);
  min-width:calc(var(--tab-icon-size) * 1.3);
  min-height:calc(var(--tab-icon-size) * 1.4);
  height:auto;
  flex:1 1 calc(var(--tab-icon-size) * 1.3);
  text-align:center;
  line-height:1.2;
  font-size:clamp(.7rem,2.8vw,.9rem);
  font-weight:600;
  border-radius:var(--radius);
  border:1px solid var(--tab-border);
  background:var(--tab-bg);
  color:var(--tab-fg);
  box-shadow:0 12px 28px color-mix(in srgb,var(--accent) 22%, transparent);
  overflow:hidden;
  transition:background-color var(--transition-duration-medium) var(--transition-ease),color var(--transition-duration-medium) var(--transition-ease),box-shadow var(--transition-duration-medium) var(--transition-ease),transform var(--transition-duration-short) var(--transition-ease);
  --tab-icon-primary:var(--tab-fg);
  --tab-icon-secondary:color-mix(in srgb,var(--tab-icon-primary) 72%, transparent);
  --tab-icon-highlight:color-mix(in srgb,var(--tab-icon-primary) 86%, #ffffff 14%);
  --tab-icon-glow:color-mix(in srgb,var(--tab-icon-primary) 42%, transparent);
  --tab-icon-click-duration:.6s;
}

.tabs .tab:focus-visible{
  outline:none;
  box-shadow:0 0 0 3px color-mix(in srgb,var(--tab-active-fg) 42%, transparent),0 12px 28px color-mix(in srgb,var(--tab-active-fg) 22%, transparent);
}

.tabs .tab .tab__icon{
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
}

.tabs .tab .tab__icon svg,
.tabs .tab .tab__icon img,
.tabs .tab .tab__icon canvas{
  width:var(--tab-icon-size);
  height:var(--tab-icon-size);
  display:block;
  object-fit:contain;
  color:var(--tab-icon-primary);
  filter:drop-shadow(0 4px 12px var(--tab-icon-glow));
  transition:color var(--transition-duration-medium) var(--transition-ease),filter var(--transition-duration-medium) var(--transition-ease),transform var(--transition-duration-medium) var(--transition-ease);
}

.tabs .tab .tab__icon canvas{
  pointer-events:none;
}
.tabs .tab .tab__icon.tab__icon--prepared img[data-tab-icon-source]{
  position:absolute;
  inset:0;
  width:var(--tab-icon-size);
  height:var(--tab-icon-size);
  opacity:0;
  pointer-events:none;
}

.tabs .tab .tab__icon.tab__icon--animating canvas{
  animation:tabIconClick var(--tab-icon-click-duration) var(--transition-ease-emphasized) forwards;
}

.tabs .tab .tab__icon svg [data-secondary]{
  color:var(--tab-icon-secondary);
  opacity:0.82;
}

.tabs .tab .tab__icon svg [data-highlight]{
  color:var(--tab-icon-highlight);
}

.tabs .tab .tab__icon svg path,
.tabs .tab .tab__icon svg circle{
  vector-effect:non-scaling-stroke;
}

.tabs .tab .tab__label{
  display:block;
  text-transform:uppercase;
  letter-spacing:0.08em;
  transition:color var(--transition-duration-medium) var(--transition-ease);
}

.tabs .tab .tabs__indicator{
  position:absolute;
  inset-inline:var(--tab-indicator-inline-offset);
  inset-block-end:calc(var(--tab-indicator-thickness) * -0.45);
  height:var(--tab-indicator-thickness);
  border-radius:999px;
  background:var(--tab-active-fg);
  opacity:0;
  transform:scaleX(.4) translateY(6px);
  transform-origin:center;
  pointer-events:none;
  box-shadow:0 12px 22px color-mix(in srgb,var(--tab-active-fg) 24%, transparent);
  transition:opacity var(--transition-duration-medium) var(--transition-ease-emphasized),transform var(--transition-duration-medium) var(--transition-ease-emphasized),box-shadow var(--transition-duration-medium) var(--transition-ease);
}

body:not(.no-hover) .tabs .tab:hover{
  background:var(--tab-bg-hover);
  color:var(--tab-active-fg);
  transform:translateY(-1px);
  --tab-icon-primary:var(--tab-active-fg);
  --tab-icon-secondary:color-mix(in srgb,var(--tab-icon-primary) 72%, transparent);
  --tab-icon-highlight:color-mix(in srgb,var(--tab-icon-primary) 88%, #ffffff 12%);
  --tab-icon-glow:color-mix(in srgb,var(--tab-icon-primary) 44%, transparent);
}

body:not(.no-hover) .tabs .tab:hover .tabs__indicator{
  opacity:.9;
  transform:scaleX(.88) translateY(0);
}

body:not(.no-hover) .tabs .tab:hover .tab__icon svg,
body:not(.no-hover) .tabs .tab:hover .tab__icon img,
body:not(.no-hover) .tabs .tab:hover .tab__icon canvas{
  transform:translateY(-1px);
  filter:drop-shadow(0 8px 18px var(--tab-icon-glow));
}

.tabs .tab:active{
  transform:translateY(1px);
}

.tabs .tab.active{
  background:var(--tab-bg-active);
  color:var(--tab-active-fg);
  box-shadow:0 18px 38px color-mix(in srgb,var(--tab-active-fg) 32%, transparent);
  --tab-icon-primary:var(--tab-active-fg);
  --tab-icon-secondary:color-mix(in srgb,var(--tab-icon-primary) 70%, transparent);
  --tab-icon-highlight:color-mix(in srgb,var(--tab-icon-primary) 88%, #ffffff 12%);
  --tab-icon-glow:color-mix(in srgb,var(--tab-icon-primary) 48%, transparent);
}

.tabs .tab.active .tabs__indicator{
  opacity:1;
  transform:scaleX(1) translateY(0);
  box-shadow:0 14px 32px color-mix(in srgb,var(--tab-active-fg) 42%, transparent);
}

.tabs .tab.active .tab__icon svg,
.tabs .tab.active .tab__icon img,
.tabs .tab.active .tab__icon canvas{
  transform:translateY(-1px);
  filter:drop-shadow(0 8px 20px var(--tab-icon-glow));
}

@keyframes tabIconClick{
  0%{
    transform:translateY(-1px) scale(1);
    filter:drop-shadow(0 8px 20px var(--tab-icon-glow));
  }
  40%{
    transform:translateY(-4px) scale(1.12);
    filter:drop-shadow(0 16px 26px var(--tab-icon-glow));
  }
  65%{
    transform:translateY(0) scale(.94);
    filter:drop-shadow(0 6px 12px var(--tab-icon-glow));
  }
  100%{
    transform:translateY(-1px) scale(1);
    filter:drop-shadow(0 8px 20px var(--tab-icon-glow));
  }
}



.ticker-drawer{
  --ticker-tab-size:clamp(32px, 7vw, 42px);
  --ticker-tab-width:clamp(72px, 20vw, 122px);
  --ticker-tab-border-width:2px;
  --ticker-tab-border-color:color-mix(in srgb, var(--accent) 65%, rgba(7, 11, 19, .55));
  --ticker-tab-offset:0px;
  --ticker-tab-margin-adjust:0px;
  --ticker-tab-overlap:calc(var(--ticker-tab-size) - var(--ticker-tab-border-width));
  --ticker-tab-shadow:0 10px 26px color-mix(in srgb, var(--accent) 20%, transparent);
  --ticker-tab-shadow-hover:0 12px 30px color-mix(in srgb, var(--accent) 24%, transparent);
  --ticker-tab-shadow-closed:0 6px 16px color-mix(in srgb, var(--accent) 16%, transparent);
  --ticker-panel-shadow:0 10px 32px color-mix(in srgb, var(--accent) 14%, transparent);
  --ticker-panel-border-width:2px;
  --ticker-panel-border-color:var(--accent);
  position:relative;
  width:100%;
  margin-top:0;
  margin:0 auto calc(var(--ticker-tab-overlap) - var(--ticker-tab-size) - var(--ticker-tab-offset, 0px) + var(--ticker-tab-margin-adjust, 0px));
  padding-top:0;
  padding-bottom:0;
  max-width:100%;
  z-index:12;
}

.ticker-drawer--m24n{
  --ticker-tab-border-width:var(--m24n-line-width, 2px);
  --ticker-tab-border-color:var(--m24n-line-color, color-mix(in srgb, var(--m24n-highlight, #e84561) 90%, rgba(7, 11, 19, .65)));
  --ticker-tab-offset:var(--ticker-tab-overlap);
  --ticker-tab-margin-adjust:var(--ticker-tab-size);
  --ticker-tab-shadow:0 14px 34px color-mix(in srgb, var(--m24n-highlight, #e84561) 26%, rgba(7, 11, 19, .58));
  --ticker-tab-shadow-hover:0 16px 38px color-mix(in srgb, var(--m24n-highlight, #e84561) 32%, rgba(7, 11, 19, .52));
  --ticker-tab-shadow-closed:0 10px 24px color-mix(in srgb, var(--m24n-highlight, #e84561) 22%, rgba(7, 11, 19, .62));
  --ticker-panel-shadow:0 22px 44px color-mix(in srgb, var(--m24n-highlight, #e84561) 30%, rgba(7, 11, 19, .56));
  --ticker-panel-border-width:var(--m24n-line-width, 2px);
  --ticker-panel-border-color:var(--accent);
}
.ticker-drawer[data-state='closing'],
.ticker-drawer[data-state='closed']{
  margin-bottom:calc(var(--ticker-tab-overlap) - var(--ticker-tab-size) - var(--ticker-tab-offset, 0px) + var(--ticker-tab-margin-adjust, 0px));
}

.ticker-drawer__panel{
  position:relative;
  width:100%;
  height:auto;
  margin-top:0;
  padding-top:0;
  overflow-y:hidden;
  overflow-x:visible;
  box-shadow:var(--ticker-panel-shadow);
  border-top:var(--ticker-panel-border-width) solid var(--ticker-panel-border-color);
  transition:height 560ms cubic-bezier(.16, 1, .3, 1), box-shadow 460ms ease;
  will-change:height;
}

.ticker-drawer__panel .news-ticker:first-child{
  border-top:none;
}

.ticker-drawer__panel-inner{
  display:flex;
  flex-direction:column;
  gap:clamp(8px, 2.2vw, 14px);
  transition:transform 520ms cubic-bezier(.16, 1, .3, 1), opacity 320ms ease;
  will-change:transform, opacity;
}

.ticker-drawer__pull{
  position:absolute;
  left:0;
  right:0;
  inset-inline:0;
  top:calc(100% - var(--ticker-tab-overlap, 0px) + var(--ticker-tab-offset, 0px));
  bottom:auto;
  margin-inline:auto;
  transform:translate3d(0, 0, 0);
  transform-origin:center;
  width:var(--ticker-tab-width);
  height:var(--ticker-tab-size);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:0;
  border-radius:0 0 999px 999px;
  border:var(--ticker-tab-border-width) solid var(--ticker-tab-border-color);
  border-top:none;
  background:color-mix(in srgb, var(--surface) 95%, transparent);
  box-shadow:var(--ticker-tab-shadow);
  cursor:pointer;
  transition:transform 520ms cubic-bezier(.16, 1, .3, 1), background 240ms ease, box-shadow 320ms ease, top 320ms cubic-bezier(.16, 1, .3, 1);
  z-index:5;
}

body:not(.no-hover) .ticker-drawer__pull:hover{
  background:color-mix(in srgb, var(--surface) 98%, transparent);
  box-shadow:var(--ticker-tab-shadow-hover);
}

.ticker-drawer__pull:focus-visible{
  outline:2px solid var(--accent);
  outline-offset:2px;
}

.ticker-drawer__pull-icon{
  width:clamp(18px, 5vw, 26px);
  height:auto;
  display:block;
  filter:drop-shadow(0 2px 6px rgba(0, 0, 0, .28)) drop-shadow(0 0 6px color-mix(in srgb, var(--accent) 55%, transparent));
  transition:opacity var(--transition-duration-medium) var(--transition-ease);
}

[data-ticker-toggle][aria-expanded='true'] .ticker-drawer__pull-icon{
  opacity:1;
}

[data-ticker-toggle][aria-expanded='false'] .ticker-drawer__pull-icon{
  opacity:1;
}

.ticker-drawer[data-state='closed'] .ticker-drawer__panel{
  box-shadow:none;
}

.ticker-drawer[data-state='closed'] .ticker-drawer__panel-inner{
  opacity:0;
  transform:translateY(16px);
  pointer-events:none;
}

.ticker-drawer[data-state='closing'] .ticker-drawer__pull,
.ticker-drawer[data-state='closed'] .ticker-drawer__pull{
  box-shadow:var(--ticker-tab-shadow-closed);
}



.news-ticker{
  --pennant-width:clamp(100px,20vw,150px);
  --pennant-point:clamp(18px,4vw,30px);
  --pennant-gap:clamp(10px,2.6vw,18px);
  --pennant-overlap:calc(var(--pennant-point) + var(--pennant-gap));
  --ticker-duration:18s;
  position:relative;
  overflow:hidden;
  background:color-mix(in srgb,var(--surface) 92%, transparent);
  border-top:2px solid var(--accent);
  border-bottom:2px solid var(--accent);
  border-left:2px solid var(--accent);
  width:100%;
  max-width:100%;
  margin-inline:0;
  height:45px;
  min-height:45px;
  box-sizing:border-box;
  box-shadow:0 12px 30px color-mix(in srgb,var(--accent) 10%, transparent);
}
.news-ticker[data-expand-edge]{
  margin-left:calc(-1 * env(safe-area-inset-left, 0px));
  margin-right:calc(-1 * env(safe-area-inset-right, 0px));
  width:calc(100% + env(safe-area-inset-left, 0px) + env(safe-area-inset-right, 0px));
}
.news-ticker::before{
  content:"";
  position:absolute;
  inset:0 auto 0 0;
  width:calc(var(--pennant-width) + var(--pennant-overlap));
  background:linear-gradient(90deg,color-mix(in srgb,var(--surface) 96%, transparent) 0%,color-mix(in srgb,var(--surface) 82%, transparent) 42%,transparent 75%);
  pointer-events:none;
  z-index:1;
}
.news-ticker__inner{
  position:relative;
  display:flex;
  align-items:center;
  width:100%;
  height:100%;
  padding-block:0;
  padding-right:env(safe-area-inset-right, 0px);
}
.news-ticker__label{
  position:relative;
  display:flex;
  justify-content:center;
  align-items:center;
  min-width:var(--pennant-width);
  height:100%;
  padding-block:0;
  padding-left:calc(clamp(14px,3.8vw,24px) + env(safe-area-inset-left));
  padding-right:calc(var(--pennant-overlap) + clamp(10px,2.8vw,16px));
  background:var(--accent);
  color:var(--text-on-accent);
  clip-path:polygon(0 0, calc(100% - var(--pennant-point)) 0, 100% 50%, calc(100% - var(--pennant-point)) 100%, 0 100%);
  text-transform:uppercase;
  text-align:center;
  box-shadow:0 8px 18px color-mix(in srgb,var(--accent) 22%, transparent);
  z-index:3;
}
.news-ticker__label::after{
  content:"";
  position:absolute;
  inset:4px calc(var(--pennant-overlap) - clamp(8px,2.2vw,14px)) 4px 4px;
  background:color-mix(in srgb,var(--surface) 88%, transparent);
  clip-path:inherit;
  z-index:-1;
  opacity:.24;
}
.news-ticker__logo{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:clamp(164px,34vw,260px);
  height:100%;
  margin-block:-2px;
  color:var(--text-on-accent);
  flex:0 0 auto;
}

.news-ticker__logo::before{
  content:"";
  display:block;
  width:100%;
  height:100%;
  background:currentColor;
  mask:url('../images/6a78d5b9-619a-4670-a141-271387532fdb.svg') center/180% 180% no-repeat;
  -webkit-mask:url('../images/6a78d5b9-619a-4670-a141-271387532fdb.svg') center/180% 180% no-repeat;
}
.news-ticker__track{
  --ticker-gap:clamp(64px,20vw,280px);
  position:relative;
  flex:1 1 auto;
  display:inline-flex;
  align-items:center;
  gap:clamp(22px,5vw,36px);
  white-space:nowrap;
  animation:ticker-scroll var(--ticker-duration,12s) linear infinite;
  will-change:transform;
  margin-left:calc(-1 * (var(--pennant-overlap) - clamp(12px,3.4vw,22px)));
  padding-left:calc(var(--pennant-overlap) + clamp(14px,3.6vw,24px));
  min-width:100%;
  z-index:0;
}
@media(min-width:900px){
  .news-ticker{
    --ticker-duration:27s;
  }
}
.news-ticker__text{
  font-weight:600;
  letter-spacing:.1em;
  text-transform:uppercase;
  font-size:.78rem;
  color:var(--accent);
}
@media(max-width:540px){
  .news-ticker{
    height:40px;
    min-height:40px;
  }
  .news-ticker__inner{
    padding-right:calc(16px + env(safe-area-inset-right));
  }
  .news-ticker__label{
    font-size:.72rem;
    padding-left:calc(clamp(10px,3vw,16px) + env(safe-area-inset-left));
    padding-right:calc(var(--pennant-overlap) + clamp(8px,2.4vw,12px));
  }
  .news-ticker__logo{
    width:clamp(128px,30vw,200px);
  }
  .news-ticker__track{
    gap:clamp(18px,4.6vw,28px);
    padding-left:calc(var(--pennant-overlap) + clamp(10px,3vw,18px));
  }
  .news-ticker__text{
    font-size:.7rem;
    letter-spacing:.085em;
  }
  .news-ticker__badge{
    min-height:18px;
    padding:0 clamp(6px,2.2vw,10px);
    font-size:.58rem;
    letter-spacing:.18em;
  }
}

@media(max-width:400px){
  .news-ticker{
    height:36px;
    min-height:36px;
  }
  .news-ticker__label{
    font-size:.68rem;
    padding-left:calc(clamp(8px,3vw,14px) + env(safe-area-inset-left));
    padding-right:calc(var(--pennant-overlap) + clamp(6px,2vw,10px));
  }
  .news-ticker__logo{
    width:clamp(110px,36vw,180px);
  }
  .news-ticker__track{
    gap:clamp(16px,4.4vw,24px);
    padding-left:calc(var(--pennant-overlap) + clamp(8px,2.8vw,14px));
  }
  .news-ticker__text{
    font-size:.64rem;
    letter-spacing:.075em;
  }
  .news-ticker__badge{
    min-height:16px;
    padding:0 clamp(5px,1.8vw,8px);
    font-size:.52rem;
    letter-spacing:.15em;
  }
}

.news-ticker--m24n{
  --m24n-primary:#1f2a44;
  --m24n-highlight:#e84561;
  --m24n-text:#f4f6ff;
  --m24n-line-width:2px;
  --m24n-line-gap:clamp(4px,1.4vw,10px);
  --m24n-line-color:color-mix(in srgb,var(--m24n-highlight) 90%, rgba(7,11,19,.65));
  margin-top:0;
  background:linear-gradient(90deg,rgba(17,21,32,.9) 0%,rgba(24,31,48,.88) 62%,rgba(13,17,25,.92) 100%);
  border:2px solid var(--m24n-line-color);
  border-radius:8px;
  box-shadow:0 14px 34px rgba(12,16,28,.48);
  overflow:hidden;
}
.news-ticker--m24n .news-ticker__inner{
  padding-left:0;
}
.news-ticker--m24n::before{content:none}
.news-ticker__label--m24n{
  background:linear-gradient(135deg,var(--m24n-primary) 0%,#111726 100%);
  color:var(--m24n-text);
  text-shadow:0 2px 10px rgba(0,0,0,.38);
  clip-path:none;
  border-radius:8px 0 0 8px;
  padding-right:calc(var(--m24n-line-width) + 2px);
  gap:clamp(3px,1.2vw,8px);
  justify-content:center;
  flex:0 0 auto;
  min-width:var(--pennant-width);
  flex-wrap:nowrap;
  max-width:100%;
  overflow:hidden;
  padding-left:env(safe-area-inset-left, 0px);
  text-align:center;
}
.news-ticker__label--m24n::before{
  content:"";
  position:absolute;
  inset:4px calc(var(--m24n-line-width) + 4px) 4px 4px;
  border-radius:6px 0 0 6px;
  background:linear-gradient(120deg,rgba(255,255,255,.16) 0%,rgba(255,255,255,0) 65%);
  opacity:.34;
  z-index:-1;
}
.news-ticker__label--m24n::after{
  content:"";
  position:absolute;
  top:6px;
  bottom:6px;
  right:0;
  width:var(--m24n-line-width);
  background:var(--m24n-line-color);
  border-radius:999px;
  box-shadow:0 0 12px rgba(0,0,0,.35);
}
.news-ticker__label--m24n .news-ticker__badge--live{
  margin-right:clamp(1px, var(--m24n-line-gap), 12px);
}
.news-ticker__logo--m24n{
  position:relative;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:auto;
  min-width:unset;
  min-width:0;
  max-width:100%;
  height:calc(100% - 4px);
  padding:0 clamp(8px,2.2vw,12px);
  margin-block:auto;
  border-radius:4px;
  background:linear-gradient(135deg,#f7f8ff 0%,#dce3ff 52%,#fefeff 100%);
  color:#131c30;
  font-family:'Race Sport',sans-serif;
  font-weight:800;
  font-style:italic;
  font-size:clamp(.82rem,2.8vw,1.12rem);
  letter-spacing:1px;
  line-height:1;
  text-transform:uppercase;
  flex-shrink:0;
  box-shadow:0 4px 16px rgba(10,14,24,.35);
  text-align:center;
}
.news-ticker__logo--m24n::before{content:none}
.news-ticker__badge{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-height:22px;
  padding:0 clamp(10px,2.6vw,16px);
  margin-left:clamp(10px,2.8vw,18px);
  border-radius:999px;
  flex-shrink:0;
  font-weight:700;
  font-size:.68rem;
  letter-spacing:.28em;
  text-transform:uppercase;
  box-shadow:0 2px 12px rgba(0,0,0,.35);
  flex:0 0 auto;
  white-space:nowrap;
}
.news-ticker__badge--live{
  background:linear-gradient(135deg,var(--m24n-highlight) 0%,#b4163d 100%);
  color:#fff;
  text-shadow:0 1px 4px rgba(0,0,0,.4);
}
.news-ticker--m24n .news-ticker__badge{
  margin-left:clamp(2px,1.2vw,6px);
  padding:0 clamp(4px,1.6vw,8px);
  min-height:18px;
  font-size:.58rem;
  letter-spacing:.16em;
}
.news-ticker__track--m24n{
  --ticker-duration:30s;
  --ticker-distance:calc(100% + var(--ticker-gap));
  animation:none;
  transform:translate3d(100%,0,0);
  gap:clamp(44px,10vw,72px);
  margin-left:calc(-1 * var(--m24n-line-width));
  padding-left:calc(var(--m24n-line-width) + var(--m24n-line-gap));
}
@media(max-width:899px){
  .news-ticker__track--m24n{
    --ticker-duration:40s;
  }
}
@supports (-webkit-touch-callout:none){
  @media screen and (device-width:430px) and (device-height:932px) and (-webkit-device-pixel-ratio:3){
    .news-ticker__track--m24n{
      --ticker-duration:55s;
    }
  }
  @media screen and (device-width:932px) and (device-height:430px) and (-webkit-device-pixel-ratio:3){
    .news-ticker__track--m24n{
      --ticker-duration:55s;
    }
  }
}
.news-ticker__track--m24n.is-animating{
  animation:ticker-scroll-m24n var(--ticker-duration) linear forwards;
}
.news-ticker__text--m24n{
  color:var(--m24n-text);
  font-size:.8rem;
  letter-spacing:.12em;
  text-shadow:0 1px 6px rgba(0,0,0,.35);
}
@keyframes ticker-scroll-m24n{
  from{transform:translate3d(100%,0,0)}
  to{transform:translate3d(calc(-1 * var(--ticker-distance, 100%)),0,0)}
}
@media(max-width:540px){
  .news-ticker--m24n{
    height:40px;
    min-height:40px;
    --m24n-line-gap:clamp(3px,1.4vw,6px);
  }
  .news-ticker__label--m24n{
    gap:clamp(2px,1.4vw,6px);
    padding-left:env(safe-area-inset-left, 0px);
    padding-right:calc(var(--m24n-line-width) + clamp(3px,1.4vw,6px));
  }
  .news-ticker__logo--m24n{
    padding:0 clamp(6px,2.2vw,10px);
    font-size:clamp(.74rem,2.8vw,.94rem);
    letter-spacing:1px;
  }
  .news-ticker--m24n .news-ticker__badge{
    margin-left:clamp(2px,1.2vw,6px);
    padding:0 clamp(3px,1.4vw,6px);
    min-height:16px;
    font-size:.52rem;
    letter-spacing:.12em;
  }
  .news-ticker__track--m24n{
    gap:clamp(26px,7vw,42px);
    padding-left:calc(var(--m24n-line-width) + var(--m24n-line-gap));
  }
  .news-ticker__text--m24n{
    font-size:.72rem;
    letter-spacing:.1em;
  }
}

@media(max-width:400px){
  .news-ticker--m24n{
    --m24n-line-gap:clamp(2px,1vw,4px);
  }
  .news-ticker__label--m24n{
    gap:clamp(2px,1.2vw,5px);
    padding-right:calc(var(--m24n-line-width) + clamp(2px,1.2vw,5px));
  }
  .news-ticker__logo--m24n{
    padding:0 clamp(6px,2.2vw,10px);
    font-size:clamp(.7rem,2.6vw,.88rem);
    letter-spacing:1px;
  }
  .news-ticker--m24n .news-ticker__badge{
    padding:0 clamp(3px,1.2vw,5px);
    font-size:.5rem;
    letter-spacing:.12em;
  }
}
@keyframes ticker-scroll{from{transform:translate3d(100%,0,0)}to{transform:translate3d(calc(-100% - var(--ticker-gap)),0,0)}}
main{
  flex:1 0 auto;
  width:100%;
  max-width:100%;
  margin:0 0 16px;
  padding-top:calc(var(--ticker-tab-clearance, clamp(44px, 9vw, 60px)) + env(safe-area-inset-top, 0px));
  padding-right:env(safe-area-inset-right, 0px);
  padding-left:env(safe-area-inset-left, 0px);
  padding-bottom:calc(4px + env(safe-area-inset-bottom, 0px));
  scroll-padding-top:calc(var(--ticker-tab-clearance, clamp(44px, 9vw, 60px)) + env(safe-area-inset-top, 0px) + clamp(16px, 4vw, 22px));
  position:relative;
  touch-action:pan-y;
  overscroll-behavior-x:none;
  overscroll-behavior-y:none;
  --swipe-progress:0;
}
main.is-animating-tabs{
  overflow:hidden;
}
main.is-swiping::before,
main.is-swiping::after{
  content:"";
  position:absolute;
  top:0;
  bottom:0;
  width:min(120px, 18vw);
  pointer-events:none;
  opacity:calc(var(--swipe-progress, 0) * 0.85);
  transform:scaleX(calc(0.85 + (var(--swipe-progress, 0) * 0.35)));
  transition:opacity .24s cubic-bezier(.33,1,.68,1),transform .3s cubic-bezier(.22,1,.36,1);
  will-change:opacity,transform;
  filter:blur(14px);
  mix-blend-mode:screen;
}
main.is-swiping::before{
  left:0;
  transform-origin:left center;
  background:linear-gradient(90deg,color-mix(in srgb,var(--accent) 82%, transparent) 0%,color-mix(in srgb,var(--accent) 42%, transparent) 55%,transparent 100%);
}
main.is-swiping::after{
  right:0;
  transform-origin:right center;
  background:linear-gradient(270deg,color-mix(in srgb,var(--accent-2, var(--accent)) 82%, transparent) 0%,color-mix(in srgb,var(--accent-2, var(--accent)) 42%, transparent) 55%,transparent 100%);
}
fieldset[data-tab].card{background:none;border:none;border-radius:var(--radius);padding:var(--card-padding,10px);margin-bottom:0;box-shadow:none;display:flex;flex-direction:column;opacity:0;transform:translate3d(0,0,0);cursor:default;pointer-events:none;will-change:opacity;-webkit-backdrop-filter:none;backdrop-filter:none;background-color:transparent;position:absolute;inset:0;width:100%;max-width:100%;min-width:0;visibility:hidden;filter:none;transition:opacity .36s cubic-bezier(.33,1,.68,1)}
fieldset[data-tab].card:not(.active):not(.animating){
  height:0;
  max-height:0;
  min-height:0;
  padding:0;
  margin:0;
  border-width:0;
  overflow:hidden;
}
fieldset[data-tab].card.animating{visibility:visible;pointer-events:none;position:absolute;inset:0;margin-bottom:0;width:100%;max-width:100%;z-index:2}
main.is-animating-tabs fieldset[data-tab].card.animating{will-change:opacity,filter}
fieldset[data-tab="combat"].card{
  flex-direction:column;
  align-items:stretch;
  width:100%;
  max-width:100%;
  margin-inline:0;
  --combat-max-width:100%;
}
fieldset[data-tab="combat"].card>*{
  width:100%;
  max-width:100%;
  margin-inline:0;
}
fieldset[data-tab="combat"].card .grid{
  width:100%;
  max-width:100%;
  margin-inline:0;
  justify-items:stretch;
}
fieldset[data-tab="combat"].card .grid>.card{width:100%}
fieldset[data-tab="combat"].card .somf-card{
  width:100%;
  max-width:100%;
  margin-inline:0;
}
fieldset[data-tab="abilities"].card,
fieldset[data-tab="powers"].card,
fieldset[data-tab="gear"].card,
fieldset[data-tab="story"].card{
  width:100%;
  max-width:100%;
  margin-inline:0;
}
fieldset[data-tab="abilities"] .card,
fieldset[data-tab="powers"] .card,
fieldset[data-tab="gear"] .card,
fieldset[data-tab="story"] .card,
fieldset[data-tab="combat"] .card{
  max-width:100%;
  margin-inline:0;
}
main>:last-child{margin-bottom:0}
fieldset[data-tab].card.active{opacity:1;transform:translate3d(0,0,0);pointer-events:auto;visibility:visible;filter:blur(0)saturate(1);position:relative;inset:auto;margin-bottom:14px}
fieldset[data-tab].card>legend{font-size:clamp(1rem,2.8vw,1.35rem);font-weight:600;color:var(--accent);margin:0 0 clamp(6px,1.5vw,10px);font-family:'CFTechnoMania Slanted','Inter',system-ui,-apple-system,Segoe UI,Arial,sans-serif;letter-spacing:calc(var(--title-letter-spacing) * .9);word-spacing:var(--title-word-spacing);text-shadow:0 0 14px color-mix(in srgb,var(--accent) 58%,transparent);position:relative;z-index:2}
.card{--card-padding:clamp(12px,2.4vw,18px);--card-border-color:color-mix(in srgb,var(--accent) 28%,var(--line));--card-glass:color-mix(in srgb,var(--surface) 70%,transparent);--card-glass-strong:color-mix(in srgb,var(--surface-2) 86%,transparent);position:relative;margin-bottom:clamp(12px,2vw,18px);padding:var(--card-padding);border-radius:clamp(14px,3vw,20px);background:none;backdrop-filter:none;border:none;box-shadow:none;transition:border-color .3s ease,box-shadow .3s ease,transform .3s ease}
.card:focus-within{box-shadow:none;transform:none;outline:none}
body:not(.no-hover) .card:hover{box-shadow:none;transform:none}
.card.card__glow::before{content:none}
.card.card__glow::after{content:none}
.card__frame{position:relative;z-index:2}
.card .card-caret{width:clamp(28px,5vw,32px);height:clamp(28px,5vw,32px);border-radius:10px;display:inline-flex;align-items:center;justify-content:center;background:linear-gradient(150deg,color-mix(in srgb,var(--surface-2) 92%,transparent) 0%,color-mix(in srgb,var(--surface) 84%,transparent) 100%);color:var(--text);cursor:pointer;padding:0;transition:background .2s ease,border-color .2s ease,transform .2s ease,box-shadow .2s ease;margin-inline-start:auto;box-shadow:0 10px 18px -14px rgba(15,23,42,.9)}
.card .card-caret .btn-icon{margin-inline-end:0;font-size:1.2em}
.card .card-caret svg{width:clamp(14px,3.6vw,18px);height:clamp(14px,3.6vw,18px)}
.card .card-caret:focus-visible{outline:none;box-shadow:0 0 0 3px color-mix(in srgb,var(--accent) 38%,transparent),0 12px 20px -12px rgba(15,23,42,.85)}
body:not(.no-hover) .card .card-caret:hover{background:color-mix(in srgb,var(--accent) 22%,var(--surface-2));transform:translateY(-1px);box-shadow:0 12px 22px -12px rgba(15,23,42,.85)}
.card-legend--actions{padding:0;margin-bottom:clamp(6px,1.4vw,10px)}
.card-legend__content{display:flex;align-items:center;gap:clamp(6px,1.5vw,10px);padding:clamp(6px,1.4vw,10px) clamp(10px,2.2vw,14px);border-radius:calc(var(--radius,12px) - 2px);background:linear-gradient(145deg,color-mix(in srgb,var(--surface-2) 90%,transparent) 0%,color-mix(in srgb,var(--surface) 80%,transparent) 100%);box-shadow:0 14px 24px -20px rgba(8,12,24,.9)}
.card-legend__title{flex:1 1 auto;display:flex;align-items:center;gap:clamp(6px,1.5vw,10px);font:inherit;font-size:clamp(.95rem,2.4vw,1.2rem);text-transform:uppercase;letter-spacing:.08em;color:var(--accent);text-shadow:0 0 12px color-mix(in srgb,var(--accent) 55%,transparent)}
.card-legend__content .card-caret{margin-inline-start:auto;position:static}
.card-menu{position:absolute;top:calc(var(--card-padding, 8px) + clamp(28px,5vw,34px) + var(--control-min-height) + var(--control-gap));right:var(--card-padding, 8px);background:linear-gradient(160deg,color-mix(in srgb,var(--surface-2) 92%,transparent) 0%,color-mix(in srgb,var(--surface) 78%,transparent) 100%);border-radius:clamp(12px,2.2vw,16px);box-shadow:0 30px 44px -32px rgba(8,12,24,.95),0 16px 32px -28px color-mix(in srgb,var(--accent) 45%,transparent);padding:clamp(8px,2vw,12px);display:flex;flex-direction:column;gap:clamp(4px,1.3vw,8px);min-width:clamp(140px,48vw,200px);max-width:calc(100vw - 24px);width:max-content;max-height:var(--card-menu-max-height, none);overflow-x:hidden;overflow-y:auto;transform:translateX(calc(var(--card-menu-offset-x, 0px) * -1));backdrop-filter:blur(18px) saturate(1.2);z-index:12}
.card-menu__item{width:100%;min-height:var(--control-compact-min-height);padding:clamp(6px,2vw,10px);font-size:clamp(.82rem,2.3vw,.95rem);background:color-mix(in srgb,var(--surface-2) 90%,transparent);border-radius:clamp(8px,1.8vw,12px);cursor:pointer;text-align:left;transition:background .2s ease,border-color .2s ease,transform .2s ease,box-shadow .2s ease}
body:not(.no-hover) .card-menu__item:hover,.card-menu__item:focus-visible{background:color-mix(in srgb,var(--accent) 24%,var(--surface-2));transform:translateY(-1px);box-shadow:0 0 0 2px color-mix(in srgb,var(--accent) 28%,transparent)}
.card-menu__item:focus-visible{outline:2px solid color-mix(in srgb,var(--accent) 65%,rgba(255,255,255,.35));outline-offset:2px}
.card-menu[hidden]{display:none}
.card-title{font-size:clamp(1rem,2.5vw,1.4rem);font-weight:600;color:var(--accent);margin:0 0 clamp(8px,1.5vw,12px);font-family:'CFTechnoMania Slanted','Inter',system-ui,-apple-system,Segoe UI,Arial,sans-serif;letter-spacing:var(--title-letter-spacing);word-spacing:var(--title-word-spacing);text-shadow:0 0 14px color-mix(in srgb,var(--accent) 60%,transparent)}
p{max-width:var(--shell-width)}
footer{
  text-align:center;
  font-size:9pt;
  margin:0 auto;
  margin-top:0;
  padding:12px 20px 15px;
  padding-right:calc(20px + env(safe-area-inset-right, 0px));
  padding-left:calc(20px + env(safe-area-inset-left, 0px));
  padding-bottom:calc(15px + env(safe-area-inset-bottom, 0px));
  color:var(--muted);
  max-width:var(--shell-width);
  width:100%;
  position:relative;
  display:flex;
  flex-direction:column;
  gap:12px;
  align-items:center;
}

footer p{
  max-width:none;
  margin-left:auto;
  margin-right:auto;
}
.grid{display:grid;gap:12px}
.grid-1{grid-template-columns:1fr}
.grid-2{grid-template-columns:1fr}
.grid-3{grid-template-columns:1fr}
.grid-2-fixed{grid-template-columns:repeat(2,1fr)}
@media(min-width:600px){.grid-2{grid-template-columns:repeat(2,1fr)}.grid-3{grid-template-columns:repeat(2,1fr)}}
@media(min-width:900px){.grid-3{grid-template-columns:repeat(3,1fr)}}
#statuses{
display:grid;
grid-template-columns:repeat(2,minmax(0,1fr));
gap:12px;
margin-top:8px;
align-items:start
}
@media(max-width:600px){#statuses{grid-template-columns:repeat(2,minmax(0,1fr));grid-auto-rows:minmax(0,1fr)}#statuses .status-option{height:100%}}
#statuses .status-option{
display:grid;
grid-template-columns:auto minmax(0,1fr);
align-items:flex-start;
gap:8px 12px;
padding:10px;
min-height:auto;
background:color-mix(in srgb,var(--surface-2) 88%, transparent);
border:1px solid color-mix(in srgb,var(--accent) 32%, transparent);
border-radius:var(--radius);
cursor:default;
transition:color .2s ease,border-color .2s ease,background-color .2s ease
}
body:not(.no-hover) #statuses .status-option:hover,
#statuses .status-option:focus-within{
color:var(--accent);
border-color:color-mix(in srgb,var(--accent) 68%, transparent);
background:color-mix(in srgb,var(--surface-2) 70%, var(--accent) 30%)
}
#statuses .status-option input{
flex:0 0 auto;
margin:0;
cursor:pointer;
margin-top:2px
}
#statuses .status-option__content{display:flex;flex-direction:column;gap:6px;min-width:0}
#statuses .status-option__header{display:flex;align-items:center;gap:8px;flex-wrap:wrap}
#statuses .status-option__name{flex:1 1 auto;min-width:0;font-weight:600}
#statuses .status-option__toggle{
  flex:0 0 auto;
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:2px 10px;
  border-radius:999px;
  border:1px solid color-mix(in srgb,var(--accent) 60%, transparent);
  background:var(--surface-2);
  color:var(--accent);
  transition:var(--transition);
  font-size:.75rem;
}
#statuses .status-option__toggle-icon{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  inline-size:1.5em;
  block-size:1.5em;
  border-radius:50%;
  border:1px solid currentColor;
  font-size:.9em;
  font-weight:600;
  line-height:1;
  text-transform:none;
}
#statuses .status-option__toggle-text{
  text-transform:uppercase;
  letter-spacing:.06em;
  font-size:.75rem;
}
body:not(.no-hover) #statuses .status-option__toggle:hover,
#statuses .status-option__toggle:focus-visible{
  background:var(--accent);
  color:var(--text-on-accent)
}
#statuses .status-option__toggle[aria-expanded="true"]{
background:var(--accent);
color:var(--text-on-accent)
}
@media(max-width:600px){
  #statuses .status-option__header{
    flex-direction:column;
    align-items:flex-start;
    gap:6px;
  }
  #statuses .status-option__toggle{
    width:100%;
    justify-content:flex-start;
    display:flex;
    align-self:stretch;
  }
}
#statuses .status-option__description{
font-size:.85rem;
line-height:1.5;
color:var(--muted);
border-top:1px solid var(--line);
padding-top:6px
}
#statuses .status-option__description p{
margin:0 0 6px
}
#statuses .status-option__description ul{
margin:0 0 6px;
padding-left:1.25em
}
#statuses .status-option__description li{
margin:0 0 4px
}
#statuses .status-option__description .status-info__section{
margin-top:10px
}
#statuses .status-option__description .status-info__section-label{
color:var(--text);
font-size:.7rem
}
.status-effects{font-size:90%}
label{display:block;font-weight:700;margin-bottom:6px;font-size:clamp(.9rem,2.4vw,1rem)}
.stat-trio{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:12px;align-items:end}
.stat-trio__item{display:flex;flex-direction:column;gap:6px}
.stat-trio__item label{
  min-height:2.5em;
  display:flex;
  align-items:flex-end;
}
@media(max-width:480px){
  .stat-trio{grid-template-columns:repeat(auto-fit,minmax(105px,1fr));gap:10px}
}
.hp-settings__section{display:flex;flex-direction:column;gap:8px;margin-top:12px}
.hp-settings__section:first-of-type{margin-top:0}
.hp-settings__row{display:flex;gap:8px;align-items:center;flex-wrap:nowrap}
.hp-settings__row input{flex:1 1 140px;min-width:0}
.hp-settings__row button{flex:0 0 auto}
.hp-settings__actions{justify-content:flex-end;gap:8px}
input:not([type="checkbox"]),select,textarea,button{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:auto;max-width:100%;border-radius:var(--radius);border:1px solid var(--accent);background:var(--surface-2);color:var(--text);padding:var(--control-padding-y) var(--control-padding-x);min-height:var(--control-min-height);font-size:var(--control-font-size);line-height:1.35;transition:var(--transition)}
input:not([type="checkbox"]),select,textarea{width:100%}

.field-value{display:none;position:relative;width:100%;color:var(--view-value-color);cursor:default}
.field-value__content{display:flex;flex-wrap:wrap;align-items:flex-start;gap:8px;background:color-mix(in srgb,var(--surface-2) 70%, transparent);border-radius:var(--radius);padding:var(--control-padding-y) var(--control-padding-x);min-height:var(--control-min-height);width:100%;box-sizing:border-box}
.field-value__text{white-space:pre-wrap;word-break:break-word;flex:1 1 auto;min-width:0}
.field-value__chips{display:flex;flex-wrap:wrap;gap:6px}
.field-value__placeholder{display:none;color:var(--view-helper-color);font-style:italic;padding:var(--control-padding-y) var(--control-padding-x)}
.field-value__expander{margin-top:6px;background:transparent;border:none;color:var(--accent);font-size:.85rem;padding:0;cursor:pointer}
.field-value__expander:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
.field-value__expander[hidden]{display:none!important}
.view-mode [data-view-lock]:not([data-view-unlocked="true"]) .field-value{display:flex;flex-direction:column;background:transparent;border:0;gap:0}
.view-mode [data-view-lock]:not([data-view-unlocked="true"]) .field-value__content{background:color-mix(in srgb,var(--surface-2) 70%, transparent)}
.view-mode [data-view-lock]:not([data-view-unlocked="true"]) .field-value[data-empty="true"] .field-value__content{background:transparent}
.view-mode [data-view-lock]:not([data-view-unlocked="true"]) .field-value__placeholder[data-visible-placeholder="true"]{display:inline-flex}
.view-mode [data-view-lock]:not([data-view-unlocked="true"]) .view-field-control{display:none!important}
.chip{background:var(--chip-bg);color:var(--chip-text);border-radius:999px;padding:.2em .75em;font-size:.85em;line-height:1.3;font-weight:500}
.field-value[data-clamped="true"]:not([data-expanded="true"]) .field-value__text{display:-webkit-box;-webkit-line-clamp:6;-webkit-box-orient:vertical;overflow:hidden}
.field-value[data-expanded="true"] .field-value__expander{color:var(--accent-2)}

.view-mode label{color:var(--view-label-color)}
.view-mode .helper-text{color:var(--view-helper-color)}

@media print{
  button,.dropdown,.tabs,.menu{display:none!important}
  [data-mode="edit"] .field-value{display:flex;flex-direction:column}
  [data-mode="edit"] .view-field-control{display:none!important}
}

select{background-image:var(--chevron);background-repeat:no-repeat;background-position:right calc(var(--control-padding-x) - var(--select-indicator-gap)) center;background-size:var(--select-indicator-size);padding-right:calc((var(--control-padding-x) * 2) + var(--select-indicator-size))}
select option{color:var(--text);background:var(--surface-2)}
#classification.theme-transition{
  background-image:linear-gradient(var(--surface-2), var(--surface-2)),linear-gradient(135deg,color-mix(in srgb,var(--accent) 82%, transparent) 0%,color-mix(in srgb,var(--accent-2) 78%, transparent) 100%);
  background-origin:border-box;
  background-clip:padding-box,border-box;
  background-size:100% 100%,100% 100%;
  border-color:transparent;
  border-image:linear-gradient(135deg,color-mix(in srgb,var(--accent) 85%, transparent) 0%,color-mix(in srgb,var(--accent-2) 75%, transparent) 100%) 1;
  animation:classificationThemePulse .8s cubic-bezier(.22,1,.36,1);
}
@keyframes classificationThemePulse{
  0%{
    background-size:100% 100%,0% 100%;
    box-shadow:0 0 0 0 color-mix(in srgb,var(--accent) 35%, transparent);
  }
  55%{
    background-size:100% 100%,115% 115%;
    box-shadow:0 0 16px 0 color-mix(in srgb,var(--accent) 40%, transparent);
  }
  to{
    background-size:100% 100%,100% 100%;
    box-shadow:0 0 0 0 transparent;
  }
}
/* Hide number input spinners */
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button{
  -webkit-appearance:none;
  margin:0;
}
input[type="number"]{
  -moz-appearance:textfield;
}
input[type="checkbox"]{
  -webkit-appearance:none;
  -moz-appearance:none;
  appearance:none;
  flex:0 0 auto;
  margin:0 4px 0 0;
  inline-size:calc(var(--control-indicator-size) * .5);
  block-size:calc(var(--control-indicator-size) * .5);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  border-radius:50%;
  border:1.5px solid var(--line, #bbb);
  background:var(--bg, #fff);
}
input[type="checkbox"]:focus-visible{
  outline:2px solid var(--accent);
  outline-offset:2px;
}
input[type="checkbox"]:checked{
  background:var(--accent, #222);
  border-color:var(--accent, #222);
}
button{background:linear-gradient(135deg,var(--accent),var(--accent-2));color:var(--text-on-accent);border:none;font-weight:700;min-height:var(--control-min-height);cursor:pointer;box-shadow:0 2px 4px rgba(0,0,0,.2);touch-action:manipulation}
body:not(.no-hover) button:hover:not(.player-tools-tab){filter:brightness(1.1);transform:translateY(-1px)}
body:not(.no-hover) .player-tools-tab:hover{filter:brightness(1.1);}
button:active:not(.player-tools-tab){transform:translateY(0)}
button:disabled{background:var(--surface-2);color:var(--muted);cursor:not-allowed;opacity:.6;box-shadow:none;transform:none;filter:none;pointer-events:none}
button.loading{opacity:.8;pointer-events:none;position:relative;padding-right:2.5em}
button.loading::after{content:"";position:absolute;width:1em;height:1em;border:2px solid currentColor;border-top-color:transparent;border-radius:50%;right:8px;top:50%;transform:translateY(-50%);animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
button:focus-visible,
.icon:focus-visible,
.tab:focus-visible{outline:2px solid var(--accent);outline-offset:2px;animation:focusPulse .6s ease}
@keyframes focusPulse{from{box-shadow:0 0 0 0 var(--accent)}to{box-shadow:0 0 0 6px transparent}}
.action-anim{animation:pressFeedback .2s ease}
@keyframes pressFeedback{0%{transform:scale(1)}50%{transform:scale(.95)}100%{transform:scale(1)}}
.btn-sm{min-height:var(--control-compact-min-height);padding:clamp(6px,2.2vw,10px) clamp(8px,3.4vw,12px);border-radius:var(--radius);font-size:clamp(.65rem,2.4vw,.9rem);display:flex;align-items:center;justify-content:center;white-space:nowrap}
.btn-sm:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
.btn-sm:disabled{opacity:.5;cursor:not-allowed}
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
.card-toolbar{
  display:flex;
  align-items:center;
  justify-content:flex-end;
  gap:var(--control-gap);
  flex-wrap:wrap;
  width:100%;
  margin-bottom:clamp(12px,3vw,18px);
}

.card-toolbar__title,
.card-toolbar__label{
  margin:0;
  margin-inline-end:auto;
  flex:1 1 auto;
  min-width:min(220px,100%);
}
.card-toolbar__title--inline{
  display:flex;
  align-items:center;
  gap:var(--control-gap);
  flex-wrap:nowrap;
  min-width:0;
}
.card-toolbar__title-text{flex:1 1 auto;min-width:0}
.card-toolbar__badge{flex:0 0 auto;align-self:center;margin-left:12px}

.card-toolbar__actions{
  display:flex;
  align-items:center;
  justify-content:flex-end;
  gap:var(--control-gap);
  flex-wrap:wrap;
  margin-inline-start:auto;
}

.card-toolbar__actions>*{flex:0 0 auto}

.level-reminder-button{
  position:relative;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:clamp(6px,2vw,10px);
  padding:clamp(6px,2.2vw,11px) clamp(10px,3.4vw,16px);
  border-radius:var(--radius);
  border:1px solid color-mix(in srgb,var(--line) 75%, transparent);
  background:color-mix(in srgb,var(--surface-2) 92%, transparent);
  color:inherit;
  font-weight:600;
  font-size:clamp(.72rem,2.3vw,.88rem);
  line-height:1;
  white-space:nowrap;
  transition:box-shadow .28s ease,border-color .28s ease,background .28s ease,transform .28s ease;
}

.level-reminder-button[data-pending="true"]{
  border-color:color-mix(in srgb,var(--accent) 60%, var(--line) 40%);
  background:color-mix(in srgb,var(--accent) 14%, var(--surface-2) 86%);
  box-shadow:0 0 0 1px color-mix(in srgb,var(--accent) 38%, transparent);
}

.level-reminder-button:focus-visible{
  outline:2px solid var(--accent);
  outline-offset:2px;
}

body:not(.no-hover) .level-reminder-button:hover{
  transform:translateY(-1px);
}

.level-reminder-button__label{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:clamp(4px,1.8vw,6px);
}

.level-reminder-button__badge{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-width:clamp(20px,4vw,26px);
  padding:clamp(2px,1vw,4px) clamp(5px,1.8vw,8px);
  border-radius:999px;
  background:var(--accent);
  color:var(--text-on-accent);
  font-size:clamp(.65rem,1.8vw,.78rem);
  font-weight:700;
  line-height:1;
}

.level-reminder-button__badge[hidden]{
  display:none !important;
}

.level-reminder-button[hidden]{
  display:none !important;
}

@media(max-width:600px){
  .card-toolbar{justify-content:flex-start}
  .card-toolbar__title,
  .card-toolbar__label{min-width:100%}
  .card-toolbar__title--inline{min-width:0}
  .card-toolbar__actions{width:100%;justify-content:flex-start}
}

.btn-icon{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  font-size:1.05em;
  line-height:1;
  margin-inline-end:clamp(4px,1.2vw,8px);
}

.btn-icon__img{
  width:1em;
  height:1em;
  display:block;
  object-fit:contain;
}

button .btn-label{display:inline-flex;align-items:center}

.inline{display:flex;align-items:center;gap:var(--control-gap);flex-wrap:wrap}
.inline>input:not([type="checkbox"]),
.inline>select,
.inline>textarea,
.inline>.bar-label{flex:1;width:auto;min-height:var(--control-min-height)}
.inline>button{flex:1}
.inline>progress{flex:1;width:auto}
.inline>.pill,
.inline>.sr-only{flex:0;width:auto}

@media(max-width:600px){
  .inline{flex-direction:column;align-items:stretch}
  .inline>input:not([type="checkbox"]),
  .inline>select,
  .inline>textarea,
  .inline>.bar-label{flex:none;width:100%;min-height:var(--control-min-height)}
  .inline>button,
  .inline>progress{flex:none;width:100%}
}

.tracker-grid{
  grid-template-columns:repeat(auto-fit,minmax(min(320px,100%),1fr));
  gap:clamp(12px,2.5vw,20px);
  align-items:stretch;
}

@media(min-width:1024px){
  .tracker-grid{
    grid-template-columns:repeat(auto-fit,minmax(420px,1fr));
    gap:clamp(20px,3vw,36px);
  }
}

.tracker-grid .cap-field{
  grid-column:1 / -1;
}

.tracker-card{
  display:flex;
  flex-direction:column;
  gap:clamp(10px,3vw,16px);
}

.tracker-card__layout{
  display:grid;
  grid-template-columns:minmax(0,1.15fr) minmax(0,0.85fr);
  gap:clamp(10px,3vw,16px);
  align-items:end;
}

.tracker-card__meter{
  display:flex;
  flex-direction:column;
  gap:clamp(8px,2.6vw,12px);
}

.tracker-card__meter .bar-label{
  min-height:var(--progress-min-height);
}

.tracker-card__controls{
  display:flex;
  flex-direction:column;
  gap:clamp(8px,2.6vw,12px);
}

.tracker-card__label{
  font-size:clamp(.8rem,2.6vw,.95rem);
  font-weight:600;
  letter-spacing:.08em;
  text-transform:uppercase;
  color:var(--muted);
}

.tracker-card__input-group{
  display:flex;
  flex-direction:column;
  gap:var(--control-gap);
}

.tracker-card__input-group>input{
  min-height:var(--control-min-height);
}

.tracker-card__actions{
  display:grid;
  grid-template-columns:repeat(2,minmax(0,1fr));
  gap:var(--control-gap);
}

.tracker-card__actions .btn-sm{
  width:100%;
}

.tracker-card__quick{
  width:100%;
}

@media(max-width:420px){
  .tracker-card__layout{
    grid-template-columns:1fr;
  }
}

@media(min-width:620px){
  .tracker-card__input-group{
    flex-direction:row;
    align-items:stretch;
  }
  .tracker-card__input-group>input{
    flex:0 0 clamp(140px,28%,180px);
  }
  .tracker-card__actions{
    flex:1 1 auto;
  }
}

.hp-field{
  position:relative;
}

.hp-field__layout{
  display:grid;
  grid-template-columns:minmax(0,110px) minmax(0,1fr);
  gap:clamp(12px,3.2vw,18px);
  align-items:stretch;
}

.hp-field__status{
  display:flex;
  flex-direction:column;
  align-items:stretch;
  gap:clamp(12px,3vw,16px);
}

.hp-field__values{
  display:grid;
  gap:clamp(10px,2.8vw,14px);
}

.hp-field__value{
  --progress-ratio-value:var(--progress-ratio, 0);
  --progress-color-value:var(--progress-color, var(--success));
  --progress-fill-stop:calc(var(--progress-ratio-value) * 100%);
  position:relative;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:6px;
  min-height:clamp(54px,9vw,74px);
  padding:clamp(8px,2.2vw,12px);
  border-radius:var(--radius);
  background:color-mix(in srgb,var(--surface-2) 45%, transparent);
  border:1px solid color-mix(in srgb,var(--progress-color-value) 28%, transparent);
  box-shadow:
    inset 0 0 0 1px color-mix(in srgb,var(--progress-color-value) 18%, transparent),
    0 0 calc(18px * var(--progress-ratio-value)) 0 color-mix(in srgb,var(--progress-color-value) 34%, transparent);
  overflow:hidden;
  isolation:isolate;
  text-align:center;
}
.hp-field__value::before,
.hp-field__value::after{
  content:"";
  position:absolute;
  inset:0;
  border-radius:inherit;
  pointer-events:none;
}
.hp-field__value::before{
  background:radial-gradient(120% 120% at 50% 0%, color-mix(in srgb,var(--progress-color-value) 32%, transparent) 0%, transparent 70%);
  opacity:.85;
  filter:blur(calc(6px + 10px * var(--progress-ratio-value)));
  transform:translateY(calc((1 - var(--progress-ratio-value)) * 12%));
  animation:trackerPulse 5s ease-in-out infinite;
}
.hp-field__value::after{
  background:repeating-linear-gradient(90deg, transparent 0 16px, color-mix(in srgb,var(--progress-color-value) 45%, transparent) 16px 18px);
  background-size:170% 100%;
  opacity:.4;
  mix-blend-mode:screen;
  filter:blur(calc(2px + 8px * var(--progress-ratio-value)));
  mask:linear-gradient(90deg,#000 0,var(--progress-fill-stop),transparent var(--progress-fill-stop));
  animation:trackerCharge 8s linear infinite;
}
.hp-field__value>*{position:relative;z-index:1}



.hp-field__value--max{
  background:color-mix(in srgb,var(--surface-2) 80%, transparent);
}

.hp-field__value-number{
  font-size:clamp(1.45rem,4vw,1.85rem);
  line-height:1;
  font-weight:700;
}

.hp-field__value-label{
  font-size:clamp(.7rem,2.2vw,.78rem);
  text-transform:uppercase;
  letter-spacing:.12em;
  color:var(--muted);
}

.hp-field__temp{
  display:inline-flex;
  align-self:center;
  padding:4px 10px;
  border-radius:999px;
  background:color-mix(in srgb,var(--accent) 20%, transparent);
  font-size:clamp(.7rem,2vw,.78rem);
  font-weight:600;
  letter-spacing:.06em;
  text-transform:uppercase;
  color:var(--accent);
}

.tracker-progress{
  --progress-ratio-value:var(--progress-ratio, 0);
  --progress-color-value:var(--tracker-status-color, var(--progress-color, var(--accent)));
  --death-success-ratio-value:var(--death-success-ratio, 0);
  --death-failure-ratio-value:var(--death-failure-ratio, 0);
  position:relative;
  display:grid;
  place-items:center;
  min-height:clamp(74px, 22vw, 112px);
  padding:clamp(12px,3vw,16px) clamp(14px,3.4vw,18px);
  border-radius:calc(var(--progress-min-height) * .95);
  background:color-mix(in srgb,var(--surface-2) 72%, transparent);
  border:1px solid color-mix(in srgb,var(--progress-color-value) 42%, transparent);
  box-shadow:
    inset 0 0 0 1px color-mix(in srgb,var(--progress-color-value) 18%, transparent),
    0 12px 32px -22px color-mix(in srgb,var(--progress-color-value) 55%, transparent);
  overflow:hidden;
  isolation:isolate;
  color:var(--text);
  transition:background .35s ease, border-color .35s ease, box-shadow .35s ease;
}

.tracker-progress::before{
  content:"";
  position:absolute;
  inset:-18%;
  border-radius:inherit;
  background:radial-gradient(120% 120% at 50% 0%, color-mix(in srgb,var(--progress-color-value) 28%, transparent) 0%, transparent 72%);
  opacity:.45;
  pointer-events:none;
  filter:blur(22px);
  transition:opacity .35s ease;
}

.tracker-progress::after{
  content:"";
  position:absolute;
  inset:-4px;
  border-radius:inherit;
  border:1px solid color-mix(in srgb,var(--progress-color-value) 42%, transparent);
  opacity:0;
  pointer-events:none;
  transform:scale(.94);
}

.tracker-progress__bar{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  opacity:0;
  pointer-events:none;
  z-index:0;
}

.tracker-progress__meter{
  position:absolute;
  inset:0;
  border-radius:inherit;
  overflow:hidden;
  pointer-events:none;
  z-index:0;
}

.tracker-progress__fill{
  position:absolute;
  inset:0;
  background:linear-gradient(135deg,
      color-mix(in srgb,var(--progress-color-value) 80%, transparent) 0%,
      color-mix(in srgb,var(--progress-color-value) 32%, transparent) 65%,
      transparent 100%);
  transform-origin:left center;
  transform:scaleX(var(--progress-ratio-value));
  opacity:.88;
  transition:transform .55s cubic-bezier(.22,1,.36,1), opacity .35s ease;
}

.tracker-progress__death{
  position:absolute;
  inset-inline:clamp(12px,3.4vw,18px);
  inset-block-end:clamp(10px,2.8vw,14px);
  height:6px;
  border-radius:999px;
  opacity:0;
  transform:scaleX(0);
  pointer-events:none;
  transition:opacity .35s ease, transform .45s cubic-bezier(.22,1,.36,1);
  z-index:1;
}

.tracker-progress__death--success{
  background:linear-gradient(90deg,
      color-mix(in srgb,var(--success,#22c55e) 80%, transparent),
      color-mix(in srgb,var(--success,#22c55e) 55%, transparent));
  transform-origin:left center;
}

.tracker-progress__death--failure{
  background:linear-gradient(90deg,
      color-mix(in srgb,var(--error,#f87171) 55%, transparent),
      color-mix(in srgb,var(--error,#f87171) 80%, transparent));
  transform-origin:right center;
}

.tracker-progress[data-death-state] .tracker-progress__death{
  opacity:.7;
}

.tracker-progress[data-death-state] .tracker-progress__death--success{
  transform:scaleX(var(--death-success-ratio-value));
}

.tracker-progress[data-death-state] .tracker-progress__death--failure{
  transform:scaleX(var(--death-failure-ratio-value));
}

.tracker-progress__labels{
  position:relative;
  display:grid;
  gap:clamp(4px,1.6vw,6px);
  justify-items:center;
  text-align:center;
  z-index:2;
  color:color-mix(in srgb,var(--text) 90%, var(--progress-color-value) 10%);
  text-shadow:0 1px 1px rgba(0,0,0,.32);
}

.tracker-progress__label{
  font-size:clamp(.6rem,1.6vw,.75rem);
  letter-spacing:.14em;
  text-transform:uppercase;
  font-weight:600;
  opacity:.8;
}

.tracker-progress__label--top{
  font-size:clamp(.56rem,1.4vw,.7rem);
  letter-spacing:.18em;
}

.tracker-progress__value{
  font-size:clamp(1.35rem,4.2vw,1.95rem);
  font-weight:700;
  line-height:1;
}

.tracker-progress__status{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:2px 10px;
  border-radius:999px;
  border:1px solid color-mix(in srgb,var(--status-color,var(--tracker-status-color,var(--progress-color-value))) 45%, transparent);
  background:color-mix(in srgb,var(--status-color,var(--tracker-status-color,var(--progress-color-value))) 18%, transparent);
  font-size:clamp(.6rem,1.8vw,.72rem);
  font-weight:700;
  letter-spacing:.1em;
  text-transform:uppercase;
  color:color-mix(in srgb,var(--status-color,var(--tracker-status-color,var(--progress-color-value))) 70%, var(--text));
  min-width:fit-content;
  transition:background .35s ease, border-color .35s ease, color .35s ease;
}

.tracker-progress__status[data-status="healthy"]{--status-color:var(--success,#22c55e);}
.tracker-progress__status[data-status="wounded"]{--status-color:var(--warning,#f59e0b);}
.tracker-progress__status[data-status="critical"]{--status-color:var(--error,#f87171);}
.tracker-progress__status[data-status="full"]{--status-color:var(--success,#22c55e);}
.tracker-progress__status[data-status="steady"]{--status-color:var(--accent,#6366f1);}
.tracker-progress__status[data-status="low"]{--status-color:var(--warning,#f59e0b);}
.tracker-progress__status[data-status="depleted"]{--status-color:var(--error,#f87171);}
.tracker-progress__status[data-status="stable"]{--status-color:var(--success,#22c55e);}
.tracker-progress__status[data-status="unstable"]{--status-color:var(--warning,#f59e0b);}
.tracker-progress__status[data-status="dead"]{--status-color:var(--error,#f87171);}

.tracker-progress--death-roll::after{
  animation:trackerProgressRollGlow 1.3s ease-out;
}

body:not(.no-hover) .tracker-progress:hover::before{
  opacity:.55;
}

.hp-field__progress{
  --tracker-color:var(--success);
  --progress-color:var(--success);
  --progress-min-height:var(--control-min-height);
  min-height:var(--control-min-height);
  padding:clamp(6px,1.8vw,10px) clamp(12px,3vw,16px);
  border-radius:calc(var(--control-min-height)/2);
}

.hp-field__progress-label{
  letter-spacing:.08em;
  display:flex;
  align-items:center;
  gap:clamp(8px,2.4vw,12px);
  justify-content:flex-start;
  text-align:left;
  width:100%;
  align-self:center;
  justify-self:stretch;
}

.hp-field__controls{
  display:grid;
  gap:clamp(10px,3vw,14px);
  align-content:start;
}

.hp-field__options{
  justify-self:stretch;
  min-height:calc(var(--control-min-height) * 1.05);
  font-weight:600;
  letter-spacing:.08em;
  text-transform:uppercase;
}

.hp-field__amount{
  display:flex;
  flex-direction:column;
  gap:6px;
}

.hp-field__label{
  font-size:clamp(.72rem,2.2vw,.8rem);
  text-transform:uppercase;
  letter-spacing:.1em;
  color:var(--muted);
}

.hp-field__amount>input{
  min-height:var(--control-min-height);
  width:100%;
  text-align:center;
  font-size:var(--control-font-size);
  font-weight:600;
}

.hp-field__actions{
  display:grid;
  grid-template-columns:repeat(2,minmax(0,1fr));
  gap:var(--control-gap);
}

.hp-field__action{
  width:100%;
  justify-content:center;
  font-weight:700;
}

.hp-field__action--damage{
  background:linear-gradient(135deg,
      color-mix(in srgb,var(--error) 88%, white 12%),
      color-mix(in srgb,var(--error) 72%, black 8%));
  color:var(--text-on-accent);
  box-shadow:0 6px 18px rgba(0,0,0,.25);
}

body:not(.no-hover) .hp-field__action--damage:hover{
  background:linear-gradient(135deg,
      color-mix(in srgb,var(--error) 92%, white 8%),
      color-mix(in srgb,var(--error) 78%, black 10%));
}

.hp-field__action--heal{
  background:linear-gradient(135deg,
      color-mix(in srgb,var(--success) 88%, white 12%),
      color-mix(in srgb,var(--success) 70%, black 6%));
  color:var(--text-on-accent);
  box-shadow:0 6px 18px rgba(0,0,0,.25);
}

body:not(.no-hover) .hp-field__action--heal:hover{
  background:linear-gradient(135deg,
      color-mix(in srgb,var(--success) 92%, white 8%),
      color-mix(in srgb,var(--success) 76%, black 8%));
}

@media(max-width:560px){
  .hp-field__layout{
    grid-template-columns:1fr;
  }

  .hp-field__values{
    grid-template-columns:repeat(2,minmax(0,1fr));
    gap:clamp(8px,3vw,12px);
  }

  .hp-field__temp{
    justify-content:center;
  }
}
progress{
  --progress-color: var(--accent);
  -webkit-appearance:none;
  appearance:none;
  border:1px solid var(--progress-color);
  border-radius:calc(var(--progress-min-height)/2);
  background:var(--surface-2);
  overflow:hidden;
  height:var(--progress-min-height);
  min-block-size:var(--progress-min-height);
  block-size:var(--progress-min-height);
}
progress::-webkit-progress-bar{
  background:transparent;
}
progress::-webkit-progress-value{
  background:transparent;
}
progress::-moz-progress-bar{
  background:transparent;
}

@keyframes trackerPulse{
  0%,100%{opacity:.75;}
  50%{opacity:1;}
}

@keyframes trackerCharge{
  0%{background-position:0 50%;}
  100%{background-position:200% 50%;}
}

@keyframes trackerProgressRollGlow{
  0%{opacity:.6;transform:scale(1);}
  100%{opacity:0;transform:scale(1.22);}
}

.pill{
  --progress-color: var(--accent);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-height:var(--pill-min-height);
  min-block-size:var(--pill-min-height);
  padding:var(--pill-padding-y) var(--pill-padding-x);
  border:1px solid var(--progress-color);
  border-radius:999px;
  background:var(--surface-2);
  background:color-mix(in srgb, var(--progress-color) 22%, var(--surface-2));
  color:var(--text);
  font-size:var(--pill-font-size);
  font-weight:600;
  letter-spacing:.02em;
  text-shadow:0 1px 1px rgba(0,0,0,.35);
  white-space:nowrap;
}

.bar-label{position:relative}
.bar-label>progress:not(.tracker-progress__bar){
  width:100%;
  height:var(--progress-min-height);
  min-block-size:var(--progress-min-height);
  block-size:var(--progress-min-height);
  appearance:none;
  -webkit-appearance:none;
  background:transparent;
  border:none;
  color:inherit;
  opacity:0;
  position:relative;
  z-index:0;
}
.bar-label>span{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;font-size:.85rem;pointer-events:none;padding:0;z-index:2}
.card--tier .tier-summary{
  display:flex;
  flex-direction:column;
  gap:clamp(8px,2.8vw,12px);
}

.tier-summary__details{
  display:flex;
  gap:clamp(12px,3.6vw,18px);
  flex-wrap:wrap;
}

.tier-summary__detail{
  display:flex;
  align-items:baseline;
  gap:clamp(4px,1.8vw,8px);
}

.tier-summary__detail--summary{
  width:100%;
  justify-content:space-between;
}

.tier-summary__label{
  font-size:clamp(.7rem,2.2vw,.8rem);
  letter-spacing:.08em;
  text-transform:uppercase;
  color:var(--muted);
}

.tier-summary__value{
  font-size:clamp(.95rem,2.6vw,1.05rem);
  font-weight:700;
}

.tier-summary__value-input{
  border:0;
  background:none;
  color:inherit;
  font:inherit;
  padding:0;
  pointer-events:none;
}

.tier-summary__value-input:focus{
  outline:none;
}

.tier-summary__gains{
  margin:0;
  font-size:clamp(.75rem,2.4vw,.85rem);
  color:var(--muted);
}

.card--xp{
  padding:calc(var(--card-padding) * 2);
}

.xp-tracker{
  display:flex;
  flex-direction:column;
  gap:clamp(10px,3vw,16px);
}

.xp-tracker__header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:var(--control-gap);
}

.xp-tracker__title{
  margin:0;
}

.xp-tracker__pill{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-width:clamp(140px,40vw,190px);
  min-height:var(--tracker-pill-height);
  padding:var(--pill-padding-y) var(--pill-padding-x);
  border:1px solid var(--line);
  border-radius:999px;
  background:color-mix(in srgb,var(--surface-2) 85%, var(--accent) 15%);
  font-size:var(--pill-font-size-lg);
  font-weight:700;
  letter-spacing:.05em;
  text-transform:uppercase;
}

.xp-tracker__progress{
  width:100%;
}

.xp-tracker__controls{
  display:flex;
  flex-direction:column;
  gap:clamp(12px,4vw,18px);
}

.xp-tracker__inputs{
  display:flex;
  gap:var(--control-gap);
  flex-wrap:wrap;
}

.xp-tracker__amount{
  flex:1 1 160px;
}

.xp-tracker__mode{
  position:relative;
  flex:0 0 auto;
  min-width:clamp(130px,35vw,180px);
}

.xp-tracker__mode select{
  width:100%;
  appearance:none;
  -webkit-appearance:none;
  -moz-appearance:none;
  border:1px solid var(--line);
  border-radius:var(--radius);
  background:var(--surface-2);
  color:var(--text);
  font-size:var(--control-font-size);
  font-weight:600;
  padding:var(--control-padding-y) calc(var(--control-padding-x) * 1.2);
  padding-right:calc(var(--control-padding-x) * 2.4);
  min-height:var(--control-min-height);
  text-transform:uppercase;
  letter-spacing:.05em;
}

.xp-tracker__mode::after{
  content:"";
  position:absolute;
  inset-inline-end:calc(var(--control-padding-x) * .9);
  inset-block-start:50%;
  transform:translateY(-50%);
  font-weight:700;
  color:var(--accent);
  pointer-events:none;
}

.xp-tracker__submit{
  width:100%;
  border-radius:var(--radius);
  border:1px solid var(--accent);
  background:var(--accent);
  color:var(--text-on-accent);
  font-size:var(--control-font-size);
  font-weight:700;
  letter-spacing:.18em;
  text-transform:uppercase;
  min-height:var(--control-min-height);
  padding:var(--control-padding-y) var(--control-padding-x);
  transition:var(--transition);
}

body:not(.no-hover) .xp-tracker__submit:hover,
.xp-tracker__submit:focus-visible{
  background:var(--accent-2);
  border-color:var(--accent-2);
}

.xp-tracker__submit:focus-visible{
  outline:2px solid var(--accent-2);
  outline-offset:2px;
}
.pill-sm{padding:calc(var(--pill-padding-y)*.5) calc(var(--pill-padding-x)*.6);font-size:clamp(.65rem,2.2vw,.8rem)}
.pill.result{font-size:var(--pill-font-size-lg);font-weight:700;}
.pill.result:empty::before{content:attr(data-placeholder);visibility:hidden;}
.pill.result.rolling{animation:dicePop .6s ease-in-out;}
#dice-out.dice-result--crit-success,
#dice-out.dice-result--crit-failure{
  position:relative;
  overflow:visible;
  z-index:0;
}
#dice-out.dice-result--crit-success{
  --progress-color:var(--success);
  color:var(--success);
  box-shadow:0 0 18px color-mix(in srgb,var(--success) 55%,transparent);
  text-shadow:0 0 12px color-mix(in srgb,var(--success) 70%,transparent),0 1px 2px rgba(0,0,0,.5);
}
#dice-out.dice-result--crit-failure{
  --progress-color:var(--error);
  color:var(--error);
  box-shadow:0 0 18px color-mix(in srgb,var(--error) 55%,transparent);
  text-shadow:0 0 12px color-mix(in srgb,var(--error) 70%,transparent),0 1px 2px rgba(0,0,0,.5);
}
#dice-out.dice-result--crit-success::before,
#dice-out.dice-result--crit-success::after,
#dice-out.dice-result--crit-failure::before,
#dice-out.dice-result--crit-failure::after{
  content:"";
  position:absolute;
  inset:calc(-1 * clamp(14px,4vw,22px));
  border-radius:inherit;
  pointer-events:none;
  opacity:0;
}
#dice-out.dice-result--crit-success::before{
  z-index:-1;
  background:radial-gradient(circle at center,color-mix(in srgb,var(--success) 65%,transparent)0%,color-mix(in srgb,var(--success) 25%,transparent)55%,transparent 80%);
}
#dice-out.dice-result--crit-success::after{
  z-index:-2;
  background:
    conic-gradient(from 0deg at 50% 50%,color-mix(in srgb,var(--success) 65%,transparent)0deg,color-mix(in srgb,var(--success) 10%,transparent)45deg,transparent 90deg,transparent 180deg,color-mix(in srgb,var(--success) 55%,transparent)225deg,color-mix(in srgb,var(--success) 10%,transparent)270deg,transparent 315deg,transparent 360deg);
  filter:blur(2px);
}
#dice-out.dice-result--crit-failure::before{
  z-index:-1;
  background:radial-gradient(circle at center,color-mix(in srgb,var(--error) 65%,transparent)0%,color-mix(in srgb,var(--error) 25%,transparent)55%,transparent 80%);
}
#dice-out.dice-result--crit-failure::after{
  z-index:-2;
  background:
    conic-gradient(from 15deg at 50% 50%,color-mix(in srgb,var(--error) 70%,transparent)0deg,transparent 60deg,color-mix(in srgb,var(--error) 45%,transparent)120deg,transparent 180deg,color-mix(in srgb,var(--error) 70%,transparent)240deg,transparent 300deg,color-mix(in srgb,var(--error) 45%,transparent)345deg,transparent 360deg);
  filter:blur(2px);
}
#dice-out.dice-result--crit-success.rolling{animation:diceCritSuccess .72s cubic-bezier(.25,1,.4,1);}
#dice-out.dice-result--crit-failure.rolling{animation:diceCritFailure .72s cubic-bezier(.45,.01,.55,.99);}
#dice-out.dice-result--crit-success.rolling::before{animation:diceCritSuccessAura .78s ease-out;}
#dice-out.dice-result--crit-success.rolling::after{animation:diceCritSuccessFlare .78s ease-out;}
#dice-out.dice-result--crit-failure.rolling::before{animation:diceCritFailureAura .78s ease-out;}
#dice-out.dice-result--crit-failure.rolling::after{animation:diceCritFailureFlare .78s ease-out;}
@keyframes dicePop{
  0%{transform:scale(0);opacity:0;}
  50%{transform:scale(1.2);opacity:1;}
  100%{transform:scale(1);opacity:1;}
}
@keyframes diceCritSuccess{
  0%{transform:scale(.6);opacity:0;}
  24%{transform:scale(1.2);opacity:1;}
  58%{transform:scale(.94);}
  82%{transform:scale(1.06);}
  100%{transform:scale(1);opacity:1;}
}
@keyframes diceCritFailure{
  0%{transform:scale(.6) rotate(0deg);opacity:0;}
  20%{transform:scale(1.15) rotate(-6deg);opacity:1;}
  45%{transform:scale(1.05) rotate(5deg);}
  70%{transform:scale(.97) rotate(-3deg);}
  100%{transform:scale(1) rotate(0deg);opacity:1;}
}
@keyframes diceCritSuccessAura{
  0%{opacity:.75;transform:scale(.7);}
  45%{opacity:.45;transform:scale(1.35);}
  100%{opacity:0;transform:scale(1.8);}
}
@keyframes diceCritSuccessFlare{
  0%{opacity:.8;transform:rotate(0deg) scale(.6);}
  40%{opacity:.6;transform:rotate(20deg) scale(1.05);}
  100%{opacity:0;transform:rotate(40deg) scale(1.45);}
}
@keyframes diceCritFailureAura{
  0%{opacity:.7;transform:scale(.75) rotate(0deg);}
  30%{opacity:.45;transform:scale(1.2) rotate(3deg);}
  65%{opacity:.35;transform:scale(1.35) rotate(-3deg);}
  100%{opacity:0;transform:scale(1.45) rotate(0deg);}
}
@keyframes diceCritFailureFlare{
  0%{opacity:.75;transform:scale(.65);}
  25%{opacity:.6;transform:scale(1.1) skewX(-6deg);}
  55%{opacity:.4;transform:scale(1.25) skewX(4deg);}
  100%{opacity:0;transform:scale(1.45) skewX(0deg);}
}
#flip{flex:1;width:100%;display:block;}
.credits-card{
  display:flex;
  flex-direction:column;
  gap:var(--control-gap);
  align-items:stretch;
}

.credits-card__heading label{
  font-size:clamp(.85rem,2.6vw,1rem);
  font-weight:700;
  letter-spacing:.16em;
  text-transform:uppercase;
}

.credits-card__display{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:var(--control-gap);
  min-height:var(--form-control-height);
  padding:var(--control-padding-y) var(--control-padding-x);
  border:1px solid var(--line);
  border-radius:var(--radius);
  background:color-mix(in srgb,var(--surface-2) 80%, transparent);
  box-sizing:border-box;
}

.credits-card__currency{
  font-size:clamp(1.1rem,4.6vw,1.5rem);
  font-weight:700;
  letter-spacing:.08em;
}

.credits-card__total{
  flex:1;
  text-align:right;
  font-size:clamp(1.5rem,7vw,2.1rem);
  font-weight:700;
  letter-spacing:.06em;
  font-variant-numeric:tabular-nums;
}

.credits-card__summary{
  display:flex;
  flex-wrap:wrap;
  gap:clamp(4px,1.6vw,8px);
  font-size:clamp(.68rem,2.2vw,.82rem);
  letter-spacing:.08em;
  text-transform:uppercase;
  color:color-mix(in srgb,var(--text) 70%, transparent);
}

.credits-card__summary-item{padding-block:2px;}

.credits-card__controls{
  display:flex;
  flex-wrap:wrap;
  gap:var(--control-gap);
  align-items:stretch;
}

.credits-card__amount{
  display:flex;
  flex-direction:column;
  gap:clamp(4px,1.6vw,6px);
  flex:1 1 180px;
}

.credits-card__amount-label{
  font-size:clamp(.65rem,2.2vw,.75rem);
  font-weight:600;
  letter-spacing:.12em;
  text-transform:uppercase;
  color:color-mix(in srgb,var(--text) 60%, transparent);
}

.credits-card__amount input{
  width:100%;
  text-align:right;
  font-weight:600;
  letter-spacing:.04em;
  font-variant-numeric:tabular-nums;
}

.credits-card__mode-btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  min-height:var(--form-control-height);
  padding:var(--control-padding-y) var(--control-padding-x);
  border:1px solid var(--line);
  border-radius:var(--radius);
  background:var(--surface-2);
  color:var(--text);
  font-weight:600;
  font-size:var(--control-font-size);
  letter-spacing:.08em;
  text-transform:uppercase;
  cursor:pointer;
  transition:var(--transition);
  box-sizing:border-box;
}

body:not(.no-hover) .credits-card__mode-btn:hover,
.credits-card__mode-btn:focus-visible{
  border-color:var(--accent);
  box-shadow:0 0 0 2px color-mix(in srgb,var(--accent) 25%, transparent);
}

.credits-card__mode-btn:focus-visible{
  outline:2px solid var(--accent);
  outline-offset:2px;
}

.credits-card__mode-btn[data-mode="subtract"]{
  color:color-mix(in srgb,var(--error) 85%, transparent);
  border-color:color-mix(in srgb,var(--error) 60%, transparent);
  background:color-mix(in srgb,var(--error) 18%, var(--surface-2));
}

body:not(.no-hover) .credits-card__mode-btn[data-mode="subtract"]:hover,
.credits-card__mode-btn[data-mode="subtract"]:focus-visible{
  border-color:color-mix(in srgb,var(--error) 70%, transparent);
  box-shadow:0 0 0 2px color-mix(in srgb,var(--error) 25%, transparent);
  outline-color:color-mix(in srgb,var(--error) 70%, transparent);
}

.credits-card__mode-icon{font-size:1.1em;}

.credits-card__submit{
  width:100%;
  min-height:var(--control-min-height);
  padding:var(--control-padding-y) var(--control-padding-x);
  border-radius:var(--radius);
  border:1px solid var(--accent);
  background:var(--accent);
  color:var(--text-on-accent);
  font-weight:700;
  font-size:var(--control-font-size);
  letter-spacing:.16em;
  text-transform:uppercase;
  cursor:pointer;
  transition:var(--transition);
}

body:not(.no-hover) .credits-card__submit:hover,
.credits-card__submit:focus-visible{
  background:var(--accent-2);
  border-color:var(--accent-2);
}

.credits-card__submit:focus-visible{
  outline:2px solid var(--accent-2);
  outline-offset:2px;
}
.card.card-wide{max-width:none;width:100%;}
.grid>.card.card-wide{grid-column:1/-1;}
.faction-rep{display:grid;gap:12px;width:100%;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));grid-auto-flow:row;}
@media(min-width:900px){
  .faction-rep{grid-template-columns:repeat(auto-fit,minmax(260px,1fr));}
}
.faction-rep__card{display:flex;flex-direction:column;gap:10px;padding:12px;border-radius:var(--radius);background:none;border:none;box-shadow:none;}
.faction-rep__header{display:flex;align-items:center;justify-content:space-between;gap:8px;flex-wrap:wrap;}
.faction-rep__perk{display:flex;flex-direction:column;gap:6px;padding:10px;border-radius:calc(var(--radius) - 2px);background:color-mix(in srgb,var(--surface-2) 35%,transparent);}
.faction-rep__perk-label{font-size:.75rem;font-weight:600;letter-spacing:.08em;text-transform:uppercase;color:var(--muted);}
.faction-rep .inline{gap:calc(var(--control-gap)*.75);flex-wrap:wrap;}
.faction-rep .inline>button{flex:0 0 auto;width:auto;}
.faction-rep progress{width:100%;height:var(--progress-min-height);min-block-size:var(--progress-min-height);block-size:var(--progress-min-height);}
.faction-rep .btn-sm{min-height:var(--control-compact-min-height);padding:clamp(4px,1.8vw,8px) clamp(6px,2.6vw,10px);}
.faction-rep .perk{margin:0;font-size:.95rem;line-height:1.4;}
.death-saves-grid{display:grid;grid-template-columns:auto 64px auto;gap:16px;align-items:center;}
.death-save-tracks{display:flex;flex-direction:column;gap:16px;}
.death-save-group{display:flex;flex-direction:row;align-items:center;gap:4px;}
.death-save-group span{text-align:left;}
.death-save-group input[type="checkbox"]{margin:0;}
#death-save-out.death-save-result{display:flex;align-items:center;justify-content:center;border-radius:var(--radius);width:64px;height:64px;font-weight:700;--dice-result-radius:var(--radius);}
#death-save-out.death-save-result:empty::before{content:attr(data-placeholder);visibility:hidden;}
.death-save-result--pulse{animation:death-save-result-pulse 220ms ease-out;}
@keyframes death-save-result-pulse{0%{transform:scale(0.96);box-shadow:0 0 0 0 rgba(255,255,255,0.3);}100%{transform:scale(1);box-shadow:0 0 0 12px rgba(255,255,255,0);}}
.death-save-buttons{display:flex;flex-direction:column;gap:8px;}
.death-save-controls{display:flex;flex-direction:column;gap:12px;}
.death-save-control{display:flex;flex-direction:column;gap:4px;}
.death-save-control label{font-size:0.75rem;font-weight:600;}
.death-save-control input,.death-save-control select{width:100%;}
#down-animation{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  pointer-events:none;
  opacity:0;
  z-index:3000;
  will-change:opacity;
  background:radial-gradient(circle at 50% -20%,rgba(120,0,0,.35) 0,transparent 60%);
}
#down-animation img{
  display:block;
  width:min(40vmin,300px);
  max-width:70%;
  height:auto;
  opacity:0;
  transform:scale(0.6) rotate(-12deg);
  filter:drop-shadow(0 0 1.5rem rgba(120,0,0,.6));
  will-change:transform,opacity;
}
#down-animation.show{
  animation:downVeil 1.8s ease-in-out forwards;
}
#down-animation.show img{
  animation:downPulse 1.8s ease-in-out forwards;
}
@keyframes downVeil{
  0%{opacity:0;}
  12%{opacity:1;}
  70%{opacity:.9;}
  100%{opacity:0;}
}
@keyframes downPulse{
  0%{opacity:0;transform:scale(0.55) rotate(-18deg);}
  20%{opacity:1;transform:scale(1.05) rotate(-4deg);}
  55%{opacity:1;transform:scale(1) rotate(0deg);}
  80%{opacity:.9;transform:scale(0.92) rotate(-6deg);}
  100%{opacity:0;transform:scale(0.85) rotate(-10deg);}
}
#death-animation{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  pointer-events:none;
  opacity:0;
  z-index:3000;
  will-change:opacity;
}
#death-animation img{
  display:block;
  width:min(45vmin, 320px);
  max-width:80%;
  height:auto;
  opacity:0;
  transform:scale(0.6) rotate(-12deg);
  filter:drop-shadow(0 0 1.5rem rgba(136,0,0,0.55));
  will-change:transform,opacity;
}
#death-animation.show{
  animation:deathVeil 2.4s ease-in-out forwards;
}
#death-animation.show img{
  animation:deathPulse 2.4s ease-in-out forwards;
}
@keyframes deathVeil{
  0%{opacity:0;}
  18%{opacity:1;}
  60%{opacity:.95;}
  100%{opacity:0;}
}
@keyframes deathPulse{
  0%{opacity:0;transform:scale(0.5) rotate(-18deg);}
  20%{opacity:1;transform:scale(1.15) rotate(3deg);}
  55%{opacity:1;transform:scale(1) rotate(0);}
  80%{opacity:.9;transform:scale(0.95) rotate(-2deg);}
  100%{opacity:0;transform:scale(0.85) rotate(-8deg);}
}
#damage-animation{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:8rem;
  color:var(--error);
  text-shadow:0 0 1rem currentColor;
  pointer-events:none;
  opacity:0;
  z-index:3000;
  will-change:transform,opacity;
  gap:.25em;
}
#damage-animation.show{
  animation:damagePop 1s ease-in-out forwards;
}
#damage-animation::before{
  content:"";width:1em;height:1em;
  background:currentColor;
  clip-path:polygon(50% 0,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%);
}
@keyframes damagePop{
  0%{transform:scale(0) rotate(-45deg);opacity:0;}
  30%{transform:scale(1.4) rotate(0);opacity:1;}
  60%{transform:scale(1.2) rotate(10deg);opacity:1;}
  100%{transform:scale(0.5) rotate(20deg);opacity:0;}
}
#heal-animation{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:8rem;
  color:var(--success);
  text-shadow:0 0 1rem currentColor;
  pointer-events:none;
  opacity:0;
  z-index:3000;
  will-change:transform,opacity;
  gap:.25em;
}
#heal-animation.show{
  animation:healRise 1s ease-in-out forwards;
}
#heal-animation::before{
  content:"";width:1em;height:1em;background:currentColor;
  clip-path:polygon(50% 0%,61% 19%,78% 19%,100% 41%,100% 68%,50% 100%,0 68%,0 41%,22% 19%,39% 19%);
}
@keyframes healRise{
  0%{transform:translateY(20px) scale(0);opacity:0;}
  30%{transform:translateY(0) scale(1.2);opacity:1;}
  60%{transform:translateY(-10px) scale(1);opacity:1;}
  100%{transform:translateY(-40px) scale(0.8);opacity:0;}
}
#save-animation{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:6rem;
  color:var(--accent);
  text-shadow:0 0 1rem currentColor;
  pointer-events:none;
  opacity:0;
  z-index:3000;
  will-change:transform,opacity;
}
#save-animation.show{
  animation:saveSpin 1s ease-in-out forwards;
}
#save-animation::before{
  content:"";width:1em;height:1em;background:currentColor;
  clip-path:polygon(0 55%,15% 55%,35% 75%,100% 0,85% 0,35% 60%);
}
@keyframes saveSpin{
  0%{transform:scale(0) rotate(-360deg);opacity:0;}
  40%{transform:scale(1.2) rotate(0deg);opacity:1;}
  70%{transform:scale(1.2) rotate(180deg);opacity:1;}
  100%{transform:scale(0.5) rotate(360deg);opacity:0;}
}
#coin-animation{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:6rem;
  color:var(--accent);
  pointer-events:none;
  opacity:0;
  z-index:3000;
  will-change:transform,opacity;
  transform-style:preserve-3d;
  --coin-thickness:0.08em;
  --coin-face-color:#1f1302;
  --coin-rim:rgba(0,0,0,.32);
  --coin-final-rotation:0deg;
}
#coin-animation.show{
  animation:coinFlip3D 1s ease-in-out forwards;
}
#coin-animation .coin-face{
  position:absolute;
  top:50%;
  left:50%;
  width:1em;
  height:1em;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:0;
  letter-spacing:0;
  color:transparent;
  text-shadow:none;
  transform-style:preserve-3d;
  backface-visibility:hidden;
  box-shadow:
    0 0.18em 0.4em rgba(0,0,0,.45),
    inset 0 0.08em 0.22em rgba(255,255,255,.4),
    inset 0 0 0 0.035em var(--coin-rim);
}
#coin-animation .coin-result{
  position:absolute;
  top:50%;
  left:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  transform:translate(-50%,-50%);
  font-size:.22em;
  font-weight:700;
  letter-spacing:.12em;
  text-transform:uppercase;
  color:var(--coin-face-color);
  text-shadow:0 0.05em 0.12em rgba(0,0,0,.35);
  pointer-events:none;
  white-space:nowrap;
}
#coin-animation .coin-face--heads{
  background:
    radial-gradient(circle at 48% 28%,rgba(255,255,255,.85)0%,rgba(255,255,255,0)62%),
    radial-gradient(circle at 52% 74%,rgba(0,0,0,.2)0%,rgba(0,0,0,0)68%),
    conic-gradient(from 20deg,#f5e9c5 0%,#d4af37 45%,#f2d88e 70%,#b8841e 100%);
  transform:translate(-50%,-50%) translateZ(calc(var(--coin-thickness)/2));
}
#coin-animation .coin-face--tails{
  background:
    radial-gradient(circle at 46% 26%,rgba(255,255,255,.65)0%,rgba(255,255,255,0)60%),
    radial-gradient(circle at 54% 72%,rgba(0,0,0,.28)0%,rgba(0,0,0,0)68%),
    conic-gradient(from 210deg,#b47813 0%,#f3d89e 40%,#c98d1a 75%,#8f5f09 100%);
  transform:translate(-50%,-50%) rotateY(180deg) translateZ(calc(var(--coin-thickness)/2));
}
#coin-animation.is-tails{
  --coin-final-rotation:180deg;
}
#coin-animation.is-heads{
  --coin-final-rotation:0deg;
}
#coin-animation .coin-spark{
  position:absolute;
  top:50%;
  left:50%;
  width:0.34em;
  height:0.34em;
  pointer-events:none;
  opacity:0;
  transform-origin:center;
  filter:drop-shadow(0 0 0.18em rgba(255,255,255,.55));
}
#coin-animation .coin-spark::before,
#coin-animation .coin-spark::after{
  content:"";
  position:absolute;
  inset:0;
  border-radius:999px;
  background:linear-gradient(90deg,rgba(255,255,255,0)0%,rgba(255,255,255,.95)45%,rgba(255,255,255,0)100%);
}
#coin-animation .coin-spark::after{
  transform:rotate(90deg);
}
#coin-animation .coin-spark--leading{
  transform:translate(-50%,-50%) translate(-0.45em,-0.55em) scale(0.3);
}
#coin-animation .coin-spark--trailing{
  transform:translate(-50%,-50%) translate(0.25em,0.05em) scale(0.3);
}
#coin-animation.show .coin-spark--leading{
  animation:coinSparkLead 1s ease-out .18s forwards;
}
#coin-animation.show .coin-spark--trailing{
  animation:coinSparkTrail 1s ease-out .32s forwards;
}
@keyframes coinFlip3D{
  0%{
    opacity:0;
    transform:perspective(900px) translateY(-0.6em) scale(0) rotateX(-75deg) rotateY(calc(var(--coin-final-rotation, 0deg) - 540deg));
  }
  20%{
    opacity:1;
    transform:perspective(900px) translateY(-0.1em) scale(1.08) rotateX(32deg) rotateY(calc(var(--coin-final-rotation, 0deg) - 360deg));
  }
  55%{
    opacity:1;
    transform:perspective(900px) translateY(0) scale(1.02) rotateX(-24deg) rotateY(calc(var(--coin-final-rotation, 0deg) - 180deg));
  }
  78%{
    opacity:1;
    transform:perspective(900px) translateY(0.05em) scale(.98) rotateX(18deg) rotateY(calc(var(--coin-final-rotation, 0deg) - 60deg));
  }
  100%{
    opacity:0;
    transform:perspective(900px) translateY(0.35em) scale(.82) rotateX(0deg) rotateY(var(--coin-final-rotation, 0deg));
  }
}
@keyframes coinSparkLead{
  0%{opacity:0;transform:translate(-50%,-50%) translate(-0.35em,-0.45em) scale(0.15);}
  40%{opacity:1;transform:translate(-50%,-50%) translate(-0.6em,-0.8em) scale(1);}
  70%{opacity:.85;transform:translate(-50%,-50%) translate(-0.78em,-1.05em) scale(.8);}
  100%{opacity:0;transform:translate(-50%,-50%) translate(-0.95em,-1.28em) scale(0.35);}
}
@keyframes coinSparkTrail{
  0%{opacity:0;transform:translate(-50%,-50%) translate(0.2em,0.05em) scale(0.15);}
  45%{opacity:1;transform:translate(-50%,-50%) translate(0.48em,0.18em) scale(.95);}
  80%{opacity:.9;transform:translate(-50%,-50%) translate(0.7em,0.32em) scale(.75);}
  100%{opacity:0;transform:translate(-50%,-50%) translate(0.92em,0.48em) scale(0.3);}
}

#sp-animation{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:8rem;
  color:var(--accent-2);
  text-shadow:0 0 1rem currentColor;
  pointer-events:none;
  opacity:0;
  z-index:3000;
  will-change:transform,opacity;
  gap:.25em;
}
#sp-animation.show{
  animation:spPulse 1s ease-in-out forwards;
}
#sp-animation::before{
  content:"";width:1em;height:1em;background:currentColor;
  clip-path:polygon(50% 0,65% 35%,100% 50%,65% 65%,50% 100%,35% 65%,0 50%,35% 35%);
}
@keyframes spPulse{
  0%{transform:scale(0) rotate(0deg);opacity:0;}
  30%{transform:scale(1.2) rotate(180deg);opacity:1;}
  60%{transform:scale(1) rotate(360deg);opacity:1;}
  100%{transform:scale(0.5) rotate(540deg);opacity:0;}
}
@keyframes initiativeGlow{
  0%{box-shadow:0 0 0 0 color-mix(in srgb,var(--initiative-glow-color, var(--accent)) 60%, transparent);transform:translateZ(0) scale(1);}
  40%{box-shadow:0 0 0 12px color-mix(in srgb,var(--initiative-glow-color, var(--accent)) 10%, transparent);transform:translateZ(0) scale(1.05);}
  60%{box-shadow:0 0 0 8px color-mix(in srgb,var(--initiative-glow-color, var(--accent)) 18%, transparent);transform:translateZ(0) scale(1.02);}
  100%{box-shadow:0 0 0 0 color-mix(in srgb,var(--initiative-glow-color, var(--accent)) 0%, transparent);transform:translateZ(0) scale(1);}
}
#load-animation{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:6rem;
  color:var(--accent);
  text-shadow:0 0 1rem currentColor;
  pointer-events:none;
  opacity:0;
  z-index:3000;
  will-change:transform,opacity;
}
#load-animation.show{
  animation:loadDrop 1s ease-in-out forwards;
}
#load-animation::before{
  content:"";width:1em;height:1em;background:currentColor;
  clip-path:polygon(50% 100%,80% 60%,60% 60%,60% 0,40% 0,40% 60%,20% 60%);
}
@keyframes loadDrop{
  0%{transform:translateY(-50px) scale(0) rotate(-45deg);opacity:0;}
  40%{transform:translateY(0) scale(1.2) rotate(0deg);opacity:1;}
  70%{transform:translateY(10px) scale(1) rotate(10deg);opacity:1;}
  100%{transform:translateY(30px) scale(0.5) rotate(20deg);opacity:0;}
}
#draw-lightning,
#draw-flash{
  position:fixed;
  inset:0;
  pointer-events:none;
  opacity:0;
  transition:opacity .18s ease-in-out;
  z-index:3500;
}
#draw-lightning[hidden],
#draw-flash[hidden]{
  display:none !important;
}
#draw-lightning{
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:3600;
  filter:drop-shadow(0 0 24px rgba(59,130,246,.55));
}
#draw-lightning .shard-field{
  position:relative;
  width:min(500px,80vw);
  height:min(500px,80vw);
  display:flex;
  align-items:center;
  justify-content:center;
  isolation:isolate;
}
#draw-lightning .shard-field::before{
  content:"";
  width:min(140px,28vw);
  height:min(140px,28vw);
  border-radius:50%;
  background:radial-gradient(circle,rgba(255,255,255,.75) 0%,rgba(96,165,250,.55) 50%,rgba(59,130,246,0) 80%);
  opacity:.9;
  box-shadow:0 0 32px rgba(59,130,246,.45),0 0 64px rgba(59,130,246,.35);
}
#draw-lightning .shard{
  --start-angle:0deg;
  --orbit-radius:160px;
  --shard-delay:0ms;
  --shard-duration:1400ms;
  position:absolute;
  top:50%;
  left:50%;
  width:min(48px,9.5vw);
  height:min(120px,22vw);
  margin:-60px 0 0 -24px;
  background:linear-gradient(180deg,rgba(255,255,255,.95) 0%,rgba(125,211,252,.88) 45%,rgba(59,130,246,.35) 80%,rgba(59,130,246,0) 100%);
  clip-path:polygon(46% 0,60% 28%,96% 44%,70% 52%,92% 100%,44% 70%,14% 82%,32% 46%,4% 34%,28% 22%);
  mix-blend-mode:screen;
  opacity:0;
  transform-origin:center;
  animation:shardWhirl var(--shard-duration) cubic-bezier(.22,1,.36,1) var(--shard-delay) forwards;
  animation-play-state:paused;
  will-change:transform,opacity;
}
#draw-lightning.is-active{opacity:1;}
#draw-lightning.is-active .shard{animation-play-state:running;}
#draw-lightning .shard:nth-child(odd){filter:drop-shadow(0 0 18px rgba(191,219,254,.9));}
#draw-lightning .shard:nth-child(even){filter:drop-shadow(0 0 22px rgba(125,211,252,.7));}

#draw-flash{
  background:radial-gradient(circle at center,rgba(255,255,255,.85) 0%,rgba(191,219,254,.6) 28%,rgba(59,130,246,.35) 60%,rgba(14,17,23,.8) 100%);
  mix-blend-mode:screen;
  z-index:3500;
}
#draw-flash::before{
  content:"";
  position:absolute;
  inset:0;
  background:radial-gradient(circle at center,rgba(255,255,255,.65) 0%,rgba(59,130,246,.35) 45%,rgba(59,130,246,0) 70%);
}
#draw-flash.is-active{animation:shardFlash 1.4s ease-in-out forwards;opacity:1;}

@keyframes shardWhirl{
  0%{
    opacity:0;
    transform:translate(-50%,-50%) rotate(var(--start-angle)) translateX(var(--orbit-radius)) scale(.55);
  }
  20%{
    opacity:1;
  }
  68%{
    opacity:1;
    transform:translate(-50%,-50%) rotate(calc(var(--start-angle) + 240deg)) translateX(calc(var(--orbit-radius) * .42)) scale(.88);
  }
  100%{
    opacity:0;
    transform:translate(-50%,-50%) rotate(calc(var(--start-angle) + 360deg)) translateX(0px) scale(.35);
  }
}

@keyframes shardFlash{
  0%{opacity:0;transform:scale(1.05);}
  25%{opacity:.92;transform:scale(1);}
  55%{opacity:.65;transform:scale(1.03);}
  80%{opacity:.85;transform:scale(1.01);}
  100%{opacity:0;transform:scale(1.08);}
}
.sp-field{
  position:relative;
}

.sp-field__layout{
  display:grid;
  grid-template-columns:minmax(0,110px) minmax(0,1fr);
  gap:clamp(12px,3vw,18px);
  align-items:stretch;
}

.sp-field__status{
  display:flex;
  flex-direction:column;
  align-items:stretch;
  gap:clamp(12px,3vw,16px);
}

.sp-field__values{
  display:grid;
  gap:clamp(10px,2.8vw,14px);
}

.sp-field__value{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:6px;
  min-height:clamp(54px,9vw,74px);
  padding:clamp(8px,2.2vw,12px);
  border-radius:var(--radius);
  background:color-mix(in srgb,var(--surface-2) 65%, transparent);
  box-shadow:inset 0 0 0 1px color-mix(in srgb,var(--line) 70%, transparent);
  text-align:center;
}

.sp-field__value--max{
  background:color-mix(in srgb,var(--surface-2) 80%, transparent);
}

.sp-field__value-number{
  font-size:clamp(1.45rem,4vw,1.85rem);
  font-weight:700;
  line-height:1;
}

.sp-field__value-label{
  font-size:clamp(.7rem,2.2vw,.78rem);
  text-transform:uppercase;
  letter-spacing:.12em;
  color:var(--muted);
}

.sp-field__temp{
  display:inline-flex;
  align-self:center;
  padding:4px 10px;
  border-radius:999px;
  background:color-mix(in srgb,var(--accent) 20%, transparent);
  font-size:clamp(.7rem,2vw,.78rem);
  font-weight:600;
  letter-spacing:.06em;
  text-transform:uppercase;
  color:var(--accent);
}

.sp-field__progress{
  --tracker-color:var(--accent);
  --progress-color:var(--accent);
  --progress-min-height:var(--control-min-height);
  min-height:var(--control-min-height);
  padding:clamp(6px,1.8vw,10px) clamp(12px,3vw,16px);
  border-radius:calc(var(--control-min-height)/2);
}

.sp-field__progress-label{
  letter-spacing:.08em;
  display:flex;
  align-items:center;
  gap:clamp(8px,2.4vw,12px);
  justify-content:flex-start;
  text-align:left;
  width:100%;
  align-self:center;
  justify-self:stretch;
}

.hp-field__progress-label .tracker-progress__label,
.sp-field__progress-label .tracker-progress__label,
.hp-field__progress-label .tracker-progress__value,
.sp-field__progress-label .tracker-progress__value{
  flex:0 0 auto;
  line-height:1;
  white-space:nowrap;
}
.hp-field__progress-label .tracker-progress__label--top,
.sp-field__progress-label .tracker-progress__label--top{
  font-size:clamp(.55rem,1.4vw,.7rem);
  letter-spacing:.16em;
}
.hp-field__progress-label .tracker-progress__value,
.sp-field__progress-label .tracker-progress__value{
  font-size:clamp(1.05rem,3vw,1.35rem);
}
.hp-field__progress-label .tracker-progress__status,
.sp-field__progress-label .tracker-progress__status{
  margin-left:auto;
  padding:clamp(2px,0.8vw,4px) clamp(6px,1.6vw,10px);
  font-size:clamp(.55rem,1.6vw,.7rem);
  white-space:nowrap;
}

.sp-field__controls{
  display:grid;
  gap:clamp(10px,2.8vw,14px);
  align-content:start;
}

.sp-field__options{
  justify-self:stretch;
  min-height:calc(var(--control-min-height) * 1.05);
  font-weight:600;
  letter-spacing:.08em;
  text-transform:uppercase;
}

.sp-field__quick{
  display:flex;
  flex-direction:column;
  gap:clamp(8px,2.4vw,12px);
}

.sp-field__label{
  font-size:clamp(.72rem,2.2vw,.82rem);
  text-transform:uppercase;
  letter-spacing:.1em;
  color:var(--muted);
}

.sp-field .sp-keypad{display:flex;flex-direction:column;gap:calc(var(--control-gap) * 1.2);width:100%;}
.sp-field .sp-keypad__grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:var(--control-gap);width:100%;}
.sp-field .sp-keypad__btn{width:100%;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:clamp(1.1rem,3.6vw,1.35rem);padding:0;line-height:1;min-height:var(--control-min-height);height:var(--control-min-height);}
.sp-field .sp-keypad__btn .sr-only{line-height:normal;}
.sp-field .sp-keypad__spacer{display:block;height:var(--control-min-height);border-radius:var(--radius);background:color-mix(in srgb,var(--surface-2) 55%, transparent);box-shadow:inset 0 0 0 1px color-mix(in srgb,var(--line) 80%, transparent);pointer-events:none;}
.sp-field .sp-keypad__reset{width:100%;justify-content:center;min-height:calc(var(--control-min-height) * 1.05);font-weight:600;letter-spacing:0.05em;text-transform:uppercase;background:color-mix(in srgb,var(--accent) 18%, var(--surface) 82%);box-shadow:inset 0 0 0 1px color-mix(in srgb,var(--accent) 65%, transparent);}
body:not(.no-hover) .sp-field .sp-keypad__reset:hover{background:color-mix(in srgb,var(--accent) 35%, var(--surface) 65%);}
.sp-field .sp-keypad__reset:active{transform:translateY(1px);}

@media(max-width:520px){
  .sp-field__layout{
    grid-template-columns:1fr;
  }

  .sp-field__values{
    grid-template-columns:repeat(2,minmax(0,1fr));
    gap:clamp(8px,3vw,12px);
  }

  .sp-field .sp-keypad__btn{font-size:clamp(1.05rem,6.5vw,1.2rem);}
}

@media(max-width:420px){
  .sp-field .sp-keypad{gap:calc(var(--control-gap) * 1.05);}
  .sp-field .sp-keypad__btn{font-size:clamp(1rem,7.5vw,1.15rem);}
}

.sp-field #long-rest{width:100%;margin-top:8px;}
.custom-type-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:10px;margin:12px 0;}
.custom-type-grid .btn-sm{width:100%;}
.cap-field .cap-box{margin-top:8px;}
.card{border-radius:var(--radius);padding:var(--card-padding,8px);display:flex;flex-direction:column;gap:var(--card-gap,10px);transition:box-shadow .3s ease-in-out;background:rgba(8,12,24,.08);background-color:rgba(8,12,24,.08);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);margin-left:auto;margin-right:auto;width:100%;max-width:var(--content-width);font-size:1.1rem}
.gear-card-price{display:flex;justify-content:flex-end}
.gear-card-price .pill{margin:0 0 4px auto}
.card[hidden]{display:none !important}
.gear-card .gear-card-title{margin:0}
.gear-card .gear-card-action{align-self:flex-start}
.card[draggable]{cursor:grab}
.card:focus-within{box-shadow:0 0 0 2px var(--accent),var(--shadow)}
.card.dragging{opacity:.5}
.catalog{max-height:360px;overflow-y:auto;overflow-x:hidden;border-radius:10px;padding:6px}
.perk-list{margin:0;padding-left:20px;list-style:disc}
.perk{margin:0}
.feature-list{margin:0 0 12px;padding-left:20px;list-style:disc}
.catalog-item{display:grid;grid-template-columns:auto 1fr auto;gap:10px;align-items:center;padding:8px;border-bottom:1px solid var(--line)}
.catalog-item:last-child{border-bottom:none}
.catalog-item.active{background:var(--accent);color:var(--text-on-accent)}
.catalog-item.active .pill{border-color:var(--text-on-accent);color:var(--text-on-accent)}
.virtualized-list{position:relative}
.virtualized-list__item{position:relative;min-height:var(--virtual-estimate,220px);content-visibility:auto;contain:layout paint;contain-intrinsic-size:var(--virtual-estimate,220px);pointer-events:auto}
.virtualized-list__item[data-virtual-materialized="false"]{pointer-events:none}
.virtualized-list__message{padding:14px;text-align:center;color:var(--muted);font-size:clamp(.75rem,2vw,.9rem)}
.virtualized-list__message--error{color:var(--danger,#ff4d4f)}
.credits-ledger__filters{display:flex;flex-wrap:wrap;gap:8px;justify-content:center;margin-bottom:12px}
.credits-ledger__filters .btn-sm[aria-pressed="true"]{background:var(--accent);color:var(--text-on-accent)}
.catalog-item.credits-ledger__entry{display:flex;flex-direction:column;align-items:flex-start;gap:4px}
.credits-ledger__line{display:flex;justify-content:space-between;gap:12px;width:100%;font-weight:600}
.credits-ledger__amount,.credits-ledger__balance{font-variant-numeric:tabular-nums}
.credits-ledger__entry--gain .credits-ledger__amount{color:var(--success)}
.credits-ledger__entry--spend .credits-ledger__amount{color:var(--error)}
.credits-ledger__timestamp{color:var(--muted)}
.credits-ledger__empty{text-align:center;padding:16px 8px;color:var(--muted)}
#recover-list .recover-group{margin-bottom:16px}
#recover-list .recover-group:last-child{margin-bottom:0}
#recover-list .recover-group h4{margin:8px 4px;font-size:1rem;font-weight:600;color:var(--muted)}
#recover-list .recover-empty{padding:8px 4px;color:var(--muted)}
#char-list .catalog-item{grid-template-columns:1fr auto auto}
#char-list .catalog-item a{color:inherit;text-decoration:none;display:block}
.small{font-size:.9rem;color:var(--muted)}
.overlay{position:fixed;inset:0;min-height:calc(var(--vh,1vh)*100);display:flex;align-items:center;justify-content:center;z-index:1000;padding:calc(16px + var(--safe-area-top)) calc(20px + var(--safe-area-right)) calc(16px + var(--safe-area-bottom)) calc(20px + var(--safe-area-left));opacity:1;pointer-events:auto;transition:opacity .36s cubic-bezier(.22,1,.36,1);will-change:opacity;background:radial-gradient(120% 120% at 50% 10%,color-mix(in srgb,var(--surface) 22%,transparent) 0%,color-mix(in srgb,var(--surface) 8%,transparent) 45%,color-mix(in srgb,black 65%,transparent) 100%),linear-gradient(135deg,color-mix(in srgb,var(--accent) 12%,transparent),transparent);backdrop-filter:blur(18px) saturate(130%)}
.overlay.hidden{opacity:0;pointer-events:none}
.overlay__wrapper{position:relative;display:flex;align-items:stretch;justify-content:center;width:100%}
.overlay__halo{position:absolute;inset:clamp(-18px,-5vw,-12px);border-radius:calc(var(--radius) * 1.65);background:radial-gradient(120% 120% at 50% 0%,color-mix(in srgb,var(--accent) 30%,transparent) 0%,transparent 68%);filter:blur(28px);opacity:clamp(0,var(--modal-glow-strength,.35),.65);pointer-events:none;transition:opacity .36s cubic-bezier(.22,1,.36,1)}
.overlay.hidden .overlay__halo{opacity:0}
.modal{--modal-accent-color:hsl(var(--modal-accent-hue,244deg) 86% 65%);--modal-halo-color:color-mix(in srgb,var(--modal-accent-color) 60%,transparent);--modal-glow:clamp(0,var(--modal-glow-strength,.35),1);--modal-bg:color-mix(in srgb,var(--surface) 72%,transparent);--modal-border:color-mix(in srgb,var(--surface) 32%,transparent);--modal-shadow-ambient:0 20px 60px -35px color-mix(in srgb,var(--modal-accent-color) 35%,black 70%);--modal-shadow-edge:0 2px 24px -8px color-mix(in srgb,var(--modal-accent-color) 45%,transparent);--modal-enter-scale:var(--modal-scale-visible,1);--modal-enter-opacity:var(--modal-opacity-visible,1);background:transparent;border:none;border-radius:calc(var(--radius) * 1.02);width:min(var(--modal-width),calc(100vw - 24px - var(--safe-area-left) - var(--safe-area-right)));max-width:min(var(--modal-width),calc(100vw - 24px - var(--safe-area-left) - var(--safe-area-right)));padding:var(--modal-padding-block,14px) var(--modal-padding-inline,20px);padding-top:max(var(--modal-padding-top-min,8px),calc(var(--modal-padding-block,14px) - var(--modal-padding-top-offset,10px)));box-shadow:none;position:relative;max-height:calc(var(--vh,1vh)*100 - 32px - var(--safe-area-top) - var(--safe-area-bottom));overflow:auto;transform:scale(var(--modal-enter-scale));opacity:var(--modal-enter-opacity);transition:transform var(--modal-transition-duration,.34s) cubic-bezier(.22,1,.36,1),opacity var(--modal-transition-duration,.34s) cubic-bezier(.22,1,.36,1);will-change:transform,opacity;transform-origin:top center;backface-visibility:hidden;overscroll-behavior:contain;background-image:none;-webkit-backdrop-filter:none;backdrop-filter:none}.modal:focus{outline:none}
.overlay.hidden .modal{--modal-scale-visible:.94;--modal-opacity-visible:0;transform:scale(.95);opacity:0}
body.modal-open{overflow:hidden}
body.modal-open> :not(.overlay):not([data-launch-shell]){pointer-events:none;user-select:none}
body.modal-open [data-launch-shell]> :not(.overlay):not(.somf-reveal-alert){pointer-events:none;user-select:none}
body.touch-controls-disabled{touch-action:none}
body.touch-controls-disabled .app-shell{pointer-events:none}
.modal h3{margin:0 0 4px;color:var(--modal-accent-color,var(--accent));font-size:.9rem;line-height:1.2;font-weight:600}
.modal .x{position:sticky;top:max(4px,calc(var(--modal-padding-block,14px) - (var(--modal-padding-top-offset,10px) + 6px)));margin-left:auto;margin-right:6px;background:color-mix(in srgb,var(--modal-bg,rgba(255,255,255,.08)) 55%,transparent);border-radius:999px;color:inherit;cursor:pointer;display:flex;align-items:center;justify-content:center;width:30px;height:30px;transition:box-shadow .28s ease,color .28s ease,transform .28s ease,background .28s ease;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);box-shadow:0 4px 18px -12px rgba(0,0,0,.65);z-index:2}
body:not(.no-hover) .modal .x:hover{color:var(--modal-accent-color,var(--accent));background:color-mix(in srgb,var(--modal-accent-color) 22%,transparent);box-shadow:0 8px 22px -12px color-mix(in srgb,var(--modal-accent-color) 60%,transparent);transform:translateY(-1px)}
body:not(.no-hover) .modal .x:focus-visible{outline:2px solid var(--modal-accent-color,var(--accent));outline-offset:2px}

.modal .actions{display:flex;gap:8px;justify-content:flex-end;margin-top:12px}
.modal.modal--load-save{display:flex;flex-direction:column}
.modal.modal--load-save .catalog{flex:1 1 auto}
.modal.modal--load-save .modal--load-save__actions{justify-content:center;margin-top:auto;margin-left:auto;margin-right:auto}
#modal-load-list .modal,
#modal-recover-char .modal,
#modal-recover-list .modal,
#modal-load .modal,
#modal-pin .modal,
#modal-enc .modal,
#modal-hp-roll .modal,
#modal-short-rest .modal,
#modal-long-rest .modal,
#modal-gear .modal,
#modal-gear-add .modal,
#modal-action-log .modal,
#modal-catalog .modal,
#modal-credits .modal,
#modal-saves .modal,
#modal-skills .modal,
#modal-power-roll .modal,
#modal-view .modal,
#modal-level .modal,
#modal-damage .modal,
#modal-heal .modal,
#modal-spend-sp .modal,
#modal-gain-sp .modal,
#modal-treasure .modal,
#modal-hero-surge .modal,
#modal-reset .modal,
#modal-welcome .modal,
#modal-help .modal,
#modal-rules .modal,
#modal-save-confirm .modal,
#modal-delete-confirm .modal,
#modal-pin-confirm .modal,
#modal-pin-remove .modal,
#mini-game-invite .modal,
#modal-somf-dm .modal,
#dm-login-modal .modal,
#dm-notifications-modal .modal,
#dm-characters-modal .modal,
#dm-character-modal .modal,
#dm-mini-games-modal .modal,
#somfDM-npcModal .modal{
  scrollbar-gutter:stable both-edges;
}

#dm-rewards-modal .modal.dm-rewards{background:transparent;border:none;box-shadow:none;padding:0;max-width:min(1040px,calc(100vw - 24px));width:100%;display:flex;flex-direction:column;gap:16px}
.dm-rewards__header{display:flex;flex-direction:column;gap:6px;padding:0 4px}
.dm-rewards__header h3{margin:0;font-size:1.1rem}
.dm-rewards__intro{margin:0;font-size:.9rem;color:var(--muted)}
.dm-rewards__tabs{display:flex;flex-wrap:wrap;gap:8px;margin:0;padding:0;list-style:none;overflow-x:auto}
.dm-rewards__tabs::-webkit-scrollbar{height:6px}
.dm-rewards__panels{flex:1 1 auto;min-height:0;display:flex;flex-direction:column}
.dm-rewards__panel{flex:1 1 auto;min-height:0;display:none}
.dm-rewards__panel.is-active{display:flex;flex-direction:column;gap:16px}
.dm-rewards__panelContent{flex:1 1 auto;min-height:0;display:flex;flex-direction:column;gap:16px;overflow:auto;padding:0 2px 8px;align-items:center}
.dm-rewards__panel--catalog .dm-rewards__panelContent{align-items:stretch;overflow:hidden}
.dm-credit-card{background:linear-gradient(180deg,rgba(255,255,255,.08),rgba(255,255,255,.02));background:linear-gradient(180deg,color-mix(in srgb,var(--surface) 92%, transparent),color-mix(in srgb,var(--surface-2) 96%, transparent));border-radius:16px;box-shadow:0 18px 36px rgba(2,6,23,.5);padding:20px 18px;color:var(--text);display:flex;flex-direction:column;gap:18px;position:relative;overflow:hidden;width:100%;max-width:520px;margin:0 auto}
.theme-light .dm-credit-card{background:linear-gradient(180deg,color-mix(in srgb,var(--surface) 96%, transparent),color-mix(in srgb,var(--surface-2) 98%, transparent));box-shadow:0 16px 28px rgba(15,23,42,.18);border-color:color-mix(in srgb,var(--text) 8%, transparent)}
.dm-rewards .x{color:var(--text)}
.dm-credit__header{display:flex;justify-content:space-between;align-items:flex-start;gap:12px;flex-wrap:wrap}
.dm-credit__headerMain{display:flex;align-items:center;gap:12px;flex:1 1 auto;min-width:0}
.dm-credit__logo{width:52px;height:52px;border-radius:12px;padding:6px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,rgba(255,255,255,.08),rgba(255,255,255,.02));box-shadow:0 8px 18px rgba(2,6,23,.45);color:var(--accent)}
.theme-light .dm-credit__logo{background:linear-gradient(135deg,rgba(0,0,0,.08),rgba(255,255,255,.12));box-shadow:0 6px 16px rgba(15,23,42,.18);border-color:color-mix(in srgb,var(--text) 10%, transparent)}
.dm-credit__logo svg{display:block;width:36px;height:36px}
.dm-credit__titles{display:flex;flex-direction:column;gap:4px;min-width:0}
.dm-credit__bank{font-weight:700;font-size:1rem;letter-spacing:.02em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.dm-credit__subtitle{font-size:.85rem;color:var(--muted)}
.dm-quickRewards{width:100%;max-width:960px;display:flex;flex-direction:column;gap:18px;align-items:stretch}
.dm-quickRewards__header{display:flex;flex-wrap:wrap;align-items:flex-end;justify-content:space-between;gap:12px}
.dm-quickRewards__title{margin:0;font-size:1rem;font-weight:600}
.dm-quickRewards__target{display:flex;flex-direction:column;gap:6px;min-width:220px;flex:1 1 220px}
.dm-quickRewards__label{font-size:.75rem;font-weight:600;letter-spacing:.05em;text-transform:uppercase;color:var(--muted)}
.dm-quickRewards__select,.dm-quickRewards__control{position:relative;width:100%}
.dm-quickRewards__select select,.dm-quickRewards__control select,.dm-quickRewards__presetSelect select,.dm-quickRewards__field input{width:100%;padding:8px 12px;border-radius:10px;border:1px solid color-mix(in srgb,var(--text) 12%, transparent);background:color-mix(in srgb,var(--surface) 96%, transparent);color:inherit;font-size:.9rem;line-height:1.4;transition:var(--transition)}
.dm-quickRewards__presets{display:flex;flex-direction:column;gap:6px}
.dm-quickRewards__presetRow{display:flex;flex-wrap:wrap;gap:8px;align-items:center}
.dm-quickRewards__presetSelect{flex:1 1 180px}
.dm-quickRewards__presetButtons{display:flex;gap:6px;flex-wrap:wrap}
.dm-quickRewards__presetButtons .btn-sm{white-space:nowrap}
.dm-quickRewards__hint{margin:0;font-size:.75rem;color:var(--muted);line-height:1.3}
body:not(.no-hover) .dm-quickRewards__select select:hover,body:not(.no-hover) .dm-quickRewards__control select:hover,body:not(.no-hover) .dm-quickRewards__field input:hover{border-color:var(--accent)}
.dm-quickRewards__select select:focus-visible,.dm-quickRewards__control select:focus-visible,.dm-quickRewards__field input:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
.dm-quickRewards__grid{display:grid;gap:16px;width:100%;grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}
.dm-quickRewards__card{display:flex;flex-direction:column;gap:12px;padding:16px;border-radius:14px;border:none;background:none;box-shadow:none;transition:var(--transition)}
.theme-light .dm-quickRewards__card{background:none;box-shadow:none;border:none}
.dm-quickRewards__card[data-pending="true"]{opacity:.7}
.dm-quickRewards__cardTitle{margin:0;font-size:1rem;font-weight:600;color:var(--text)}
.dm-quickRewards__field{display:flex;flex-direction:column;gap:6px}
.dm-quickRewards__field--inline{display:grid;gap:8px;grid-template-columns:1fr}
.dm-quickRewards__fieldset{margin:0;padding:12px;border-radius:12px;display:flex;flex-direction:column;gap:10px}
.dm-quickRewards__fieldset legend{padding:0 6px;margin:0 0 4px;font-size:.85rem;font-weight:600;color:var(--muted)}
.dm-quickRewards__submit{align-self:flex-start}
@media(min-width:520px){.dm-quickRewards__field--inline{grid-template-columns:minmax(0,96px) minmax(0,1fr) minmax(0,96px);align-items:center}.dm-quickRewards__field--inline .dm-quickRewards__label{margin-bottom:0}.dm-quickRewards__field--inline .dm-quickRewards__control{width:100%}}
@media(min-width:720px){.dm-quickRewards__grid{gap:20px}}
.dm-credit__reference{display:flex;flex-direction:column;align-items:flex-end;gap:4px;flex:0 0 auto}
.dm-credit__label{font-size:.75rem;color:var(--muted);text-transform:uppercase;letter-spacing:.08em}
.dm-credit__chip{display:inline-block;padding:6px 10px;border-radius:10px;font-family:ui-monospace,Menlo,Monaco,"SFMono-Regular",monospace;font-size:.8rem;background:rgba(255,255,255,.08);background:color-mix(in srgb,var(--accent) 16%, transparent);color:var(--text);white-space:nowrap}
.dm-credit__grid{display:grid;grid-template-columns:1fr;gap:14px}
.dm-credit__field{display:flex;flex-direction:column;gap:6px}
.dm-credit__value{font-size:1rem}
.dm-credit__select{position:relative}
.dm-credit__select select{width:100%;padding:10px 38px 10px 12px;border-radius:8px;border:1px solid rgba(255,255,255,.14);border:1px solid color-mix(in srgb,var(--text) 14%, transparent);background:rgba(15,23,42,.35);background:color-mix(in srgb,var(--surface-2) 88%, transparent);color:var(--text);font:inherit;appearance:none;outline:none}
.theme-light .dm-credit__select select{background:color-mix(in srgb,#fff 85%, var(--surface-2) 15%);border-color:color-mix(in srgb,var(--text) 12%, transparent)}
.dm-credit__field--memo textarea{width:100%;min-height:64px;border-radius:var(--radius);border:1px solid rgba(255,255,255,.16);border:1px solid color-mix(in srgb,var(--text) 14%, transparent);background:rgba(15,23,42,.28);background:color-mix(in srgb,var(--surface-2) 90%, transparent);color:var(--text);padding:8px 10px;font-size:.9rem;resize:vertical;line-height:1.4;font-family:inherit}
.dm-credit__field--memo textarea:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
.theme-light .dm-credit__field--memo textarea{background:color-mix(in srgb,#fff 90%, var(--surface-2) 10%);border-color:color-mix(in srgb,var(--text) 12%, transparent)}
.dm-credit__optional{font-size:.75rem;color:var(--muted);font-weight:400;margin-left:4px;text-transform:none}
.dm-credit__memo-preview{margin-top:10px;padding-top:10px;display:flex;flex-direction:column;gap:6px}
.dm-credit__memo-preview[hidden]{display:none!important}
.dm-credit__memo-text{margin:0;font-size:.88rem;line-height:1.5;white-space:pre-wrap}
.dm-credit__select::after{content:'';position:absolute;right:14px;top:50%;transform:translateY(-50%);pointer-events:none;color:var(--muted);font-size:.85rem}
.dm-credit__amount{display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:8px;background:rgba(15,23,42,.2);background:color-mix(in srgb,var(--surface-2) 90%, transparent)}
.theme-light .dm-credit__amount{background:color-mix(in srgb,#fff 90%, var(--surface-2) 10%);border-color:color-mix(in srgb,var(--text) 14%, transparent)}
.dm-credit__amount span{font-size:1rem;color:var(--muted)}
.dm-credit__amount input{flex:1;background:transparent;border:none;color:inherit;font-size:1.4rem;font-weight:700;outline:none}
.dm-credit__status{display:flex;align-items:center;gap:6px;font-weight:600;color:var(--success);font-size:.95rem}
.dm-credit__status--debit{color:var(--error)}
.dm-credit__footer{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}
.dm-credit__timestamp{display:flex;align-items:center;gap:8px;color:var(--muted);font-size:.8rem}
.dm-credit__submit{background-color:var(--accent);background-image:linear-gradient(90deg,var(--accent),rgba(255,255,255,.28));color:var(--surface);border:none;padding:10px 18px;border-radius:10px;font-weight:700;cursor:pointer;box-shadow:0 12px 28px rgba(2,6,23,.45);min-width:120px;transition:transform .15s ease,box-shadow .15s ease,opacity .15s ease}
.dm-credit__submit:disabled{background-image:linear-gradient(90deg,var(--accent),rgba(255,255,255,.18))}
@supports (color:color-mix(in srgb, red 50%, blue 50%)){
  .dm-credit__submit{background-image:linear-gradient(90deg,var(--accent),color-mix(in srgb,var(--accent) 45%, var(--text-on-accent) 55%))}
  .dm-credit__submit:disabled{background-image:linear-gradient(90deg,var(--accent),color-mix(in srgb,var(--accent) 35%, var(--text-on-accent) 65%))}
}
.dm-credit__submit:focus-visible{outline:2px solid var(--accent);outline-offset:3px}
body:not(.no-hover) .dm-credit__submit:hover{transform:translateY(-1px);box-shadow:0 16px 32px rgba(2,6,23,.5)}
.dm-credit__submit:active{transform:translateY(0);box-shadow:0 10px 24px rgba(2,6,23,.4)}
.dm-credit__submit:disabled{opacity:.6;cursor:default;box-shadow:none;transform:none;color:var(--surface)}
.dm-credit__id{font-size:.8rem;color:var(--muted);font-family:ui-monospace,Menlo,Monaco,"SFMono-Regular",monospace}
@media (min-width:720px){
  .dm-credit-card{gap:20px;padding:24px 22px}
  .dm-credit__bank{font-size:1.1rem}
  .dm-credit__grid{gap:16px}
}
.player-credit-modal.modal{background:transparent;border:none;box-shadow:none;padding:0;width:100%;max-width:min(480px,calc(100vw - 18px))}
.player-credit-card{background:linear-gradient(180deg,color-mix(in srgb,var(--surface) 94%, transparent),color-mix(in srgb,var(--surface-2) 98%, transparent));border-radius:16px;box-shadow:0 16px 32px rgba(2,6,23,.45);padding:20px 18px;color:var(--text);display:flex;flex-direction:column;gap:16px;position:relative;overflow:hidden}
.theme-light .player-credit-card{background:linear-gradient(180deg,color-mix(in srgb,var(--surface) 96%, transparent),color-mix(in srgb,var(--surface-2) 99%, transparent));box-shadow:0 14px 28px rgba(15,23,42,.18);border-color:color-mix(in srgb,var(--text) 10%, transparent)}
.player-credit__header{display:flex;justify-content:space-between;align-items:flex-start;gap:12px;flex-wrap:wrap}
.player-credit__left{display:flex;align-items:center;gap:12px;flex:1 1 auto;min-width:0}
.player-credit__logo{width:48px;height:48px;border-radius:12px;padding:6px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,color-mix(in srgb,var(--surface-2) 78%, transparent),color-mix(in srgb,var(--surface) 88%, transparent));box-shadow:0 6px 16px rgba(2,6,23,.45);color:var(--accent);flex-shrink:0}
.theme-light .player-credit__logo{background:linear-gradient(135deg,color-mix(in srgb,#fff 84%, var(--surface-2) 16%),color-mix(in srgb,#fff 92%, var(--surface) 8%));box-shadow:0 6px 14px rgba(15,23,42,.18);border-color:color-mix(in srgb,var(--text) 10%, transparent)}
.player-credit__logo svg{display:block;width:36px;height:36px}
.player-credit__titles{display:flex;flex-direction:column;gap:4px;min-width:0}
.player-credit__bank{font-weight:700;font-size:1rem;letter-spacing:.02em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.player-credit__subtitle{font-size:.85rem;color:var(--muted)}
.player-credit__reference{display:flex;flex-direction:column;align-items:flex-end;gap:6px;flex:0 0 auto}
.player-credit__label{font-size:.75rem;color:var(--muted);text-transform:uppercase;letter-spacing:.08em}
.player-credit__chip{display:inline-block;padding:6px 10px;border-radius:10px;font-family:ui-monospace,Menlo,Monaco,"SFMono-Regular",monospace;font-size:.8rem;background:color-mix(in srgb,var(--accent) 16%, transparent);color:var(--text);white-space:nowrap}
.player-credit__grid{display:grid;grid-template-columns:1fr;gap:14px}
.player-credit__field{display:flex;flex-direction:column;gap:6px}
.player-credit__value{font-size:1rem;padding:10px 12px;border-radius:10px;background:color-mix(in srgb,var(--surface-2) 88%, transparent);word-break:break-word}
.player-credit__amount{font-size:1.35rem;font-weight:700;letter-spacing:.02em}
.player-credit__footer{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;margin-top:4px}
.player-credit__timestamp{display:flex;align-items:center;gap:8px;color:var(--muted);font-size:.85rem}
.player-credit__id{font-size:.85rem;color:var(--muted);font-family:ui-monospace,Menlo,Monaco,"SFMono-Regular",monospace}
.player-credit__history{margin-top:16px;padding-top:12px;display:flex;flex-direction:column;gap:8px}
.player-credit__history[hidden]{display:none!important}
.player-credit__history-title{margin:0;font-size:.8rem;color:var(--muted);text-transform:uppercase;letter-spacing:.08em}
.player-credit__history-list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:8px}
.player-credit__history-item{border-radius:var(--radius);padding:8px 10px;display:flex;flex-direction:column;gap:6px;background:rgba(0,0,0,.14);transition:var(--transition);outline:none;cursor:default}
.player-credit__history-item:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
body:not(.no-hover) .player-credit__history-item:hover{background:rgba(0,0,0,.2)}
.player-credit__history-header{display:flex;justify-content:space-between;gap:8px;align-items:center;flex-wrap:wrap}
.player-credit__history-amount{font-weight:600;font-size:.95rem}
.player-credit__history-type{font-size:.75rem;color:var(--muted);font-weight:500}
.player-credit__history-sender{font-size:.75rem;color:var(--muted)}
.player-credit__history-meta{font-size:.75rem;color:var(--muted)}
.player-credit__history-memo{font-size:.8rem;color:var(--text);font-style:italic;line-height:1.4;white-space:pre-wrap}
.theme-light .player-credit__history-item{background:rgba(0,0,0,.06)}
.theme-light body:not(.no-hover) .player-credit__history-item:hover{background:rgba(0,0,0,.1)}
.player-credit__field--memo .player-credit__value{white-space:pre-wrap}
.player-credit-card.reveal-anim{animation:playerCreditReveal .45s cubic-bezier(.2,.9,.2,1)}
@keyframes playerCreditReveal{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
@media (max-width:640px){
  .player-credit-modal.modal{max-width:calc(100vw - 12px)}
  .player-credit-card{padding:18px 16px;border-radius:14px;gap:14px}
  .player-credit__header{flex-direction:column;align-items:flex-start}
  .player-credit__reference{align-items:flex-start;width:100%}
  .player-credit__logo{width:44px;height:44px}
  .player-credit__value{font-size:.95rem;padding:10px 10px}
  .player-credit__amount{font-size:1.25rem}
  .player-credit__timestamp{font-size:.8rem}
  .player-credit__id{font-size:.8rem}
}
@media (max-width:480px){
  .player-credit-card{padding:16px 14px;gap:12px}
  .player-credit__titles{gap:2px}
  .player-credit__chip{font-size:.75rem}
  .player-credit__value{padding:9px 10px}
  .player-credit__amount{font-size:1.2rem}
}

.power-preset-menu{position:fixed;z-index:2000;display:flex;flex-direction:column;gap:var(--control-gap);padding:12px;background:var(--surface);border-radius:var(--radius);box-shadow:var(--shadow);width:min(360px,calc(100vw - 24px - var(--safe-area-left) - var(--safe-area-right)));max-width:min(360px,calc(100vw - 24px - var(--safe-area-left) - var(--safe-area-right)));max-height:calc(var(--vh,1vh)*100 - 24px - var(--safe-area-top) - var(--safe-area-bottom));overflow:auto;touch-action:manipulation;overscroll-behavior:contain}
.power-preset-menu__btn{width:100%;margin:0}
.power-preset-menu[data-placement="above"]{transform-origin:top center}
.power-preset-menu[data-placement="below"]{transform-origin:bottom center}

#dm-characters-modal .modal.dm-characters{max-width:none;width:100%;height:100%;max-height:none;display:flex;flex-direction:column;min-height:0;flex:1 1 auto}
#dm-characters-modal .modal-frame,#dm-character-modal .modal-frame{height:100%;display:flex;flex-direction:column;min-height:0;flex:1 1 auto;align-items:stretch}
#dm-characters-modal .dm-characters__header{display:flex;flex-direction:column;gap:12px;margin-bottom:12px}
#dm-characters-modal .dm-characters__header h3{margin:0;font-size:1.1rem}
#dm-characters-modal .dm-characters__controls{display:flex;flex-direction:column;gap:8px}
#dm-characters-modal .dm-characters__search{width:100%;padding:9px 12px;border-radius:var(--radius);background:rgba(0,0,0,.25);color:inherit;font:inherit}
#dm-characters-modal .dm-characters__search::placeholder{color:var(--muted)}
#dm-characters-modal .dm-characters__search:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
.theme-light #dm-characters-modal .dm-characters__search{background:rgba(255,255,255,.65)}
#dm-characters-modal .dm-characters__sort{display:flex;flex-wrap:wrap;gap:8px}
#dm-characters-modal .dm-characters__sort button{flex:0 0 auto}
#dm-characters-modal .dm-characters__sort button[aria-pressed="true"]{background:var(--accent);color:var(--text-on-accent)}
@media(min-width:640px){#dm-characters-modal .dm-characters__controls{flex-direction:row;align-items:center}}
@media(min-width:640px){#dm-characters-modal .dm-characters__controls .dm-characters__search{flex:1 1 auto;min-width:240px}}
#dm-characters-modal .dm-characters-list{list-style:none;margin:0;padding:0;flex:1;overflow:auto}
#dm-characters-modal .dm-characters__item{margin:0}
#dm-characters-modal .dm-characters__item+.dm-characters__item{margin-top:4px}
#dm-characters-modal .dm-characters__link{display:block;width:100%;text-align:left;background:rgba(0,0,0,.2);border-radius:var(--radius);padding:10px 12px;color:inherit;font:inherit;cursor:pointer;transition:var(--transition);text-decoration:none}
.theme-light #dm-characters-modal .dm-characters__link{background:rgba(255,255,255,.05)}
body:not(.no-hover) #dm-characters-modal .dm-characters__link:hover{color:var(--accent)}
#dm-characters-modal .dm-characters__link:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
#dm-characters-modal .dm-characters__placeholder{padding:12px;text-align:center;color:var(--muted);border-radius:var(--radius);margin:12px}
#dm-character-modal .modal.dm-character{max-width:none;width:100%;height:100%;max-height:none;display:flex;flex-direction:column;min-height:0;flex:1 1 auto}
#dm-character-modal .dm-character-sheet{flex:1;overflow:auto;padding:16px;display:flex;justify-content:center;align-items:flex-start;min-height:0}
#dm-character-modal .dm-characterSheet{display:flex;flex-direction:column;gap:16px;width:min(960px,100%);background:rgba(12,16,23,.88);border-radius:18px;padding:20px;box-shadow:0 22px 48px rgba(2,6,23,.55)}
.theme-light #dm-character-modal .dm-characterSheet{background:color-mix(in srgb,var(--surface) 96%, transparent);box-shadow:0 20px 40px rgba(15,23,42,.18)}
#dm-character-modal .dm-characterSheet__header{display:flex;flex-direction:column;gap:6px}
#dm-character-modal .dm-characterSheet__title{margin:0;font-size:1.35rem;font-weight:700}
#dm-character-modal .dm-characterSheet__subtitle{margin:0;font-size:.95rem;color:var(--muted)}
#dm-character-modal .dm-characterSheet__empty{margin:0;font-size:.95rem;color:var(--muted)}
#dm-character-modal .dm-characterSection{display:flex;flex-direction:column;gap:12px;border-radius:14px;padding:16px;background:rgba(14,20,31,.6)}
.theme-light #dm-character-modal .dm-characterSection{background:color-mix(in srgb,var(--surface-2) 85%, transparent);border-color:color-mix(in srgb,var(--text) 16%, transparent)}
#dm-character-modal .dm-characterSection__title{margin:0;font-size:.9rem;font-weight:700;letter-spacing:.08em;text-transform:uppercase;color:var(--muted)}
#dm-character-modal .dm-characterSection__subtitle{margin:0;font-size:.82rem;font-weight:600;color:var(--muted);text-transform:uppercase;letter-spacing:.08em}
#dm-character-modal .dm-characterSection__block{display:flex;flex-direction:column;gap:10px}
#dm-character-modal .dm-characterSection__block+.dm-characterSection__block{margin-top:8px}
#dm-character-modal .dm-characterList{margin:0;padding:0;list-style:none}
#dm-character-modal .dm-characterList--grid{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(160px,1fr))}
#dm-character-modal .dm-characterList--stack{display:flex;flex-direction:column;gap:10px}
#dm-character-modal .dm-characterList--abilities{grid-template-columns:repeat(auto-fit,minmax(120px,1fr))}
#dm-character-modal .dm-characterList--saves{grid-template-columns:repeat(auto-fit,minmax(160px,1fr))}
#dm-character-modal .dm-characterList--level{grid-template-columns:repeat(auto-fit,minmax(150px,1fr))}
#dm-character-modal .dm-characterField{display:flex;flex-direction:column;gap:4px}
#dm-character-modal .dm-characterField dt{margin:0;font-size:.72rem;font-weight:700;letter-spacing:.08em;text-transform:uppercase;color:var(--muted)}
#dm-character-modal .dm-characterField dd{margin:0;font-size:.96rem;line-height:1.5;white-space:pre-wrap}
#dm-character-modal .dm-characterEntries{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:12px}
#dm-character-modal .dm-characterEntry{border-radius:12px;padding:12px 14px;background:rgba(10,15,23,.55);display:flex;flex-direction:column;gap:8px}
.theme-light #dm-character-modal .dm-characterEntry{background:color-mix(in srgb,var(--surface-2) 90%, transparent);border-color:color-mix(in srgb,var(--text) 14%, transparent)}
#dm-character-modal .dm-characterEntry__title{margin:0;font-size:1rem;font-weight:600}
#dm-character-modal .dm-characterEntry__content{margin:0;font-size:.95rem;line-height:1.5;white-space:pre-wrap}
#dm-character-modal .dm-characterBulletList{margin:0;padding-left:18px;display:flex;flex-direction:column;gap:6px;font-size:.9rem;line-height:1.45}
#dm-character-modal .dm-characterNotes{margin:0;font-size:.95rem;line-height:1.6;white-space:pre-wrap}
#dm-mini-games-modal .modal.dm-mini-games{max-width:min(1080px,100%);width:100%;height:100%;max-height:none;display:flex;flex-direction:column;gap:16px;overflow:hidden}
.dm-mini-games__layout{display:flex;gap:16px;flex:1 1 auto;min-height:0}
.dm-mini-games__sidebar{flex:0 0 240px;display:flex;flex-direction:column;gap:8px;min-height:0}
.dm-mini-games__section-title{margin:0;font-size:.9rem;font-weight:600;color:var(--muted)}
.dm-mini-games__list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:8px;overflow:auto;border-radius:var(--radius);padding:8px}
.dm-mini-games__list li{margin:0}
.dm-mini-games__list button{width:100%;text-align:left;background:transparent;border-radius:var(--radius);padding:8px 10px;display:flex;flex-direction:column;gap:4px;color:inherit;cursor:pointer;transition:var(--transition)}
body:not(.no-hover) .dm-mini-games__list button:hover{color:var(--accent)}
.dm-mini-games__list button[aria-selected="true"]{background:var(--accent);color:var(--text-on-accent)}
.dm-mini-games__list button[aria-selected="true"] .dm-mini-games__list-tagline{color:var(--text-on-accent)}
.dm-mini-games__list-title{font-weight:600}
.dm-mini-games__list-tagline{font-size:.8rem;color:var(--muted)}
.dm-mini-games__content{flex:1 1 auto;display:flex;flex-direction:column;gap:16px;min-height:0}
.dm-mini-games__header{display:flex;align-items:flex-start;justify-content:space-between;gap:16px;flex-wrap:wrap}
.dm-mini-games__heading{display:flex;flex-direction:column;gap:4px}
.dm-mini-games__title{margin:0;font-size:1.1rem}
.dm-mini-games__tagline{margin:0;font-size:.9rem;color:var(--muted)}
.dm-mini-games__launch{align-self:flex-start;text-decoration:none;font-size:.85rem;padding:6px 10px;border-radius:var(--radius);color:var(--accent);transition:var(--transition)}
body:not(.no-hover) .dm-mini-games__launch:hover{background:var(--accent);color:var(--text-on-accent)}
.dm-mini-games__intro{margin:0 0 12px;font-size:.9rem;color:var(--muted);line-height:1.5}
.dm-mini-games__section{display:flex;flex-direction:column;gap:12px}
.dm-mini-games__section-heading{margin:0;font-size:.85rem;font-weight:600;color:var(--muted);text-transform:none;letter-spacing:.02em}
.dm-mini-games__hint{margin:0;font-size:.8rem;color:var(--muted);line-height:1.4}
.dm-mini-games__knobs{display:flex;flex-direction:column;gap:12px}
.dm-mini-games__knobs-toolbar{display:flex;flex-wrap:wrap;align-items:center;gap:12px;border-radius:var(--radius);padding:12px;background:rgba(0,0,0,.12)}
.theme-light .dm-mini-games__knobs-toolbar{background:rgba(255,255,255,.06)}
.dm-mini-games__knobs-toolbar p{margin:0;font-size:.8rem;color:var(--muted);flex:1 1 240px;line-height:1.5}
.dm-mini-games__knob-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}
.dm-mini-games__knob{border-radius:var(--radius);padding:12px;display:flex;flex-direction:column;gap:10px;background:rgba(0,0,0,.1);transition:var(--transition)}
.dm-mini-games__knob:focus-within{box-shadow:0 0 0 1px rgba(59,130,246,.35)}
.dm-mini-games__knob--dirty{box-shadow:0 0 0 1px rgba(59,130,246,.45)}
.dm-mini-games__knob--invalid{border-color:var(--error);box-shadow:0 0 0 1px rgba(244,63,94,.4)}
.theme-light .dm-mini-games__knob{background:rgba(255,255,255,.04)}
.theme-light .dm-mini-games__knob:focus-within{box-shadow:0 0 0 1px rgba(59,130,246,.35)}
.theme-light .dm-mini-games__knob--dirty{box-shadow:0 0 0 1px rgba(59,130,246,.45)}
.theme-light .dm-mini-games__knob--invalid{box-shadow:0 0 0 1px rgba(244,63,94,.35)}
.dm-mini-games__knob-header{display:flex;align-items:center;justify-content:space-between;gap:8px;flex-wrap:wrap}
.dm-mini-games__knob-title{font-weight:600;font-size:.9rem;cursor:pointer}
.dm-mini-games__knob-badge{display:inline-flex;align-items:center;gap:4px;font-size:.7rem;font-weight:600;color:var(--accent);background:rgba(59,130,246,.18);border-radius:999px;padding:2px 8px}
.theme-light .dm-mini-games__knob-badge{background:rgba(59,130,246,.22)}
.dm-mini-games__knob-reset{background:transparent;color:var(--muted);font-size:.75rem;padding:4px 8px;border-radius:var(--radius);font-weight:600;cursor:pointer;transition:var(--transition)}
body:not(.no-hover) .dm-mini-games__knob-reset:hover{color:var(--accent);border-color:var(--accent)}
.dm-mini-games__knob-reset:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
.dm-mini-games__knob-reset[disabled]{opacity:.45;cursor:not-allowed}
.dm-mini-games__knob-reset--all{font-size:.78rem;padding:6px 10px;color:var(--accent);font-weight:600}
body:not(.no-hover) .dm-mini-games__knob-reset--all:hover{background:var(--accent);color:var(--text-on-accent)}
.dm-mini-games__knob-reset--all[disabled]{color:var(--muted);background:transparent}
.dm-mini-games__knob-body{display:flex;flex-direction:column;gap:8px}
.dm-mini-games__knob-description{font-size:.78rem;color:var(--muted);font-weight:400}
.dm-mini-games__knob-meta{font-size:.75rem;color:var(--muted);font-weight:400}
.dm-mini-games__knob-status{font-size:.75rem;color:var(--muted);font-weight:500}
.dm-mini-games__knob-body input[type="number"],.dm-mini-games__knob-body input[type="text"],.dm-mini-games__knob-body select{width:100%}
.dm-mini-games__knob-toggle{display:flex;align-items:center;gap:10px;font-weight:600;font-size:.9rem;cursor:pointer}
.dm-mini-games__knob-toggle-status{font-size:.85rem;font-weight:500;color:var(--muted)}
.dm-mini-games__knob--dirty .dm-mini-games__knob-status{color:var(--accent)}
.dm-mini-games__knob--invalid .dm-mini-games__knob-status{color:var(--error)}
.dm-mini-games__knobs>.dm-mini-games__empty{margin:0}
.dm-mini-games__deploy-form{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}
.dm-mini-games__field{display:flex;flex-direction:column;gap:6px;font-size:.85rem}
.dm-mini-games__field span{font-weight:600}
.dm-mini-games__field textarea{min-height:64px;resize:vertical}
.dm-mini-games__field--recipients{grid-column:1/-1;display:flex;flex-direction:column;gap:8px}
.dm-mini-games__recipient-controls{display:flex;flex-direction:column;gap:8px}
.dm-mini-games__recipient-row{display:flex;flex-wrap:wrap;gap:8px;align-items:center}
.dm-mini-games__recipient-row select,.dm-mini-games__recipient-row input{flex:1 1 200px;min-width:0}
.dm-mini-games__recipient-row .btn-sm{flex:0 0 auto}
.dm-mini-games__recipients{display:flex;flex-wrap:wrap;gap:8px;min-height:34px}
.dm-mini-games__recipient-list{list-style:none;margin:0;padding:0;display:flex;flex-wrap:wrap;gap:8px}
.dm-mini-games__recipient-chip{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:var(--radius);background:color-mix(in srgb,var(--accent) 18%, transparent);font-size:.8rem}
.theme-light .dm-mini-games__recipient-chip{background:color-mix(in srgb,#fff 75%, var(--accent) 25%);border-color:color-mix(in srgb,var(--accent) 45%, transparent)}
.dm-mini-games__recipient-chip--roster{background:color-mix(in srgb,var(--accent-2) 18%, transparent);border-color:color-mix(in srgb,var(--accent-2) 45%, transparent)}
.theme-light .dm-mini-games__recipient-chip--roster{background:color-mix(in srgb,#fff 78%, var(--accent-2) 22%)}
.dm-mini-games__recipient-chip--custom{background:rgba(244,114,182,.18);border-color:rgba(244,114,182,.45)}
.theme-light .dm-mini-games__recipient-chip--custom{background:rgba(244,114,182,.16)}
.dm-mini-games__recipient-name{font-weight:600}
.dm-mini-games__recipient-remove{border:none;background:transparent;color:inherit;font-size:.9rem;line-height:1;cursor:pointer;padding:0;display:inline-flex;align-items:center;justify-content:center;min-width:20px}
body:not(.no-hover) .dm-mini-games__recipient-remove:hover{color:var(--accent)}
.dm-mini-games__recipients-empty{margin:0;font-size:.8rem;color:var(--muted)}
.dm-mini-games__recipient-actions{display:flex;gap:8px}
.dm-mini-games__recipients-clear{align-self:flex-start}
.dm-mini-games__deploy-progress{grid-column:1/-1;border-radius:var(--radius);padding:8px 10px;background:rgba(0,0,0,.12);display:flex;flex-direction:column;gap:6px;font-size:.8rem}
.theme-light .dm-mini-games__deploy-progress{background:rgba(0,0,0,.04)}
.dm-mini-games__deploy-progress[hidden]{display:none!important}
.dm-mini-games__deploy-progress-list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:4px}
.dm-mini-games__deploy-progress-item{display:flex;align-items:center;justify-content:space-between;gap:10px;padding:4px 6px;border-radius:var(--radius);border:1px solid transparent}
.dm-mini-games__deploy-progress-item--queued{opacity:.7}
.dm-mini-games__deploy-progress-item--sending{border-color:color-mix(in srgb,var(--accent) 40%, transparent)}
.dm-mini-games__deploy-progress-item--success{border-color:var(--success);background:rgba(34,197,94,.14)}
.dm-mini-games__deploy-progress-item--error{border-color:var(--error);background:rgba(248,113,113,.18);color:var(--error)}
.dm-mini-games__deploy-progress-name{font-weight:600}
.dm-mini-games__deploy-progress-status{flex:1 1 auto;text-align:right}
.dm-mini-games__actions{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
.dm-mini-games__readme{margin:0;border-radius:var(--radius);padding:12px;line-height:1.4;font-family:var(--font-mono,monospace);font-size:.78rem;white-space:pre-wrap;background:rgba(0,0,0,.35);flex:1 1 auto;overflow:auto}
.theme-light .dm-mini-games__readme{background:rgba(0,0,0,.05)}
.dm-mini-games__section--scroll{flex:1 1 220px;min-height:0}
.dm-mini-games__section-header{display:flex;align-items:center;justify-content:space-between;gap:12px}
.dm-mini-games__section-actions{display:flex;gap:8px}
.dm-mini-games__filters{display:flex;flex-wrap:wrap;gap:10px 16px;margin:0 0 8px;align-items:flex-end}
.dm-mini-games__filter{display:flex;flex-direction:column;gap:4px;font-size:.78rem;color:var(--muted)}
.dm-mini-games__filter span{font-weight:600}
.dm-mini-games__filter select{min-width:180px;padding:6px 12px;border-radius:var(--radius);border:1px solid var(--line);background:color-mix(in srgb,var(--surface-2) 88%, transparent);color:var(--text);font:inherit}
.theme-light .dm-mini-games__filter select{background:color-mix(in srgb,#fff 86%, var(--surface-2) 14%);border-color:color-mix(in srgb,var(--text) 12%, transparent)}
.dm-mini-games__preset-controls{display:flex;align-items:center;gap:8px;flex-wrap:wrap}
.dm-mini-games__preset-menu{flex:1 1 100%;border-radius:var(--radius);padding:8px;background:color-mix(in srgb,var(--surface-2) 92%, transparent);display:flex;flex-direction:column;gap:6px;max-height:220px;overflow:auto;margin-top:4px;box-shadow:var(--shadow)}
.dm-mini-games__preset-menu[hidden]{display:none!important}
.dm-mini-games__preset-list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:6px}
.dm-mini-games__preset-item{display:flex;align-items:center;gap:12px;border-radius:var(--radius);padding:6px 8px;background:rgba(0,0,0,.08)}
.theme-light .dm-mini-games__preset-menu{background:color-mix(in srgb,#fff 94%, transparent)}
.theme-light .dm-mini-games__preset-item{background:rgba(0,0,0,.04)}
.dm-mini-games__preset-apply{flex:1 1 auto;text-align:left;background:transparent;border:none;color:var(--text);font-weight:600;font-size:.85rem;cursor:pointer}
body:not(.no-hover) .dm-mini-games__preset-apply:hover{color:var(--accent)}
.dm-mini-games__preset-actions{display:flex;gap:6px;flex-wrap:wrap}
.dm-mini-games__preset-actions button{background:transparent;border:none;color:var(--muted);font-size:.75rem;padding:0;cursor:pointer}
body:not(.no-hover) .dm-mini-games__preset-actions button:hover{color:var(--accent);text-decoration:underline}
.dm-mini-games__preset-empty{margin:0;font-size:.8rem;color:var(--muted)}
.dm-mini-games__deployments{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:12px;overflow:auto}
.dm-mini-games__deployment{border-radius:var(--radius);padding:10px;display:flex;flex-direction:column;gap:8px;background:rgba(0,0,0,.15)}
.theme-light .dm-mini-games__deployment{background:rgba(255,255,255,.08)}
.dm-mini-games__deployment[data-status="completed"]{border-color:var(--success)}
.dm-mini-games__deployment[data-status="active"]{border-color:var(--accent)}
.dm-mini-games__deployment[data-status="cancelled"]{border-color:var(--error)}
.dm-mini-games__deployment[data-status="scheduled"]{border-color:var(--accent-2)}
.dm-mini-games__deployment[data-status="expired"]{border-color:var(--error);background:rgba(248,113,113,.12)}
.dm-mini-games__deployment--scheduled{box-shadow:0 0 0 1px color-mix(in srgb,var(--accent-2) 35%, transparent)}
.dm-mini-games__deployment--upcoming{box-shadow:0 0 0 1px color-mix(in srgb,var(--accent) 45%, transparent)}
.dm-mini-games__deployment--expired{opacity:.92}
.dm-mini-games__deployment--stale{border-color:var(--accent-2);box-shadow:0 0 0 1px color-mix(in srgb,var(--accent-2) 40%, transparent)}
.dm-mini-games__deployment-header{display:flex;flex-direction:column;gap:4px}
.dm-mini-games__deployment-meta{font-size:.75rem;color:var(--muted);display:flex;flex-wrap:wrap;gap:8px}
.dm-mini-games__deployment-time--scheduled{color:var(--accent)}
.dm-mini-games__deployment-time--upcoming{font-weight:600;color:var(--accent)}
.dm-mini-games__deployment-time--expires{color:var(--error)}
.dm-mini-games__deployment-time--stale{color:var(--accent-2);font-weight:600}
.dm-mini-games__deployment-summary{font-size:.85rem}
.dm-mini-games__deployment-notes{font-size:.8rem;color:var(--muted)}
.dm-mini-games__deployment-outcome{font-size:.8rem;padding:8px 10px;border-radius:var(--radius);background:rgba(15,23,42,.25);display:flex;flex-wrap:wrap;gap:6px;align-items:center}
.theme-light .dm-mini-games__deployment-outcome{background:rgba(255,255,255,.16)}
.dm-mini-games__deployment-outcome strong{font-size:.8rem}
.dm-mini-games__deployment-outcome--success{border-color:var(--success);background:rgba(34,197,94,.12)}
.dm-mini-games__deployment-outcome--failure{border-color:var(--error);background:rgba(248,113,113,.18)}
.dm-mini-games__deployment-outcome--expired{border-color:var(--error);background:rgba(248,113,113,.18)}
@media (max-width:720px){
  .dm-mini-games__recipient-row{flex-direction:column;align-items:stretch}
  .dm-mini-games__recipient-row select,.dm-mini-games__recipient-row input,.dm-mini-games__recipient-row .btn-sm{flex:1 1 auto;width:100%}
  .dm-mini-games__recipient-row .btn-sm{justify-content:center}
  .dm-mini-games__actions{flex-direction:column;align-items:stretch}
  .dm-mini-games__actions .btn-sm,.dm-mini-games__actions .somf-btn{width:100%}
  .dm-mini-games__deploy-progress{font-size:.75rem}
}
.dm-mini-games__deployment-outcome-meta{font-size:.75rem;color:var(--muted);margin-left:auto}
.dm-mini-games__deployment-actions{display:flex;flex-wrap:wrap;gap:8px;align-items:center}
.dm-mini-games__deployment-actions select{min-width:140px}
.dm-mini-games__deployment-nudge{background:transparent;color:var(--accent);padding:6px 12px;border-radius:var(--radius);font-weight:600;transition:var(--transition)}
body:not(.no-hover) .dm-mini-games__deployment-nudge:hover{background:var(--accent);color:var(--text-on-accent)}
.dm-mini-games__empty{padding:12px;border-radius:var(--radius);text-align:center;color:var(--muted)}
#dm-rewards-modal .dm-rewards__panel--catalog{flex:1 1 auto;min-height:0}
#dm-rewards-modal .dm-rewards__panel--catalog .dm-catalog{display:flex;flex-direction:column;gap:16px;flex:1 1 auto;min-height:0;overflow:hidden}
.dm-catalog{display:flex;flex-direction:column;gap:16px;flex:1 1 auto;min-height:0}
.dm-catalog__intro{margin:0;font-size:.9rem;color:var(--muted);line-height:1.5}
.dm-catalog__tabs,.dm-rewards__tabs{display:flex;flex-wrap:wrap;gap:8px;margin:0;padding:0;list-style:none;overflow-x:auto}
.dm-catalog__tabs::-webkit-scrollbar,.dm-rewards__tabs::-webkit-scrollbar{height:6px}
.dm-catalog__tab,.dm-rewards__tab{border-radius:var(--radius);background:transparent;color:inherit;font-weight:600;font-size:.85rem;padding:6px 12px;cursor:pointer;transition:var(--transition);flex:0 0 auto}
.dm-catalog__tab:focus-visible,.dm-rewards__tab:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
body:not(.no-hover) .dm-catalog__tab:not(.is-active):hover,body:not(.no-hover) .dm-rewards__tab:not(.is-active):hover{color:var(--accent)}
.dm-catalog__tab.is-active,.dm-rewards__tab.is-active,.dm-catalog__tab[aria-selected="true"],.dm-rewards__tab[aria-selected="true"]{background:var(--accent);color:var(--text-on-accent);box-shadow:0 1px 4px rgba(0,0,0,.18)}
.dm-catalog__panels{flex:1 1 auto;min-height:0;display:flex;flex-direction:column}
.dm-catalog__panel{flex:1 1 auto;min-height:0;display:none}
.dm-catalog__panel.is-active{display:flex;flex-direction:column;gap:16px}
.dm-catalog__form{flex:1 1 auto;display:flex;flex-direction:column;gap:16px;min-height:0;overflow:auto;padding-bottom:4px}
.dm-catalog__card{border:none;border-radius:var(--radius);padding:16px;display:flex;flex-direction:column;gap:16px;background:none}
.theme-light .dm-catalog__card{background:none}
.dm-catalog__panel-title{margin:0;font-size:1rem}
.dm-catalog__hint{font-size:.8rem;color:var(--muted);line-height:1.4}
.dm-catalog__grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px}
.dm-catalog__field{display:flex;flex-direction:column;gap:6px;font-size:.85rem}
.dm-catalog__field-label{font-weight:600}
.dm-catalog__field input,.dm-catalog__field textarea{width:100%;border:1px solid var(--line);border-radius:var(--radius);padding:8px 10px;background:rgba(0,0,0,.1);color:inherit;transition:var(--transition)}
.theme-light .dm-catalog__field input,.theme-light .dm-catalog__field textarea{background:rgba(255,255,255,.08)}
.dm-catalog__field input:focus,.dm-catalog__field textarea:focus{box-shadow:0 0 0 1px rgba(59,130,246,.35);outline:none}
.dm-catalog__field textarea{min-height:96px;resize:vertical}
.dm-catalog__lock{display:flex;align-items:flex-start;gap:10px;font-size:.85rem;font-weight:600}
.dm-catalog__lock input{margin-top:4px}
.dm-catalog__lock-copy{display:flex;flex-direction:column;gap:4px}
.dm-catalog__lock .dm-catalog__hint{font-weight:400;margin:0}
.dm-catalog__actions{display:flex;flex-wrap:wrap;gap:8px;justify-content:flex-end}
.dm-catalog__actions .btn-sm{order:0}
.dm-catalog__actions .somf-btn{order:1}
.dm-catalog__actions button{min-width:120px}
.dm-catalog__form footer{margin-top:auto}
@media(max-width:960px){.dm-mini-games__layout{flex-direction:column}.dm-mini-games__sidebar{flex:0 0 auto}.dm-mini-games__list{max-height:180px}}
@media(max-width:720px){#dm-mini-games-modal .modal.dm-mini-games{padding:16px}.dm-mini-games__header{flex-direction:column;align-items:flex-start}.dm-mini-games__deploy-form{grid-template-columns:1fr}#dm-rewards-modal .modal.dm-rewards{padding:16px}.dm-catalog__card{padding:14px}.dm-catalog__tabs,.dm-rewards__tabs{gap:6px}}

@media(max-width:640px){#dm-mini-games-modal{align-items:flex-start;justify-content:flex-start;padding:0;overflow-y:auto}#dm-mini-games-modal .modal.dm-mini-games{border-radius:0;box-shadow:none;height:auto;min-height:calc(var(--vh,1vh)*100);max-height:none;padding:calc(16px + env(safe-area-inset-top)) 16px calc(16px + env(safe-area-inset-bottom));overflow:visible}#dm-mini-games-modal .dm-mini-games__layout{flex-direction:column;gap:12px}#dm-mini-games-modal .dm-mini-games__sidebar{flex:0 0 auto}#dm-mini-games-modal .dm-mini-games__list{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:8px;max-height:none}#dm-mini-games-modal .dm-mini-games__list button{min-height:72px}#dm-mini-games-modal .dm-mini-games__section{gap:10px}#dm-mini-games-modal .dm-mini-games__section--scroll{flex:0 0 auto}#dm-mini-games-modal .dm-mini-games__readme{flex:0 0 auto;max-height:none;overflow:visible}#dm-mini-games-modal .dm-mini-games__deployments{max-height:none}#dm-mini-games-modal .dm-mini-games__knobs-toolbar{gap:8px}#dm-mini-games-modal .dm-mini-games__knob-reset--all{flex:1 1 100%}#dm-rewards-modal{align-items:flex-start;justify-content:flex-start;padding:0;overflow-y:auto}#dm-rewards-modal .modal.dm-rewards{border-radius:0;box-shadow:none;height:auto;min-height:calc(var(--vh,1vh)*100);max-height:none;padding:calc(16px + env(safe-area-inset-top)) 16px calc(16px + env(safe-area-inset-bottom));overflow:visible}#dm-rewards-modal .dm-rewards__panelContent{padding:0}#dm-rewards-modal .dm-rewards__panel--catalog .dm-catalog__panel.is-active{gap:12px}#dm-rewards-modal .dm-rewards__panel--catalog .dm-catalog__form{overflow:visible}#dm-rewards-modal .dm-rewards__panel--catalog .dm-catalog__card{gap:14px}}
#mini-game-invite .modal{--mini-game-invite-animation-duration:.44s;animation-duration:var(--mini-game-invite-animation-duration);animation-fill-mode:both;animation-timing-function:cubic-bezier(.22,1,.36,1);animation-name:none}
#mini-game-invite:not(.hidden).mini-game-invite--animate .modal{animation-name:mini-game-invite-modal-in}
@keyframes mini-game-invite-modal-in{0%{opacity:0;transform:translateY(16px) scale(.94)}60%{opacity:1}100%{opacity:1;transform:translateY(0) scale(1)}}
.mini-game-invite{max-width:min(420px,100%);display:flex;flex-direction:column;gap:16px;padding:20px 24px}
.mini-game-invite__header{display:flex;flex-direction:column;gap:6px;text-align:center}
.mini-game-invite__title{margin:0;font-size:1.05rem}
.mini-game-invite__message{margin:0;font-size:.9rem;color:var(--muted)}
.mini-game-invite__game{display:flex;flex-direction:column;gap:6px;align-items:center;text-align:center}
.mini-game-invite__name{font-weight:600;font-size:1rem}
.mini-game-invite__tagline{margin:0;font-size:.85rem;color:var(--muted)}
.mini-game-invite__summary{border-radius:var(--radius);padding:12px;font-size:.85rem;line-height:1.5;background:rgba(0,0,0,.15)}
.theme-light .mini-game-invite__summary{background:rgba(0,0,0,.05)}
.mini-game-invite__summary ul{margin:0;padding-left:20px;display:flex;flex-direction:column;gap:4px}
.mini-game-invite__notes{border-radius:var(--radius);padding:12px;background:rgba(59,130,246,.08);display:flex;flex-direction:column;gap:6px}
.theme-light .mini-game-invite__notes{background:rgba(59,130,246,.12)}
.mini-game-invite__notes-title{margin:0;font-size:.82rem;letter-spacing:.08em;text-transform:uppercase;color:var(--accent)}
.mini-game-invite__notes-text{margin:0;font-size:.88rem;line-height:1.5}
.mini-game-invite__actions{display:flex;flex-wrap:wrap;gap:12px;justify-content:space-between}
.mini-game-invite__decline{flex:1 1 120px;border:1px solid var(--error);color:var(--error);background:transparent;padding:10px 12px;border-radius:var(--radius);font-weight:600;cursor:pointer;transition:var(--transition)}
body:not(.no-hover) .mini-game-invite__decline:hover{background:rgba(244,63,94,.1)}
.mini-game-invite__decline:focus-visible{outline:2px solid var(--error);outline-offset:2px}
.mini-game-invite__accept{flex:1 1 160px;text-align:center;padding:12px 16px;font-weight:600}
@media(max-width:540px){.mini-game-invite{padding:18px}.mini-game-invite__actions{flex-direction:column}.mini-game-invite__decline,.mini-game-invite__accept{flex:1 1 auto;width:100%}}
#somf-confirm-draw .modal{max-width:min(420px,100%)}
.somf-confirm{max-width:min(420px,100%);display:flex;flex-direction:column;gap:16px;padding:22px 24px}
.somf-confirm__header{display:flex;flex-direction:column;gap:6px;text-align:center}
.somf-confirm__title{margin:0;font-size:1.1rem;font-weight:700}
.somf-confirm__description{margin:0;font-size:.9rem;color:var(--muted)}
.somf-confirm__count{margin:0;font-size:1rem;font-weight:600;text-align:center}
.somf-confirm__label{margin:0;font-size:.8rem;letter-spacing:.08em;text-transform:uppercase;color:var(--accent);text-align:center}
.somf-confirm__list{margin:0;padding-left:20px;display:flex;flex-direction:column;gap:6px;font-size:.9rem;line-height:1.5;text-align:left}
.somf-confirm__actions{display:flex;flex-wrap:wrap;gap:12px;justify-content:space-between}
.somf-confirm__cancel{flex:1 1 140px;background:rgba(255,255,255,.04);color:var(--text);padding:10px 12px;border-radius:var(--radius);font-weight:600;cursor:pointer;transition:var(--transition)}
.theme-light .somf-confirm__cancel{background:rgba(0,0,0,.04)}
body:not(.no-hover) .somf-confirm__cancel:hover{background:rgba(255,255,255,.08)}
body:not(.no-hover) .theme-light .somf-confirm__cancel:hover{background:rgba(0,0,0,.08)}
.somf-confirm__cancel:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
.somf-confirm__accept{flex:1 1 160px;text-align:center;padding:12px 16px;font-weight:600}
@media(max-width:540px){.somf-confirm{padding:18px}.somf-confirm__actions{flex-direction:column}.somf-confirm__cancel,.somf-confirm__accept{flex:1 1 auto;width:100%}}
#modal-help{align-items:flex-start;overflow-y:auto}
#modal-help .modal{max-height:none}
#modal-welcome .modal{
  font-size:.85rem;
  line-height:1.4;
  --welcome-modal-bg:color-mix(in srgb,var(--surface) 92%,rgba(5,8,22,.92));
  background:var(--welcome-modal-bg);
  border:1px solid color-mix(in srgb,var(--surface) 38%,transparent);
  box-shadow:var(--modal-shadow-edge),var(--modal-shadow-ambient);
  backdrop-filter:blur(24px) saturate(140%);
  -webkit-backdrop-filter:blur(24px) saturate(140%);
}
.theme-light #modal-welcome .modal{
  --welcome-modal-bg:color-mix(in srgb,#fff 94%,rgba(255,255,255,.88));
  border-color:color-mix(in srgb,var(--surface) 48%,rgba(0,0,0,.15));
}
#modal-welcome{align-items:center;justify-content:center}
#modal-welcome .actions{justify-content:center;width:100%;flex-wrap:nowrap;gap:var(--control-gap)}
#modal-welcome .actions button{font-size:.8rem;padding:8px 12px;white-space:nowrap;flex:0 0 auto;text-align:center}
@media(max-width:540px){#modal-welcome .actions{flex-direction:column;align-items:stretch;gap:10px}#modal-welcome .actions button{width:100%;font-size:.78rem;padding:8px 12px}}
#modal-welcome .welcome-modal__title{display:inline-flex;flex-wrap:wrap;gap:4px;align-items:baseline}
#modal-welcome .welcome-modal__title-break{display:inline}
#modal-welcome .welcome-modal__tab-label{text-decoration:underline;text-decoration-thickness:.08em;text-decoration-skip-ink:auto}
#modal-welcome .welcome-modal__preference{display:flex;justify-content:center;margin-bottom:var(--control-gap)}
#modal-welcome .welcome-modal__preference-label{display:inline-flex;align-items:center;gap:8px;font-size:.8rem}
#modal-welcome .welcome-modal__preference-label input{margin:0}
@media(max-width:600px){#modal-welcome .welcome-modal__title{display:block}#modal-welcome .welcome-modal__title-break{display:block}}
#modal-help .feature-list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:8px;font-size:90%}
#modal-help .feature-list li{display:flex;flex-direction:column;align-items:flex-start;gap:2px}
#modal-help .feature-list b{display:block}
#modal-help .feature-list .icon-group{display:flex;gap:4px}
#modal-help .feature-list svg{width:20px;height:20px;flex-shrink:0}
#modal-rules .modal-rules{max-width:var(--modal-width)}

@media(max-width:640px){
  .overlay{align-items:flex-start;justify-content:center;padding:calc(12px + var(--safe-area-top)) calc(12px + var(--safe-area-right)) calc(12px + var(--safe-area-bottom)) calc(12px + var(--safe-area-left))}
  .overlay .modal{border-radius:calc(var(--radius) * .9);max-width:calc(100vw - 24px - var(--safe-area-left) - var(--safe-area-right));width:calc(100vw - 24px - var(--safe-area-left) - var(--safe-area-right));padding:16px;box-shadow:0 12px 32px rgba(0,0,0,.45)}
  .power-preset-menu{width:calc(100vw - 24px - var(--safe-area-left) - var(--safe-area-right));max-width:calc(100vw - 24px - var(--safe-area-left) - var(--safe-area-right))}
}

@media(max-width:520px){
  .overlay .modal{padding:16px 14px}
  .mini-game-invite{padding:16px}
  .somf-confirm{padding:16px}
  .app-alert__card,
  .somf-reveal-alert__card{padding:24px 18px;border-radius:18px}
}
#somf-confirm-draw{transition:opacity .3s ease-in-out}
#somf-confirm-draw .modal{transition:transform .3s ease-in-out,opacity .3s ease-in-out}

#rules-text{white-space:pre-wrap}
.toast{position:fixed;bottom:18px;right:18px;z-index:2000;opacity:0;transform:translateY(8px);transition:opacity .3s ease-in-out,transform .3s ease-in-out;pointer-events:none;max-width:calc(100vw - 32px)}
.toast.show{opacity:1;transform:translateY(0);pointer-events:auto}
.toast:focus{outline:2px solid var(--accent);outline-offset:2px}
.toast.toast--speech-bubble{--toast-border-color:var(--accent);--toast-heading-color:var(--accent);--toast-bubble-shadow:6px 6px 0 rgba(0,0,0,.18),0 18px 28px -12px rgba(0,0,0,.4)}
.toast.toast--speech-bubble.success{--toast-border-color:var(--success);--toast-heading-color:var(--success)}
.toast.toast--speech-bubble.error,.toast.toast--speech-bubble.danger,.toast.toast--speech-bubble.failure{--toast-border-color:var(--error);--toast-heading-color:var(--error)}
.toast.toast--speech-bubble.warning{--toast-border-color:var(--warning,#f59e0b);--toast-heading-color:var(--warning,#f59e0b)}
.toast.toast--speech-bubble .toast__bubble{position:relative;display:flex;align-items:flex-start;gap:14px;padding:18px 20px;border:3px solid var(--toast-border-color);border-radius:18px;background:var(--surface);box-shadow:var(--toast-bubble-shadow);color:var(--text);max-width:min(420px,calc(100vw - 32px))}
.toast.toast--speech-bubble .toast__bubble::after,.toast.toast--speech-bubble .toast__bubble::before{content:"";position:absolute;pointer-events:none;bottom:-18px;right:30px;width:0;height:0}
.toast.toast--speech-bubble .toast__bubble::after{border-width:18px 16px 0 16px;border-style:solid;border-color:var(--toast-border-color) transparent transparent transparent}
.toast.toast--speech-bubble .toast__bubble::before{border-width:16px 14px 0 14px;border-style:solid;bottom:-16px;right:32px}
.toast.toast--speech-bubble .toast__icon{width:42px;height:42px;flex:0 0 auto;background-image:var(--toast-icon-image,none);background-repeat:no-repeat;background-position:center;background-size:contain;filter:drop-shadow(1px 1px 0 rgba(0,0,0,.25))}
.toast.toast--speech-bubble .toast__content{display:flex;flex-direction:column;gap:10px;flex:1;min-width:0}
.toast__body{display:flex;flex-direction:column;gap:4px}
.toast__message{font-size:.95em;line-height:1.5}
.toast.toast--speech-bubble .toast__body strong{display:block;margin-bottom:2px;color:var(--toast-heading-color);font-size:1.05em;text-transform:uppercase;letter-spacing:.06em;font-family:'Race Sport','Bangers','Comic Sans MS','Trebuchet MS',sans-serif;text-shadow:2px 2px 0 rgba(0,0,0,.18)}
.toast__actions{display:flex;align-items:center;justify-content:flex-end;gap:8px;align-self:flex-end;margin-top:6px}
.toast__actionButton{border:2px solid var(--toast-heading-color);border-radius:var(--radius);background:transparent;color:var(--toast-heading-color);font:inherit;font-size:.85em;padding:6px 14px;cursor:pointer;text-transform:uppercase;letter-spacing:.08em;transition:background-color .2s ease,color .2s ease}
.toast__actionButton:hover{background-color:var(--toast-heading-color);color:var(--surface)}
.toast__actionButton:focus-visible{outline:2px solid var(--toast-heading-color);outline-offset:2px}
.toast .toast-body{display:flex;flex-direction:column;gap:2px}
.toast .toast-body .toast-subtitle{font-size:.9em;font-style:italic}
.toast .toast-body .toast-line{font-size:.85em}
.toast-status{display:flex;flex-direction:column;gap:10px;line-height:1.5}
.toast-status__name{font-size:1.15em;text-transform:uppercase;letter-spacing:.08em;font-family:'Race Sport','Bangers','Comic Sans MS','Trebuchet MS',sans-serif;color:var(--toast-heading-color);text-shadow:2px 2px 0 rgba(0,0,0,.18)}
.toast-status__desc{margin:0;font-size:.9em;line-height:1.5}
.toast-status__list{margin:0;padding-left:1.25em;font-size:.9em;line-height:1.5;list-style:square}
.toast-status__list-item{margin:.3em 0}
.toast-status__section{margin-top:10px;padding-top:4px;border-top:1px solid color-mix(in srgb,var(--toast-heading-color) 28%,transparent)}
.toast-status__section-label{display:block;margin-bottom:4px;font-size:.72rem;font-weight:700;letter-spacing:.1em;text-transform:uppercase;color:var(--toast-heading-color);text-shadow:1px 1px 0 rgba(0,0,0,.1)}
.status-info__desc{margin:0}
.status-info__list{margin:0;padding-left:1.25em;list-style:disc}
.status-info__list-item{margin:.25em 0}
.status-info__section{margin-top:8px}
.status-info__section-label{display:block;margin-bottom:4px;font-weight:600;letter-spacing:.08em;text-transform:uppercase}


/* ability grid */
.ability-grid{display:grid;gap:clamp(10px,3vw,16px);grid-template-columns:repeat(auto-fit,minmax(clamp(140px,36vw,200px),1fr))}
#abil-grid{grid-template-columns:repeat(auto-fit,minmax(clamp(96px,26vw,140px),1fr))}

/* Ensure abilities tab cards remain opaque against the background art */
fieldset[data-tab="abilities"].card,
fieldset[data-tab="abilities"].card .card{
  background:linear-gradient(155deg,var(--surface-2) 0%,var(--surface) 82%);
}

fieldset[data-tab="abilities"] .ability-box{
  background:linear-gradient(160deg,var(--surface-2) 0%,var(--surface) 100%);
}

.ability-box{
  border:1px solid var(--line);
  border-radius:var(--radius);
  padding:8px;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:6px;
}

.ability-box label,
.ability-box .ability-label{
  margin-bottom:0;
}

/* Ensure skill names like "Sleight of Hand" fit on one line */
#skills{grid-template-columns:repeat(auto-fit,minmax(clamp(96px,28vw,150px),1fr))}
#skills .ability-box label,
#skills .ability-box .ability-label{
  font-size:0.8rem;
  text-align:center;
  white-space:normal;
  line-height:1.2;
}

#saves{grid-template-columns:repeat(auto-fit,minmax(clamp(96px,28vw,150px),1fr))}
#saves .ability-box label,
#saves .ability-box .ability-label{
  font-size:0.8rem;
  text-align:center;
  white-space:normal;
  line-height:1.2;
}

.ability-box .score{
  position:relative;
  width:100%;
}

.ability-box select{
  width:100%;
  height:72px;
  font-size:1.8rem;
  text-align:center;
}

.ability-box .score-val{
  display:flex;
  align-items:center;
  justify-content:center;
  width:100%;
  height:64px;
  font-size:1.6rem;
  border:1px solid var(--line);
  border-radius:var(--radius);
}
.proficiency-card__grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:var(--control-gap);margin-top:8px}
.proficiency-card__field{display:flex;flex-direction:column;gap:6px}
.proficiency-card__hidden{display:none}

.ability-box .mod{
  position:absolute;
  bottom:4px;
  right:4px;
  padding:4px 6px;
  border:1px solid var(--accent);
  border-radius:var(--radius);
  background:var(--surface-2);
  color:var(--accent);
  font-size:.85rem;
}

#hp-roll-list{
  margin:8px 0 0;
  padding:0;
  list-style:none;
}
#hp-roll-list li{
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin-top:4px;
}
#hp-roll-list li button{
  flex:0 0 auto;
}

/* Enhanced form control feedback */
body:not(.no-hover) input:not([type="checkbox"]):hover,
body:not(.no-hover) select:hover,
body:not(.no-hover) textarea:hover{
  border-color:var(--accent-2);
}

input:not([type="checkbox"]):focus,
select:focus,
textarea:focus{
  border-color:var(--accent);
  outline:2px solid var(--accent);
  outline-offset:2px;
  box-shadow:0 0 0 2px var(--accent);
}
input::placeholder,textarea::placeholder{color:var(--muted);opacity:1}

/* Validation states */
input:not([type="checkbox"]):invalid,
textarea:invalid{
  border-color:var(--error);
  background-image:var(--icon-error);
  background-repeat:no-repeat;
  background-position:right 12px center;
  background-size:16px;
  padding-right:40px;
}

select:invalid{
  border-color:var(--error);
  background-image:var(--icon-error),var(--chevron);
  background-repeat:no-repeat,no-repeat;
  background-position:right 12px center,right 36px center;
  background-size:16px 16px,16px 16px;
  padding-right:64px;
}

input:not([type="checkbox"])[required]:valid:not(:placeholder-shown),
textarea[required]:valid:not(:placeholder-shown){
  border-color:var(--success);
  background-image:var(--icon-success);
  background-repeat:no-repeat;
  background-position:right 12px center;
  background-size:16px;
  padding-right:40px;
}

select[required]:valid{
  border-color:var(--success);
  background-image:var(--icon-success),url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 8l4 4 4-4'/%3E%3C/svg%3E");
  background-repeat:no-repeat,no-repeat;
  background-position:right 12px center,right 36px center;
  background-size:16px 16px,16px 16px;
  padding-right:64px;
}


#resonance-points .subtext { font-size: 0.9rem; opacity: 0.85; }
.rp-row { display: flex; justify-content: space-between; align-items: center; margin: 6px 0 10px; }
.rp-label { font-weight: 600; }
.rp-track { display: flex; justify-content: center; align-items: center; gap: 8px; margin: 6px 0 12px; }
#rp-dec,
#rp-inc {
  inline-size: 20px;
  block-size: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  line-height: 1;
  padding: 0;
}
.rp-dot {
  inline-size: 10.5px;
  block-size: 10.5px;
  border-radius: 50%;
  border: 1.5px solid var(--line, #bbb);
  background: var(--bg, #fff);
  opacity: 1; /* override global button:disabled fade so progress dots stay visible */
}
.rp-dot[aria-pressed="true"] {
  background: var(--accent, #222);
  border-color: var(--accent, #222);
}
.rp-bank { display: flex; align-items: center; gap: 4px; margin-left: 8px; }
.rp-bank-label { font-size: 0.75rem; text-transform: uppercase; }
.rp-bank-dot { pointer-events: none; }
.rp-track.maxed .rp-dot {
  opacity: 0.5;
}
.cc-btn,
.btn-sm,
.menu button,
.theme-toggle__icon {
  --interactive-accent: var(--accent);
  --interactive-ripple-color: color-mix(in srgb, var(--interactive-accent) 70%, transparent);
  --interactive-glow-color: color-mix(in srgb, var(--interactive-accent) 28%, transparent);
  --interactive-shadow-soft: 0 0 0 1px color-mix(in srgb, var(--interactive-accent) 26%, transparent);
  --interactive-shadow-strong: 0 12px 28px color-mix(in srgb, var(--interactive-accent) 18%, transparent);
  --interactive-shadow-inner: inset 0 0 0 1px color-mix(in srgb, var(--interactive-accent) 18%, rgba(255, 255, 255, 0.06));
  --interactive-ripple-duration: 620ms;
  position: relative;
  overflow: hidden;
  isolation: isolate;
  transition: transform 0.22s ease, box-shadow 0.45s ease, color 0.35s ease, background 0.45s ease;
  box-shadow: var(--interactive-shadow-soft), var(--interactive-shadow-strong), var(--interactive-shadow-inner);
}

.cc-btn::before,
.btn-sm::before,
.menu button::before,
.theme-toggle__icon::before {
  content: "";
  position: absolute;
  inset: -35%;
  border-radius: inherit;
  pointer-events: none;
  background: radial-gradient(circle at center, var(--interactive-ripple-color) 0%, transparent 70%);
  opacity: 0;
  transform: scale(0.45);
  mix-blend-mode: screen;
  transition: opacity 0.45s ease, transform 0.45s ease;
  animation: none;
}

.btn-sm::after,
.menu button::after,
.theme-toggle__icon::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  background:
    radial-gradient(circle at 50% 25%, color-mix(in srgb, rgba(255, 255, 255, 0.6) 70%, transparent) 0%, transparent 68%),
    radial-gradient(circle at center, color-mix(in srgb, var(--interactive-glow-color) 55%, transparent) 0%, transparent 80%);
  opacity: 0;
  transition: opacity 0.45s ease;
  mix-blend-mode: screen;
}

@keyframes interactive-ripple {
  0% {
    transform: scale(0.35);
    opacity: 0.48;
  }
  60% {
    opacity: 0.24;
  }
  100% {
    transform: scale(1.12);
    opacity: 0;
  }
}

.btn-sm,
.menu button,
.theme-toggle__icon {
  transform: translateZ(0);
}

body:not(.no-hover) .btn-sm:hover,
body:not(.no-hover) .menu button:hover,
body:not(.no-hover) .theme-toggle__icon:hover {
  transform: translateY(-1px) scale(1.02);
  box-shadow:
    0 0 0 1px color-mix(in srgb, var(--interactive-accent) 38%, transparent),
    0 16px 36px color-mix(in srgb, var(--interactive-accent) 24%, transparent),
    inset 0 0 0 1px color-mix(in srgb, var(--interactive-accent) 20%, rgba(255, 255, 255, 0.08));
}

body:not(.no-hover) .btn-sm:hover::before,
body:not(.no-hover) .menu button:hover::before,
body:not(.no-hover) .theme-toggle__icon:hover::before {
  opacity: 0.38;
  transform: scale(0.9);
}

body:not(.no-hover) .btn-sm:hover::after,
body:not(.no-hover) .menu button:hover::after,
body:not(.no-hover) .theme-toggle__icon:hover::after {
  opacity: 0.55;
}

.btn-sm:active,
.menu button:active,
.theme-toggle__icon:active,
.btn-sm[data-state="pressed"],
.menu button[data-state="pressed"],
.theme-toggle__icon[data-state="pressed"] {
  transform: translateY(1px) scale(0.97);
  box-shadow:
    0 0 0 1px color-mix(in srgb, var(--interactive-accent) 32%, transparent),
    0 10px 22px color-mix(in srgb, var(--interactive-accent) 20%, transparent),
    inset 0 0 0 1px color-mix(in srgb, var(--interactive-accent) 24%, rgba(255, 255, 255, 0.12));
}

.btn-sm:active::before,
.menu button:active::before,
.theme-toggle__icon:active::before,
.btn-sm[data-state="pressed"]::before,
.menu button[data-state="pressed"]::before,
.theme-toggle__icon[data-state="pressed"]::before {
  opacity: 0.45;
  transform: scale(1.05);
  animation: interactive-ripple var(--interactive-ripple-duration) ease-out;
}

.btn-sm:active::after,
.menu button:active::after,
.theme-toggle__icon:active::after,
.btn-sm[data-state="pressed"]::after,
.menu button[data-state="pressed"]::after,
.theme-toggle__icon[data-state="pressed"]::after {
  opacity: 0.5;
}

.rp-surge-controls { display: grid; grid-template-columns: minmax(0,1fr); gap: 8px; margin: 10px 0; }
.rp-divide { margin: 12px 0; }
.rp-surge-status { margin: 6px 0 8px; }
#rp-surge-details { margin: 6px 0 8px; }
.rp-list { margin: 6px 0; padding-left: 18px; }
.rp-tags { display: flex; gap: 8px; margin-top: 8px; }
.tag { font-size: 0.8rem; padding: 2px 8px; border-radius: 999px; background: #e9f5ff; color: #0a5; border: 1px solid #bfe6ff; }
.tag.warn { background: #fff5e5; color: #a65; border-color: #ffd9a1; }

/* Shard of Many Fates  Catalyst Core Add-on */
#cc-shard.hidden { display: none; }
#cc-shard { background:#0c0f13; color:#e6f1ff; border-radius:8px; padding:16px; margin:12px 0; width:100%; max-width:var(--content-width); margin-inline:auto; }
#cc-shard h2, #cc-shard h3, #cc-shard h4 { margin: 0 0 8px 0; }
#cc-shard .muted { opacity:.8; }
.cc-btn {
  --cc-btn-accent: var(--accent);
  --interactive-accent: var(--cc-btn-accent);
  --interactive-ripple-color: color-mix(in srgb, var(--cc-btn-accent) 72%, transparent);
  --interactive-glow-color: color-mix(in srgb, var(--cc-btn-accent) 32%, transparent);
  --cc-btn-border: color-mix(in srgb, var(--cc-btn-accent) 55%, transparent);
  --cc-btn-glow: color-mix(in srgb, var(--cc-btn-accent) 22%, transparent);
  padding: 8px 12px;
  border-radius: clamp(9px, 2.6vw, 12px);
  border: 1px solid var(--cc-btn-border);
  background:
    linear-gradient(140deg,
      color-mix(in srgb, var(--surface) 82%, rgba(10, 16, 24, 0.82)) 0%,
      color-mix(in srgb, var(--surface-2) 62%, rgba(6, 12, 22, 0.9)) 52%,
      color-mix(in srgb, var(--cc-btn-accent) 38%, rgba(4, 9, 20, 0.94)) 100%);
  color: color-mix(in srgb, var(--text-on-accent) 88%, var(--text) 12%);
  box-shadow:
    0 0 0 1px color-mix(in srgb, var(--cc-btn-accent) 42%, transparent),
    0 14px 32px var(--cc-btn-glow),
    inset 0 0 0 1px color-mix(in srgb, var(--cc-btn-accent) 28%, rgba(255, 255, 255, 0.05));
  backdrop-filter: blur(14px) saturate(120%);
  -webkit-backdrop-filter: blur(14px) saturate(120%);
  cursor: pointer;
  position: relative;
  overflow: hidden;
  transition: background 0.35s ease, box-shadow 0.35s ease, border-color 0.35s ease,
    transform 0.2s ease, color 0.35s ease;
}
.cc-btn::after {
  content: "";
  position: absolute;
  inset: -2px;
  border-radius: inherit;
  pointer-events: none;
  background:
    radial-gradient(circle at 30% -20%, color-mix(in srgb, var(--interactive-glow-color) 80%, transparent) 0%, transparent 65%),
    linear-gradient(160deg, color-mix(in srgb, rgba(255, 255, 255, 0.45) 60%, transparent) 0%, transparent 50%);
  opacity: 0.32;
  mix-blend-mode: screen;
  transition: opacity 0.35s ease, transform 0.35s ease;
}
body:not(.no-hover) .cc-btn:hover {
  background:
    linear-gradient(142deg,
      color-mix(in srgb, var(--surface) 70%, rgba(12, 18, 30, 0.85)) 0%,
      color-mix(in srgb, var(--surface-2) 46%, rgba(6, 12, 24, 0.92)) 48%,
      color-mix(in srgb, var(--cc-btn-accent) 56%, rgba(2, 6, 14, 0.96)) 100%);
  border-color: color-mix(in srgb, var(--cc-btn-accent) 68%, transparent);
  box-shadow:
    0 0 0 1px color-mix(in srgb, var(--cc-btn-accent) 54%, transparent),
    0 16px 40px color-mix(in srgb, var(--cc-btn-accent) 32%, transparent),
    inset 0 0 0 1px color-mix(in srgb, var(--cc-btn-accent) 36%, rgba(255, 255, 255, 0.08));
  color: var(--text-on-accent);
  transform: translateY(-1px) scale(1.02);
}
body:not(.no-hover) .cc-btn:hover::after {
  opacity: 0.6;
  transform: scale(1.05);
}
body:not(.no-hover) .cc-btn:hover::before {
  opacity: 0.4;
  transform: scale(0.95);
}
.cc-btn:active {
  transform: translateY(1px) scale(0.97);
  box-shadow:
    0 0 0 1px color-mix(in srgb, var(--cc-btn-accent) 46%, transparent),
    0 10px 22px color-mix(in srgb, var(--cc-btn-accent) 24%, transparent),
    inset 0 0 0 1px color-mix(in srgb, var(--cc-btn-accent) 28%, rgba(255, 255, 255, 0.07));
}
.cc-btn:active::before,
.cc-btn[data-state="pressed"]::before {
  opacity: 0.48;
  transform: scale(1.08);
  animation: interactive-ripple var(--interactive-ripple-duration) ease-out;
}
.cc-btn:active::after,
.cc-btn[data-state="pressed"]::after {
  opacity: 0.52;
}
.cc-btn[data-state="pressed"] {
  transform: translateY(0) scale(0.99);
  box-shadow:
    0 0 0 1px color-mix(in srgb, var(--cc-btn-accent) 46%, transparent),
    0 10px 22px color-mix(in srgb, var(--cc-btn-accent) 24%, transparent),
    inset 0 0 0 1px color-mix(in srgb, var(--cc-btn-accent) 28%, rgba(255, 255, 255, 0.07));
}
.cc-btn:focus-visible {
  outline: 2px solid color-mix(in srgb, var(--cc-btn-accent) 75%, transparent);
  outline-offset: 2px;
}
.cc-btn--primary {
  --cc-btn-accent: var(--accent-2);
}
.cc-btn--ghost {
  --cc-btn-accent: color-mix(in srgb, var(--accent) 38%, var(--surface-2) 62%);
  color: var(--text);
  box-shadow:
    0 0 0 1px color-mix(in srgb, var(--cc-btn-accent) 36%, transparent),
    0 12px 28px color-mix(in srgb, var(--accent) 16%, transparent),
    inset 0 0 0 1px color-mix(in srgb, var(--cc-btn-accent) 18%, rgba(255, 255, 255, 0.04));
}
body:not(.no-hover) .cc-btn--ghost:hover {
  color: color-mix(in srgb, var(--text) 70%, var(--text-on-accent) 30%);
}
.cc-btn--danger {
  --cc-btn-accent: var(--error);
}

.cc-switch { display:inline-flex; align-items:center; gap:8px; }
.cc-deck__header { display:flex; align-items:center; justify-content:space-between; margin-bottom:12px; }
.cc-deck__top {
  display:grid;
  grid-template-columns: minmax(0, 1fr) minmax(0, 280px);
  gap:clamp(14px, 3vw, 24px);
  margin-bottom:clamp(12px, 2.6vw, 20px);
}
.cc-deck__main {
  display:grid;
  grid-template-columns: minmax(0, 2fr) minmax(0, 1fr);
  gap:clamp(14px, 3vw, 24px);
}
.cc-deck__drawRow, .cc-deck__saveRow { display:flex; align-items:center; gap:8px; margin:8px 0; }

.cc-deck__card {
  position:relative;
  border-radius:clamp(12px, 3vw, 18px);
  padding:clamp(14px, 3vw, 20px);
  border:none;
  background:none;
  box-shadow:none;
  color: var(--text);
  overflow:visible;
}
.cc-deck__card::before {
  content:none;
}
.cc-deck__card::after {
  content:none;
}
.cc-deck__card > * { position:relative; z-index:auto; }
.cc-deck__sigil { font-size:12px; text-transform:uppercase; letter-spacing:.12em; opacity:.8; }
.cc-deck__actions { display:flex; gap:8px; margin-top:12px; }

.cc-deck__sidebar {
  position:relative;
  border-radius:clamp(12px, 3vw, 18px);
  padding:clamp(14px, 3vw, 20px);
  border:none;
  background:none;
  box-shadow:none;
  max-height:680px;
  overflow:auto;
}
.cc-deck__sidebar::before {
  content:none;
}
.cc-deck__sidebar::after {
  content:none;
}
.cc-deck__sidebar > * { position:relative; z-index:auto; }

@media (max-width: 960px) {
  .cc-deck__top,
  .cc-deck__main {
    grid-template-columns: minmax(0, 1fr);
  }

  .cc-deck__top {
    grid-auto-flow: row;
  }
}
.cc-list { margin:0; padding-left:16px; }
.cc-code { background:#0b1119; color:#bfe2ff; padding:12px; border-radius:6px; white-space:pre-wrap; }

.cc-cardList, .cc-npcModal { position:fixed; inset:0; background:rgba(0,0,0,.8); display:flex; align-items:center; justify-content:center; z-index:1000; }
.cc-cardList.hidden, .cc-npcModal.hidden { display:none; }
.cc-cardList__body, .cc-npcModal__inner { background:none; color:#e6f1ff; border:none; border-radius:0; padding:var(--modal-surface-padding,16px); max-height:90vh; overflow:auto; width:100%; max-width:var(--content-width); margin-inline:auto; }
.cc-npcStats { display:flex; gap:8px; margin-bottom:8px; }
.cc-npcDetails { margin-bottom:8px; }
.cc-npcDetails h4 { margin:8px 0 4px; }
.cc-npcModal__actions { display:flex; flex-wrap:wrap; gap:8px; margin-bottom:8px; }

.cc-tabs { margin-top:8px; }
.cc-tabs__nav { display:flex; gap:6px; margin-bottom:8px; }
.cc-tabs__nav button { padding:6px 10px; background:#0d141c; border-radius:4px; color:#cfe7ff; cursor:pointer; }
.cc-tabs__nav button.active { background:#0b2a3a; border-color:#104a64; }
.cc-tabs__pane { display:none; border:1px dashed #223044; border-radius:6px; padding:8px; }
.cc-tabs__pane.active { display:block; }

/* The Shards of Many Fates  minimal UI */
.somf-card { border:none; background:none; color:var(--text); border-radius:var(--radius); padding:12px; width:100%; max-width:var(--content-width); margin:0 auto }
.somf-title { margin:0 0 10px 0; font-size:18px }
.somf-row { display:flex; gap:8px; align-items:center }
.somf-label { min-width:58px; color:var(--muted) }
.somf-input { width:80px; padding:6px 8px; border-radius:var(--radius); background:var(--surface); color:var(--text) }
.somf-btn { padding:8px 12px; border-radius:var(--radius); background:var(--surface); color:var(--text); cursor:pointer }
.somf-primary { background:var(--accent); border-color:var(--accent-2); color:var(--text-on-accent) }
.somf-ghost { background:transparent; color:var(--text) }
.somf-muted { color:var(--muted) }
.somf-checkbox { display:flex; align-items:center; gap:8px; user-select:none }

.somf-modal[hidden] { display:none }
.somf-modal { position:fixed; inset:0; z-index:9999; display:grid; place-items:center }
.somf-modal__backdrop { position:absolute; inset:0; background:rgba(0,0,0,.5) }
.somf-modal__card { position:relative; background:none; border:none; color:var(--text); border-radius:var(--radius); width:min(var(--content-width),calc(100vw - 24px - var(--safe-area-left) - var(--safe-area-right))); max-width:min(var(--content-width),calc(100vw - 24px - var(--safe-area-left) - var(--safe-area-right))); max-height:min(88vh, calc(var(--vh,1vh)*100 - 32px - var(--safe-area-top) - var(--safe-area-bottom))); display:flex; flex-direction:column; box-shadow:none; margin-inline:auto; overscroll-behavior:contain }
.somf-modal__card--image{background:transparent;border:none;box-shadow:none;padding:0;display:flex;flex-direction:column;width:auto;max-width:min(90vw,720px);max-height:90vh;overflow:auto;gap:12px}
.somf-modal__card--image .somf-modal__x{color:#fff;text-shadow:0 2px 6px rgba(0,0,0,.6)}
.somf-modal__art{display:block;width:100%;height:auto;max-width:min(90vw,720px);max-height:90vh;border-radius:var(--radius);box-shadow:none}
.somf-modal__details{padding:16px;border-radius:var(--radius);border:none;background:none;color:var(--text);display:flex;flex-direction:column;gap:8px}
.somf-modal__details[hidden]{display:none!important}
.somf-modal__name{margin:0;font-size:1.3rem;font-weight:600;letter-spacing:.02em}
.somf-modal__name[hidden]{display:none}
.somf-modal__visual{margin:0;color:var(--muted);font-size:1rem;line-height:1.4}
.somf-modal__visual[hidden]{display:none}
.somf-modal__effects{margin:4px 0 0;padding-left:20px;font-size:1rem;line-height:1.45;display:flex;flex-direction:column;gap:6px}
.somf-modal__effects[hidden]{display:none}
.somf-modal__effects li{margin:0}
.somf-modal__hdr, .somf-modal__ftr { display:flex; align-items:center; gap:8px; padding:6px 12px; border-bottom:1px solid var(--line) }
.somf-modal__ftr { border-bottom:none }
.somf-modal__body { padding:12px; overflow:auto }
.somf-modal__x{position:absolute;top:4px;right:6px;background:transparent;border:none;color:inherit;cursor:pointer;display:flex;align-items:center;justify-content:center;width:28px;height:28px;transition:var(--transition)}
body:not(.no-hover) .somf-modal__x:hover{color:var(--accent)}
.somf-modal__x svg{width:18px;height:18px}
.somf-modal__x:focus-visible{outline:2px solid var(--accent);outline-offset:2px}

@media(max-width:640px){
  .somf-modal{align-items:flex-start;justify-content:center;padding:calc(12px + var(--safe-area-top)) calc(12px + var(--safe-area-right)) calc(12px + var(--safe-area-bottom)) calc(12px + var(--safe-area-left))}
  .somf-modal__card{width:calc(100vw - 24px - var(--safe-area-left) - var(--safe-area-right));max-width:calc(100vw - 24px - var(--safe-area-left) - var(--safe-area-right));max-height:calc(var(--vh,1vh)*100 - 24px - var(--safe-area-top) - var(--safe-area-bottom))}
  .somf-modal__details{padding:12px;font-size:.95rem}
  .somf-modal__name{font-size:1.15rem}
}
.somf-badge { font-size:12px; letter-spacing:.08em; text-transform:uppercase; color:var(--muted); opacity:.9 }
.somf-subttl { margin:10px 0 6px 0; font-size:13px; color:var(--muted) }
.somf-list { margin:0; padding-left:18px }
.somf-progress { margin-top:12px; font-size:12px; color:var(--muted) }
.somf-flex-spacer { flex:1 }

/* History Viewer (No Spoilers) */
.somf-history__row { display:flex; align-items:center; gap:8px; margin-bottom:8px }
.somf-history__stats { display:grid; grid-template-columns: repeat(3, 1fr); gap:8px; margin-bottom:10px }
.somf-kv { display:flex; flex-direction:column; border-radius:var(--radius); padding:8px; background:var(--surface) }
.somf-k { font-size:12px; color:var(--muted) }
.somf-v { font-size:16px; color:var(--text) }
.somf-history__list { border-radius:var(--radius); overflow:hidden }
.somf-history__head { display:grid; grid-template-columns: 60px 1fr 160px; gap:8px; padding:8px 10px; background:var(--surface-2); color:var(--text); font-size:12px }
.somf-history__feed { margin:0; padding:0; list-style:none; max-height:260px; overflow:auto }
.somf-history__feed li { display:grid; grid-template-columns: 60px 1fr 160px; gap:8px; padding:8px 10px; border-top:1px solid var(--line) }
.somf-hash { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; color:var(--accent) }

/* DM login & tools menu */
.dm-login-btn{
  display:inline-flex;
  margin:0;
  border:none;
  padding:0;
  background:transparent;
  box-shadow:none;
  filter:none;
  transform:none;
  cursor:pointer;
}
body:not(.no-hover) .dm-login-btn:hover,
.dm-login-btn:focus{
  filter:none;
  transform:none;
}
.dm-login-btn img{
  display:block;
  max-width:160px;
  width:100%;
  height:auto;
}
.dm-login-logo{
  filter:drop-shadow(0 6px 12px rgba(0,0,0,.35));
}
.dm-tools-portal{
  position:fixed;
  bottom:0;
  left:0;
  width:0;
  height:0;
  z-index:2000;
}
.dm-tools-menu{
  position:absolute;
  bottom:calc(84px + env(safe-area-inset-bottom, 0px));
  left:calc(18px + env(safe-area-inset-left, 0px));
  display:flex;
  flex-direction:column;
  gap:4px;
  padding:8px;
  background:var(--surface-2);
  background:color-mix(in srgb, var(--surface-2) 94%, transparent);
  border:1px solid var(--line);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  z-index:2000;
  backdrop-filter:blur(10px);
  opacity:0;
  transform:translate3d(0, 12px, 0) scale(.96);
  pointer-events:none;
  transition:opacity .28s ease, transform .28s ease;
  will-change:opacity, transform;
}
.dm-tools-menu[hidden]{display:none}
.dm-tools-menu.is-open{
  opacity:1;
  transform:translate3d(0, 0, 0) scale(1);
  pointer-events:auto;
}
.dm-tools-menu button{
  background:transparent;
  color:var(--text);
  border:none;
  padding:10px 14px;
  text-align:left;
  min-width:180px;
  min-height:var(--control-min-height);
  border-radius:10px;
  font-weight:500;
  letter-spacing:0.01em;
  touch-action:manipulation;
}
body:not(.no-hover) .dm-tools-menu button:hover,
.dm-tools-menu button:focus-visible{
  background:var(--accent);
  color:var(--text-on-accent);
}
.dm-tools-menu button[data-unread]{
  position:relative;
  padding-right:42px;
}
.dm-tools-toggle{
  position:absolute;
  bottom:calc(18px + env(safe-area-inset-bottom, 0px));
  left:calc(18px + env(safe-area-inset-left, 0px));
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:60px;
  height:60px;
  min-width:60px;
  min-height:60px;
  padding:0;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.18);
  background:rgba(10,13,18,.95);
  color:var(--text);
  box-shadow:0 18px 34px rgba(0,0,0,.55),0 0 0 1px rgba(59,130,246,.14) inset;
  backdrop-filter:blur(10px);
  cursor:pointer;
  z-index:2100;
  transition:var(--transition),transform .2s ease;
  touch-action:manipulation;
  --dm-tools-icon-scale:1;
  --dm-tools-icon-rotation:0deg;
}
body:not(.no-hover) .dm-tools-toggle:hover,
.dm-tools-toggle:focus-visible{
  background:rgba(15,21,30,.98);
  color:var(--accent);
  border-color:rgba(59,130,246,.6);
  transform:translateY(-2px);
}
.dm-tools-toggle:focus-visible{
  outline:2px solid var(--accent);
  outline-offset:3px;
}
.dm-tools-toggle:active{
  transform:translateY(0);
  box-shadow:0 10px 24px rgba(0,0,0,.45),0 0 0 1px rgba(59,130,246,.2) inset;
}
.dm-tools-toggle[hidden]{display:none}
.dm-tools-toggle[aria-expanded="true"]{
  --dm-tools-icon-rotation:90deg;
}

.dm-tools-toggle__icon{
  display:block;
  width:34px;
  height:34px;
  flex-shrink:0;
  pointer-events:none;
  transition:transform .35s ease;
  transform-origin:50% 50%;
  transform:scale(var(--dm-tools-icon-scale)) rotate(var(--dm-tools-icon-rotation));
}

.dm-tools-badge{
  position:absolute;
  top:6px;
  right:12px;
  min-width:20px;
  padding:2px 6px;
  height:20px;
  border-radius:999px;
  background:var(--accent);
  color:var(--text-on-accent);
  font-size:11px;
  font-weight:600;
  line-height:1;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  pointer-events:none;
  box-shadow:0 0 0 1px rgba(0,0,0,.35);
  font-variant-numeric:tabular-nums;
}

.dm-tools-badge[hidden]{
  display:none;
}

.dm-tools-toggle__badge{
  right:6px;
}

.dm-tools-menu__badge{
  top:50%;
  transform:translateY(-50%);
}
body:not(.no-hover) .dm-tools-toggle:hover .dm-tools-toggle__icon,
.dm-tools-toggle:focus-visible .dm-tools-toggle__icon{
  --dm-tools-icon-scale:1.08;
}

body:is(.modal-open, .dm-floating-covered) .dm-login-btn,
body:is(.modal-open, .dm-floating-covered) .dm-tools-toggle,
body:is(.modal-open, .dm-floating-covered) .dm-tools-menu{
  opacity:0;
  visibility:hidden;
  pointer-events:none;
}

/* DM Tool (Shards of Many Fates) */
.somf-dm{background:var(--surface);color:var(--text);border-radius:var(--radius);padding:12px;margin:0 auto;width:100%;max-width:var(--content-width);max-height:calc(var(--vh,1vh)*100 - 32px);overflow:auto;-webkit-overflow-scrolling:touch}
.somf-dm__hdr{display:flex;flex-direction:column;align-items:stretch;gap:8px;margin-bottom:8px}
.somf-dm__hdr-controls{display:flex;flex-direction:column;gap:8px}
.somf-dm__toggles{display:flex;flex-wrap:wrap;gap:8px;align-items:center}
.somf-dm__inviteLabel{font-size:14px;opacity:.8}
.somf-dm__inviteInput{flex:1 1 180px;min-width:160px;padding:6px 10px;border-radius:6px;background:#0c0f13;color:#e6f1ff}
.somf-dm__inviteInput::placeholder{color:rgba(207,231,255,.6)}
.somf-dm__inviteSelected{font-size:13px;opacity:.75}
.somf-dm__inviteRoster{display:flex;flex-wrap:wrap;gap:6px;margin:2px 0 8px;padding:0}
.somf-dm__inviteRoster:empty::before{content:'';display:none}
.somf-dm__inviteChip{background:#0b2a3a;color:#cfe7ff;border-radius:999px;padding:4px 12px;font-size:13px;cursor:pointer;transition:background .2s ease,color .2s ease,border-color .2s ease}
body:not(.no-hover) .somf-dm__inviteChip:hover,.somf-dm__inviteChip:focus-visible{background:#104a64;border-color:#2b9dff;color:#f4fbff;outline:none}
.somf-dm__inviteChip:focus-visible{box-shadow:0 0 0 2px rgba(43,157,255,.35)}
.somf-dm__inviteChip.is-selected{background:#2b9dff;border-color:#2b9dff;color:#041225}
body:not(.no-hover) .somf-dm__inviteChip.is-selected:hover,.somf-dm__inviteChip.is-selected:focus-visible{background:#33adff;border-color:#55c6ff;color:#041225}
.somf-dm__inviteEmpty{font-size:13px;opacity:.75;margin:4px 0 8px}
.somf-dm__inviteSend,.somf-dm__concealAll{white-space:nowrap}
.somf-dm__hiddenStatus{font-size:13px;opacity:.7;padding-inline:6px}
.somf-dm__actions{display:flex;flex-wrap:wrap;gap:8px;justify-content:flex-end}
.somf-dm__tabs{display:flex;gap:6px;margin:8px 0}
.somf-dm__tabs button{padding:6px 10px;background:#0d141c;color:#cfe7ff;border-radius:6px;cursor:pointer}
.somf-dm__tabs button.active{background:#0b2a3a;border-color:#104a64}
.somf-dm__tab{display:none}
.somf-dm__tab.active{display:block}
.somf-dm__grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:10px}
.somf-card h5{margin:.2rem 0 .4rem}
.somf-badges{display:flex;gap:6px;flex-wrap:wrap;margin-top:4px}
.somf-badge{font-size:11px;background:#0b1119;padding:2px 6px;border-radius:4px}
.somf-dm__row{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin:8px 0}
.somf-dm__resolve{display:grid;grid-template-columns:280px 1fr;gap:10px}
.somf-dm__list{margin:0;padding:0;list-style:none;border-radius:8px;overflow:auto;max-height:420px;background:#0c1017;-webkit-overflow-scrolling:touch}
.somf-dm__list li{padding:8px 10px;cursor:pointer}
.somf-dm__list li:first-child{border-top:none}
.somf-dm__list li.active{background:#0b2a3a}
.somf-dm__list--actions li{display:flex;align-items:flex-start;gap:12px}
.somf-dm__itemBody{flex:1 1 auto}
.somf-dm__itemActions{flex:0 0 auto;display:flex;gap:8px}
.somf-dm__itemActions .somf-btn{white-space:nowrap}
.somf-dm__tab{position:relative}
.somf-dm__gift{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;padding:16px;background:rgba(7,11,22,.9);backdrop-filter:blur(2px);z-index:5}
.somf-dm__gift.hidden{display:none}
.somf-dm__giftDialog{width:min(420px,100%);max-width:100%;background:#0b1119;border-radius:12px;padding:18px;display:flex;flex-direction:column;gap:12px;box-shadow:0 18px 40px rgba(3,6,14,.6)}
.somf-dm__giftTitle{margin:0;font-size:1.1rem}
.somf-dm__giftSubtitle{margin:0;color:rgba(231,242,255,.8);font-size:.9rem}
.somf-dm__giftForm{display:flex;flex-direction:column;gap:12px}
.somf-dm__giftGroup{display:flex;flex-direction:column;gap:6px}
.somf-dm__giftSelect,.somf-dm__giftInput{width:100%;min-height:var(--control-min-height);padding:8px 10px;border-radius:8px;background:#0c1017;color:#e6f1ff;font-size:.95rem}
.somf-dm__giftSelect[aria-disabled="true"],.somf-dm__giftInput[aria-disabled="true"]{opacity:.6}
.somf-dm__giftSelect:focus-visible,.somf-dm__giftInput:focus-visible{outline:2px solid #2b9dff;outline-offset:2px}
.somf-dm__giftDivider{display:flex;align-items:center;justify-content:center;gap:12px;color:rgba(231,242,255,.6);font-size:.8rem;text-transform:uppercase;letter-spacing:.08em}
.somf-dm__giftDivider::before,.somf-dm__giftDivider::after{content:"";flex:1;height:1px;background:#1b2532}
.somf-dm__giftActions{display:flex;gap:8px;justify-content:flex-end}
.somf-dm__giftActions .somf-btn{flex:0 0 auto}
.somf-dm__giftError{min-height:1.2em;margin:0;color:#f87171;font-size:.85rem}
.somf-dm__giftStatus{margin:0;color:rgba(231,242,255,.75);font-size:.8rem;min-height:1.1em}
.somf-dm__giftInput[aria-invalid="true"],.somf-dm__giftSelect[aria-invalid="true"]{border-color:#c75656}
.somf-dm__giftDialog button{min-height:var(--control-compact-min-height)}
.somf-dm__noticeNames{opacity:.8}
.somf-dm__link{color:#8fc7ff;background:none;border:none;padding:0;font:inherit;cursor:pointer;text-decoration:underline}
body:not(.no-hover) .somf-dm__link:hover{color:#cfe7ff}
.somf-dm__link:focus-visible{outline:2px solid #2b9dff;outline-offset:2px}
.somf-dm__card{border:none;border-radius:8px;background:none;padding:12px;min-height:160px}
.somf-dm__subcard{border:1px dashed #223044;border-radius:8px;background:#0c0f13;padding:10px;margin-top:8px}
@keyframes somf-dm-card-highlight{0%{box-shadow:0 0 0 0 rgba(43,157,255,.6)}50%{box-shadow:0 0 0 6px rgba(43,157,255,.25)}100%{box-shadow:0 0 0 0 rgba(43,157,255,0)}}
#somfDM-tab-cards .somf-dm__card--highlight{border-color:#2b9dff!important;animation:somf-dm-card-highlight 2s ease-out}
.somf-seeds{display:grid;gap:8px}
.somf-seed{border-radius:8px;background:#0c1017;padding:8px}
.somf-seed h6{margin:0 0 4px 0}
.somf-dm__actions{display:flex;gap:8px;margin:8px 0}
.somf-dm__notes textarea{width:100%;background:#0c0f13;color:#e6f1ff;border:1px solid #1b2532;border-radius:6px;padding:8px}
.somf-dm__npcs{display:grid;grid-template-columns:300px 1fr;gap:10px}
.somf-dm__stack{display:flex;flex-direction:column;gap:10px}
.somf-sheet{border-radius:8px;background:#0c1017;padding:10px}
.somf-sheet h5{margin:.2rem 0 .4rem 0}
.somf-grid2{display:grid;grid-template-columns:repeat(2,1fr);gap:8px}
.somf-grid3{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
.somf-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace}
.somf-rolls{display:flex;flex-wrap:wrap;gap:6px;margin-top:6px}
.somf-tag{font-size:12px;padding:2px 6px;border-radius:4px;background:#0b1119}
.somf-dm__toasts{position:fixed;right:12px;bottom:12px;display:flex;flex-direction:column;gap:28px;z-index:9999}
.somf-dm__toast{position:relative;padding:18px 20px;border-radius:18px;background:var(--surface);box-shadow:6px 6px 0 rgba(0,0,0,.18),0 18px 28px -12px rgba(0,0,0,.4);color:var(--text);font-size:.95rem;line-height:1.5;max-width:min(420px,calc(100vw - 32px));opacity:0;transform:translateY(8px);transition:opacity .3s ease,transform .3s ease;cursor:pointer}
.somf-dm__toast::after,.somf-dm__toast::before{content:"";position:absolute;pointer-events:none;bottom:-18px;right:26px;width:0;height:0}
.somf-dm__toast::after{border-width:18px 16px 0 16px;border-style:solid;border-color:var(--somf-toast-border,var(--accent)) transparent transparent transparent}
.somf-dm__toast::before{border-width:16px 14px 0 14px;border-style:solid;bottom:-16px;right:28px}
.somf-dm__toast strong{text-transform:uppercase;letter-spacing:.08em;font-family:'Race Sport','Bangers','Comic Sans MS','Trebuchet MS',sans-serif;color:var(--somf-toast-border,var(--accent));text-shadow:2px 2px 0 rgba(0,0,0,.18)}
.somf-dm__toast--show{opacity:1;transform:translateY(0)}
.somf-dm__toast--hide{opacity:0;transform:translateY(8px)}
.somf-dm__toast--success{--somf-toast-border:var(--success)}
.somf-dm__toast--error{--somf-toast-border:var(--error)}
.somf-dm__toast--warning{--somf-toast-border:var(--warning,#f59e0b)}
.somf-dm__queue{position:fixed;right:12px;bottom:60px;margin:0;padding:0;list-style:none;display:flex;flex-direction:column;gap:4px;z-index:9998}
.somf-dm__queue li{background:#0b1119;color:#e6f1ff;border-radius:8px;padding:6px 10px;cursor:pointer;min-width:200px}
#modal-somf-dm{padding:0}
#modal-somf-dm .somf-dm{max-width:var(--content-width);max-height:calc(var(--vh,1vh)*100 - 32px);width:100%;height:100%;border-radius:var(--radius);display:flex;flex-direction:column;overflow:hidden;margin-inline:auto}
#modal-somf-dm .somf-dm__tab{flex:1;overflow:auto;-webkit-overflow-scrolling:touch}

#dm-notifications-modal .modal{display:flex;flex-direction:column}
#dm-notifications-modal #dm-notifications-list{flex:1;overflow:auto}
#dm-notifications-modal .dm-notifications__filters{display:flex;flex-wrap:wrap;gap:12px;margin:12px 0 16px;padding:0;align-items:flex-end}
#dm-notifications-modal .dm-notifications__filter{display:flex;flex-direction:column;gap:4px;min-width:160px;flex:1 1 140px}
#dm-notifications-modal .dm-notifications__filter--search{flex:2 1 240px}
#dm-notifications-modal .dm-notifications__filterLabel{font-size:.75rem;font-weight:600;letter-spacing:.05em;text-transform:uppercase;color:var(--muted)}
#dm-notifications-modal .dm-notifications__filters select,
#dm-notifications-modal .dm-notifications__filters input{padding:8px 10px;border-radius:10px;border:1px solid color-mix(in srgb,var(--text) 12%, transparent);background:color-mix(in srgb,var(--surface) 96%, transparent);color:inherit;font-size:.9rem;line-height:1.4;transition:var(--transition)}
body:not(.no-hover) #dm-notifications-modal .dm-notifications__filters select:hover,
body:not(.no-hover) #dm-notifications-modal .dm-notifications__filters input:hover{border-color:var(--accent)}
#dm-notifications-modal .dm-notifications__filters select:focus-visible,
#dm-notifications-modal .dm-notifications__filters input:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
#dm-notifications-modal #dm-notifications-list{display:flex;flex-direction:column;gap:12px;padding:0;margin:0;list-style:none}
#dm-notifications-modal .dm-notifications__item{--dm-notification-accent:var(--muted);display:flex;gap:14px;align-items:flex-start;padding:12px 16px;border-radius:14px;background:color-mix(in srgb,var(--surface) 96%, transparent)}
#dm-notifications-modal .dm-notifications__item--resolved{opacity:.6}
#dm-notifications-modal .dm-notifications__itemContent{flex:1 1 auto;display:flex;flex-direction:column;gap:8px;min-width:0}
#dm-notifications-modal .dm-notifications__itemMessage{display:flex;flex-direction:column;gap:6px;font-size:.92rem;line-height:1.45}
#dm-notifications-modal .dm-notifications__itemText{margin:0;white-space:pre-wrap;word-break:break-word}
#dm-notifications-modal .dm-notifications__itemHtml{margin:0}
#dm-notifications-modal .dm-notifications__severityBadge{align-self:flex-start;display:inline-flex;align-items:center;gap:6px;padding:2px 10px;border-radius:999px;font-size:.68rem;font-weight:600;letter-spacing:.08em;text-transform:uppercase;background:color-mix(in srgb,var(--muted) 18%, transparent);color:var(--muted)}
#dm-notifications-modal .dm-notifications__item[data-severity]{--dm-notification-accent:color-mix(in srgb,var(--accent) 60%, transparent)}
#dm-notifications-modal .dm-notifications__item[data-severity] .dm-notifications__severityBadge{background:color-mix(in srgb,var(--dm-notification-accent) 18%, transparent);color:var(--dm-notification-accent)}
#dm-notifications-modal .dm-notifications__item--severity-info{--dm-notification-accent:var(--accent)}
#dm-notifications-modal .dm-notifications__item--severity-success{--dm-notification-accent:var(--success)}
#dm-notifications-modal .dm-notifications__item--severity-warning{--dm-notification-accent:var(--accent-2)}
#dm-notifications-modal .dm-notifications__item--severity-error{--dm-notification-accent:var(--error)}
#dm-notifications-modal .dm-notifications__item--severity-critical{--dm-notification-accent:color-mix(in srgb,var(--error) 82%, transparent)}
#dm-notifications-modal .dm-notifications__itemActions{display:flex;flex-direction:column;gap:8px;align-items:flex-end}
#dm-notifications-modal .dm-notifications__itemStatus{font-size:.75rem;font-weight:600;letter-spacing:.05em;text-transform:uppercase;color:var(--muted)}
#dm-notifications-modal .dm-notifications__itemStatus--resolved{color:var(--success)}

@media (max-width:600px){
  .somf-dm__row{grid-template-columns:1fr}
  .somf-dm__resolve{grid-template-columns:1fr}
  .somf-dm__npcs{grid-template-columns:1fr}
  .somf-dm__list{max-height:60vh}
}
#dm-login-modal input{width:100%;margin:8px 0;padding:8px;border:1px solid var(--line);border-radius:var(--radius);background:var(--surface);color:var(--text)}
.dm-login__view input{width:100%}
.dm-login__view[data-login-view="login"] .actions [data-login-action="start-create"]{margin-right:auto}
.dm-login__summary{margin:4px 0 12px;font-weight:600;color:var(--muted)}
.dm-login__error{margin:12px 0 0;font-weight:600;color:var(--error)}
.dm-login__links--back{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
.somf-toast{background:#0b1119;color:#e6f1ff;border-radius:8px;padding:10px 12px;min-width:260px;box-shadow:0 8px 24px #0008}
.somf-toast strong{display:block;margin-bottom:4px}

.app-alert{position:fixed;inset:0;display:grid;place-items:center;padding:calc(24px + var(--safe-area-top)) calc(24px + var(--safe-area-right)) calc(24px + var(--safe-area-bottom)) calc(24px + var(--safe-area-left));background:rgba(8,10,16,.88);z-index:6000;opacity:0;pointer-events:none;transition:opacity .3s ease}
.app-alert[hidden]{display:none}
.app-alert.is-visible{opacity:1;pointer-events:auto}
.app-alert__card{background:none;color:var(--text);border-radius:20px;border:none;box-shadow:none;width:100%;max-width:min(460px,calc(100vw - 32px - var(--safe-area-left) - var(--safe-area-right)));padding:28px 24px;display:flex;flex-direction:column;gap:16px;text-align:center;transform:none;transition:transform .3s ease,box-shadow .3s ease}
.app-alert.is-visible .app-alert__card{transform:none;box-shadow:none}
.app-alert__title{margin:0;font-family:'CFTechnoMania Slanted',sans-serif;font-size:22px;letter-spacing:var(--title-letter-spacing-uppercase);word-spacing:var(--title-word-spacing-uppercase);text-transform:uppercase}
.app-alert__message{margin:0;font-size:16px;line-height:1.6}
.app-alert__button{align-self:center;padding:12px 32px;border-radius:999px;border:none;background:var(--accent);color:var(--text-on-accent);font-size:15px;font-weight:600;cursor:pointer;letter-spacing:.08em;text-transform:uppercase;box-shadow:0 16px 40px rgba(59,130,246,.45);transition:transform .25s ease,box-shadow .25s ease}
body:not(.no-hover) .app-alert__button:hover{transform:translateY(-2px);box-shadow:0 22px 54px rgba(59,130,246,.55)}
.app-alert__button:focus-visible{outline:2px solid var(--text-on-accent);outline-offset:4px}
body.app-alert-active{overflow:hidden}


.somf-reveal-alert{position:fixed;inset:0;display:grid;place-items:center;padding:calc(24px + var(--safe-area-top)) calc(24px + var(--safe-area-right)) calc(24px + var(--safe-area-bottom)) calc(24px + var(--safe-area-left));background:rgba(4,6,12,.92);z-index:12000;opacity:0;pointer-events:none;transition:opacity .4s ease}
.somf-reveal-alert[hidden]{display:none}
.somf-reveal-alert.is-visible{opacity:1;pointer-events:auto}
.somf-reveal-alert__card{background:none;color:var(--text);border-radius:24px;border:none;box-shadow:none;width:100%;max-width:min(var(--content-width),calc(100vw - 32px - var(--safe-area-left) - var(--safe-area-right)));padding:32px 28px;text-align:center;display:flex;flex-direction:column;gap:18px;transform:none;transition:transform .35s ease,box-shadow .35s ease}
.somf-reveal-alert.is-visible .somf-reveal-alert__card{transform:none;box-shadow:none}
.somf-reveal-alert__title{margin:0;font-family:'CFTechnoMania Slanted',sans-serif;font-size:24px;letter-spacing:var(--title-letter-spacing-uppercase);word-spacing:var(--title-word-spacing-uppercase);text-transform:uppercase}
.somf-reveal-alert__text{margin:0;font-size:16px;line-height:1.5}
.somf-reveal-alert__btn{align-self:center;padding:12px 28px;border-radius:999px;border:none;background:var(--accent);color:var(--text-on-accent);font-size:16px;font-weight:600;cursor:pointer;box-shadow:0 18px 44px rgba(59,130,246,.45);transition:transform .25s ease,box-shadow .25s ease}
body:not(.no-hover) .somf-reveal-alert__btn:hover{transform:translateY(-2px);box-shadow:0 22px 54px rgba(59,130,246,.55)}
.somf-reveal-alert__btn:focus-visible{outline:2px solid var(--text-on-accent);outline-offset:4px}
body.somf-reveal-active{overflow:hidden}
body.somf-reveal-active .overlay{pointer-events:none}
body.somf-reveal-active .app-alert{pointer-events:none}
body.modal-open [data-launch-shell]>.somf-reveal-alert{pointer-events:auto;user-select:auto}
body.touch-controls-disabled.somf-reveal-active .app-shell{pointer-events:auto}
body.touch-controls-disabled.somf-reveal-active .app-shell> :not(.somf-reveal-alert){pointer-events:none}



:root{--bg-color:#070b16;--bg:var(--bg-color) url('../images/Dark.PNG?v=2') center/cover no-repeat;--bg-image-set:image-set(url('../images/Dark.PNG?v=2') type('image/png') 1x);--bg-attachment:fixed;--surface:#111a2d;--surface-2:#0c1526;--text:#f8fafc;--muted:#94a3b8;--accent:#4f46e5;--accent-2:#f97316;--line:rgba(148,163,184,.22);--shadow:0 28px 60px -28px rgba(4,9,20,.9);--modal-accent-hue:244deg;--modal-glow-strength:.35;--text-on-accent:#f8fafc;--radius:clamp(10px,3vw,12px);--control-min-height:clamp(34px,7.2vw,44px);--control-compact-min-height:clamp(26px,6vw,32px);--tracker-pill-height:var(--control-min-height);--control-padding-y:clamp(8px,2.8vw,12px);--control-padding-x:clamp(10px,5vw,18px);--control-font-size:clamp(1rem,2.8vw,1.1rem);--control-gap:clamp(6px,2.6vw,12px);--icon-size:clamp(18px,5.5vw,22px);--pill-padding-y:clamp(4px,2.4vw,6px);--pill-padding-x:clamp(8px,4vw,12px);--pill-font-size:clamp(.75rem,2.6vw,.95rem);--pill-font-size-lg:clamp(.9rem,3vw,1.1rem);--select-indicator-size:clamp(14px,4.4vw,18px);--select-indicator-gap:clamp(2px,1.2vw,4px);--form-control-height:var(--control-min-height);--control-indicator-size:var(--form-control-height);--pill-min-height:var(--form-control-height);--progress-min-height:var(--form-control-height);--transition:background-color .4s ease-in-out,color .4s ease-in-out,border-color .4s ease-in-out,transform .4s ease-in-out,opacity .4s ease-in-out;--success:#22c55e;--error:#f87171;--icon-success:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none' stroke='%2322c55e' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M5 10l3 3 7-7'/%3E%3C/svg%3E");--icon-error:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none' stroke='%23f87171' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 6l8 8M6 14l8-8'/%3E%3C/svg%3E");--chevron:url("data:image/svg+xml,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2Fsvg'%20viewBox%3D'0%200%2020%2020'%20fill%3D'none'%20stroke%3D'currentColor'%20stroke-width%3D'2'%20stroke-linecap%3D'round'%20stroke-linejoin%3D'round'%3E%3Cpath%20d%3D'M6%208l4%204%204-4'%2F%3E%3C%2Fsvg%3E");--vh:1vh;--app-max-width:clamp(320px,96vw,1100px);--content-width:min(var(--app-max-width),100vw);--modal-width:var(--content-width);--shell-width:100vw;--card-padding:8px;--card-gap:10px;--modal-padding-block:14px;--modal-padding-inline:20px;--modal-surface-padding:16px;--modal-padding-top-offset:10px;--modal-padding-top-min:8px;--title-letter-spacing:0.05em;--title-word-spacing:0.03em;--title-character-gap:0.05em;--title-letter-spacing-uppercase:0.1em;--title-word-spacing-uppercase:0.03em;--title-space-width:calc(.5em + var(--title-word-spacing));--safe-area-top:env(safe-area-inset-top,0px);--safe-area-right:env(safe-area-inset-right,0px);--safe-area-bottom:env(safe-area-inset-bottom,0px);--safe-area-left:env(safe-area-inset-left,0px);}
@font-face{font-family:'CFTechnoMania Slanted';src:url('../CFTechnoMania-Slanted.woff2') format('woff2');font-weight:400;font-style:normal;font-display:swap}
:root.theme-light{--bg-color:#f5f6ff;--bg:var(--bg-color) url('../images/Light.PNG?v=2') center/cover no-repeat;--bg-image-set:image-set(url('../images/Light.PNG?v=2') type('image/png') 1x);--bg-attachment:fixed;--surface:#fff;--surface-2:#e8edff;--text:#0f172a;--muted:#64748b;--accent:#2563eb;--accent-2:#f97316;--line:rgba(37,99,235,.15);--shadow:0 28px 52px -28px rgba(15,23,42,.28);--text-on-accent:#f8fafc;--success:#15803d;--error:#e11d48;--icon-success:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none' stroke='%2315803d' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M5 10l3 3 7-7'/%3E%3C/svg%3E");--icon-error:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none' stroke='%23e11d48' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 6l8 8M6 14l8-8'/%3E%3C/svg%3E")}

.power-card{display:flex;flex-direction:column;gap:12px}
.power-card__body{display:none;flex-direction:column;gap:12px}
.power-editor__content .power-card__body{display:flex}
.power-card__summary-name-wrap{display:flex;align-items:center;gap:calc(var(--control-gap)*.5);min-width:0;flex:1}
.power-card__summary-name-wrap .power-card__summary-name{flex:1;min-width:0}
.power-card__summary-edit{display:inline-flex;align-items:center;justify-content:center;width:26px;height:26px;padding:0;border-radius:6px;background:none;color:inherit;cursor:pointer;transition:background .2s ease,border-color .2s ease,opacity .2s ease}
.power-card__summary-edit svg{width:16px;height:16px}
body:not(.no-hover) .power-card__summary-edit:hover,.power-card__summary-edit:focus-visible{background:rgba(148,163,184,.2);outline:none}
.power-card__summary-edit:focus-visible{box-shadow:0 0 0 2px rgba(59,130,246,.45)}
.power-card__summary-edit:disabled{opacity:.5;cursor:not-allowed}
.modal-power-editor{width:min(940px,96vw);max-height:calc(var(--vh,1vh)*100 - 48px - var(--safe-area-top) - var(--safe-area-bottom));display:flex;flex-direction:column;gap:16px}
.power-editor__content{flex:1 1 auto;overflow:auto;padding:0 12px 0 0;margin-right:-12px}
.power-editor__content>.power-card__body{padding-right:12px}
.power-editor__actions{display:flex;justify-content:flex-end;gap:var(--control-gap);padding-top:4px;border-top:1px solid var(--line)}
.power-editor__wizard-step--types,.power-editor__wizard-step--description,.power-editor__wizard-step--details,.power-editor__wizard-step--review{display:flex;flex-direction:column;gap:var(--control-gap)}
.power-editor__wizard-type-grid{display:flex;flex-wrap:wrap;align-items:flex-end;gap:var(--control-gap)}
.power-editor__wizard-summary-card{display:flex;flex-direction:column;gap:6px;padding:16px;border-radius:var(--radius);background:rgba(148,163,184,.08);box-shadow:inset 0 0 0 1px rgba(255,255,255,.02)}
.power-editor__wizard-summary-card strong{font-size:.9rem;letter-spacing:.02em}
.power-editor__wizard-summary-card p{margin:0;font-size:.8rem;line-height:1.4;color:var(--muted)}
.power-editor__details-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:var(--control-gap);align-items:flex-end}
.power-editor__wizard-damage{display:flex;flex-direction:column;gap:var(--control-gap);padding:12px;border-radius:var(--radius);background:rgba(148,163,184,.08)}
.power-editor__damage-fields{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:var(--control-gap)}
.power-editor__toggle{display:inline-flex;align-items:center;gap:8px;font-size:.85rem;font-weight:600}
.power-editor__toggle input{width:18px;height:18px}
.power-editor__quick-pills{display:flex;flex-wrap:wrap;gap:6px}
.power-editor__quick-label{font-size:12px;text-transform:uppercase;letter-spacing:.08em;color:var(--muted)}
.power-editor__quick-pill{background:var(--surface-2);color:inherit;padding:6px 12px;border-radius:999px;cursor:pointer;font-size:.78rem;transition:background .2s ease,border-color .2s ease}
body:not(.no-hover) .power-editor__quick-pill:hover{background:rgba(148,163,184,.16);border-color:rgba(148,163,184,.5)}
.power-editor__quick-pill.is-active{background:rgba(148,163,184,.22);font-weight:600}
.power-editor__review-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:var(--control-gap);margin-top:var(--control-gap)}
.power-editor__review-card{display:flex;flex-direction:column;gap:4px;padding:14px;border-radius:var(--radius);background:rgba(15,23,42,.45)}
.power-editor__review-label{font-size:.75rem;text-transform:uppercase;letter-spacing:.08em;color:var(--muted)}
.power-editor__review-value{font-weight:600;font-size:.95rem}
.power-editor__review-columns{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:var(--control-gap);margin-top:var(--control-gap)}
.power-editor__review-text{display:flex;flex-direction:column;gap:8px;padding:16px;border-radius:var(--radius);background:rgba(15,23,42,.35)}
.power-editor__review-text h5{margin:0;font-size:.85rem;text-transform:uppercase;letter-spacing:.08em;color:var(--muted)}
.power-editor__review-text p{margin:0;font-size:.9rem;line-height:1.5}
.power-editor__review-preview{margin-top:var(--control-gap);padding:16px;border-radius:var(--radius);background:rgba(15,23,42,.35);display:flex;flex-direction:column;gap:8px}
.power-editor__review-preview h5{margin:0;font-size:.85rem;text-transform:uppercase;letter-spacing:.08em;color:var(--muted)}
.power-editor__review-preview p{margin:0;font-size:.9rem;line-height:1.5}
.power-editor__review-warning{margin-top:var(--control-gap);padding:14px;border-radius:var(--radius);background:rgba(248,113,113,.12);color:#fecaca;display:flex;flex-direction:column;gap:8px;font-size:.85rem}
.power-editor__review-warning ul{margin:0;padding-left:18px;display:flex;flex-direction:column;gap:4px}
.power-editor__field-helper{margin:0;font-size:.75rem;line-height:1.35;color:var(--muted)}
.power-editor__concept-list{display:flex;flex-direction:column;gap:calc(var(--control-gap)*.8)}
.power-editor__concept-field{display:flex;flex-direction:column;gap:6px;padding:14px;border-radius:var(--radius);background:var(--surface-2);box-shadow:inset 0 0 0 1px rgba(255,255,255,.02)}
.power-editor__concept-label{font-weight:600;font-size:.9rem;line-height:1.35}
.power-editor__concept-field textarea{width:100%;min-height:84px;resize:vertical;background:rgba(148,163,184,.12);border:1px solid rgba(148,163,184,.25);border-radius:8px;padding:10px 12px;color:inherit;font-size:.9rem;line-height:1.4}
.power-editor__concept-field textarea:focus-visible{outline:2px solid rgba(79,70,229,.55);outline-offset:2px}

.power-card__summary{display:flex;flex-direction:column;gap:calc(var(--control-gap)*.6);padding:8px 0;border-bottom:1px solid var(--line)}
.power-card__summary-header{display:flex;align-items:center;justify-content:space-between;gap:calc(var(--control-gap)*.75)}
.power-card__summary-name{font-weight:700;font-size:.95rem;line-height:1.2}
.power-card__summary-rolls{display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:calc(var(--control-gap)*.75)}
.power-card__summary-roll{display:flex;flex-direction:column;gap:calc(var(--control-gap)*.4)}
.power-card__summary-roll-btn{width:100%;min-height:var(--control-compact-min-height);padding:clamp(4px,1.8vw,8px);font-size:clamp(.75rem,2.3vw,.85rem)}
.power-card__roll-output{display:flex;align-items:center;justify-content:center;min-height:var(--control-compact-min-height);padding:clamp(2px,1.2vw,4px) clamp(4px,2vw,6px);font-size:clamp(.75rem,2.3vw,.85rem)}
.power-card__summary-description{margin:0;font-size:.8rem;line-height:1.3;color:var(--muted)}
.power-card__summary-stats{display:flex;flex-wrap:wrap;gap:calc(var(--control-gap)*.5)}
.power-card__summary-stat{font-size:clamp(.65rem,2.1vw,.8rem);padding:clamp(2px,1.2vw,4px) clamp(6px,2.4vw,10px);border-radius:999px;background:var(--surface-2);border:1px solid var(--line)}
.power-card__sp-chip{display:inline-flex;align-items:center;justify-content:center;padding:clamp(2px,1.4vw,5px) clamp(6px,2.6vw,10px);border-radius:999px;background:rgba(88,166,255,.15);font-weight:600;font-size:clamp(.75rem,2.2vw,.9rem);line-height:1}
.power-card__quick-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:calc(var(--control-gap)*.75);margin-top:10px}
.power-card__quick-field{display:flex;flex-direction:column;gap:calc(var(--control-gap)*.4);font-size:clamp(.7rem,2.1vw,.8rem)}
.power-card__quick-field--sp{align-self:stretch}
.power-card__quick-label{font-weight:600}
.power-card__quick-select{width:100%}
.power-card__quick-sp-display{display:flex;align-items:center;gap:calc(var(--control-gap)*.75)}
.power-card__quick-sp-controls{display:flex;gap:calc(var(--control-gap)*.6)}
.power-card__quick-btn{min-height:var(--control-compact-min-height);padding:clamp(4px,1.8vw,8px) clamp(6px,2.6vw,10px);font-size:clamp(.75rem,2.3vw,.85rem)}
.power-card__actions{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:var(--control-gap);align-items:start}
.power-card__action-roll{display:flex;flex-direction:column;gap:calc(var(--control-gap)*.6)}
.power-card__action-button{width:100%}
body.is-view-mode .power-card{gap:calc(var(--control-gap)*.75)}
body.is-view-mode .power-card__summary{display:flex}
body.is-view-mode .power-card__body{display:none}
body.is-view-mode .power-editor__content .power-card__body{display:flex}

.power-preset-menu__groups{display:flex;flex-direction:column;gap:var(--control-gap)}
.power-preset-menu__group{border-radius:var(--radius);background:var(--surface-2);overflow:hidden}
.power-preset-menu__group-title{display:flex;align-items:center;justify-content:space-between;gap:calc(var(--control-gap)*.75);padding:8px 12px;cursor:pointer;font-weight:600}
.power-preset-menu__group-title::-webkit-details-marker{display:none}
.power-preset-menu__group-title::after{content:'\25BE';font-size:.75rem;opacity:.7;transition:transform .2s ease}
.power-preset-menu__group[open] .power-preset-menu__group-title::after{transform:rotate(180deg)}
.power-preset-menu__subgroups{display:flex;flex-direction:column;gap:6px;padding:0 0 8px}
.power-preset-menu__subgroup{background:var(--surface)}
.power-preset-menu__subgroup:first-of-type{border-top:none}
.power-preset-menu__subgroup-title{display:flex;align-items:center;justify-content:space-between;gap:calc(var(--control-gap)*.75);padding:8px 12px;cursor:pointer;font-weight:600;font-size:.85rem}
.power-preset-menu__subgroup-title::-webkit-details-marker{display:none}
.power-preset-menu__subgroup-title::after{content:'\25BE';font-size:.65rem;opacity:.7;transition:transform .2s ease}
.power-preset-menu__subgroup[open] .power-preset-menu__subgroup-title::after{transform:rotate(180deg)}
.power-preset-menu__grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:var(--control-gap);padding:0 12px 12px}
.power-preset-menu__btn{width:100%}
.power-card__action-roll .btn-sm{width:100%}

@media (max-width:640px){
  .power-editor__wizard-type-grid{flex-direction:column}
  .power-card__summary{gap:5px}
  .power-card__summary-name{font-size:.9rem}
  .power-card__summary-rolls{grid-template-columns:repeat(auto-fit,minmax(90px,1fr));gap:5px}
  .power-card__quick-grid{grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:6px}
  .power-card__actions{grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:6px}
  .power-preset-menu__grid{grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:6px;padding:0 12px 10px}
  .power-preset-menu__subgroup-title{font-size:.8rem}
}

@media (max-width:480px){
  .power-card__summary-roll-btn,.power-card__quick-btn{min-height:26px;font-size:.78rem}
  .power-card__roll-output{min-height:26px;font-size:.78rem}
}
#dice-count{text-align:center;}
.roll-tools-card{--roll-tools-gap:clamp(6px,1.6vw,12px);--roll-tools-heading-size:clamp(.75rem,1.9vw,.95rem);--roll-tools-control-font-size:clamp(.92rem,2vw,1.05rem);--roll-tools-pill-font-size:clamp(.68rem,1.7vw,.85rem);--roll-tools-control-height:clamp(24px,4.8vw,32px);--roll-tools-pill-height:clamp(22px,4.4vw,30px);--roll-tools-section-padding:clamp(8px,2.4vw,16px);display:flex;flex-direction:column;gap:calc(var(--roll-tools-gap)*1.4)}
.roll-tools{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:var(--roll-tools-gap)}
.roll-tool{display:flex;flex-direction:column;gap:calc(var(--roll-tools-gap)*.6);padding:var(--roll-tools-section-padding);border-radius:calc(var(--radius)*.75);background:var(--surface-2);min-width:0}
.roll-tool__header{display:flex;align-items:center;justify-content:space-between;gap:calc(var(--roll-tools-gap)*.5)}
.roll-tool__heading{margin:0;font-size:var(--roll-tools-heading-size);color:var(--muted);text-transform:uppercase;letter-spacing:.08em}
.roll-tool__body{display:flex;flex-direction:column;gap:calc(var(--roll-tools-gap)*.55);flex:1 1 auto}
.roll-tool__field{display:flex;flex-direction:column;gap:4px;min-width:0}
.roll-tool__field label:not(.sr-only),
.roll-tool__label{font-size:calc(var(--roll-tools-control-font-size)*.95);font-weight:600;color:var(--muted)}
.roll-tool__field>input,
.roll-tool__field>select,
.roll-tool__field :is(input,select){min-height:var(--roll-tools-control-height);font-size:var(--roll-tools-control-font-size);padding:clamp(4px,1.2vw,8px) clamp(8px,2.6vw,12px);width:100%}
.roll-tool__field input[type="number"]{text-align:center}
.roll-tool__grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:calc(var(--roll-tools-gap)*.5)}
.roll-tool__grid>.roll-tool__field{height:100%}
.roll-tool__grid select{text-align:left}
.roll-tool__actions{margin-top:auto;display:flex;gap:calc(var(--roll-tools-gap)*.4)}
.roll-tool__actions>.btn-sm{min-height:var(--roll-tools-control-height);font-size:var(--roll-tools-control-font-size);padding:clamp(4px,1.2vw,8px) clamp(8px,2.6vw,12px);width:100%}
.roll-tool--toast-history{grid-column:1 / -1}
.toast-history__actions{display:flex;align-items:center;justify-content:flex-end;gap:calc(var(--roll-tools-gap)*.35)}
.toast-history__actions[hidden]{display:none}
.toast-history__badge{display:inline-flex;align-items:center;justify-content:center;min-width:clamp(20px,4vw,26px);padding:0 clamp(6px,2vw,10px);border-radius:999px;font-size:calc(var(--roll-tools-control-font-size)*.7);font-weight:600;letter-spacing:.05em;text-transform:uppercase;background:color-mix(in srgb,var(--accent) 18%,transparent);color:var(--accent)}
.toast-history__list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:calc(var(--roll-tools-gap)*.55)}
.toast-history__item{display:flex;flex-direction:column;gap:calc(var(--roll-tools-gap)*.35);padding:clamp(6px,2vw,10px) clamp(8px,3vw,14px);border-radius:calc(var(--radius)*.75);background:var(--surface-1);width:100%;text-align:left;color:inherit;font:inherit;cursor:pointer;appearance:none;-webkit-appearance:none;transition:border-color .18s ease,box-shadow .18s ease,transform .18s ease}
.toast-history__item:focus-visible{outline:2px solid color-mix(in srgb,var(--accent) 52%,transparent);outline-offset:2px}
.toast-history__item:active{transform:scale(.995)}
.toast-history__item--unread{box-shadow:0 0 0 1px color-mix(in srgb,var(--accent) 45%,transparent)}
.toast-history__meta{display:flex;align-items:baseline;justify-content:space-between;gap:calc(var(--roll-tools-gap)*.4)}
.toast-history__type{font-size:calc(var(--roll-tools-control-font-size)*.75);font-weight:600;letter-spacing:.08em;text-transform:uppercase;color:var(--accent)}
.toast-history__type--success{color:var(--success)}
.toast-history__type--error{color:var(--error)}
.toast-history__type--warning{color:var(--warning,#f59e0b)}
.toast-history__time{font-size:calc(var(--roll-tools-control-font-size)*.7);color:var(--muted)}
.toast-history__message{margin:0;font-size:calc(var(--roll-tools-control-font-size)*.9);line-height:1.5;word-break:break-word}
.toast-history__actions .btn-sm{flex:0 0 auto}
:root{
  --dice-result-border-gradient:linear-gradient(135deg,color-mix(in srgb,var(--dice-result-accent,var(--accent)) 75%,transparent)0%,color-mix(in srgb,var(--accent-2) 68%,transparent)52%,color-mix(in srgb,var(--dice-result-accent,var(--accent)) 24%,transparent)100%);
  --dice-result-fill:color-mix(in srgb,var(--surface-2) 92%,var(--surface-3) 8%);
  --dice-result-glow-primary:color-mix(in srgb,var(--dice-result-accent,var(--accent)) 42%,transparent);
  --dice-result-glow-secondary:color-mix(in srgb,var(--dice-result-accent,var(--accent)) 48%,var(--accent-2) 18%);
  --dice-result-depth-shadow:0 16px 32px -20px rgba(0,0,0,.82),0 6px 14px -8px rgba(0,0,0,.6);
  --dice-result-text-glint:linear-gradient(120deg,rgba(255,255,255,.95)0%,rgba(255,255,255,.22)48%,rgba(255,255,255,.78)100%);
}
:is(.pill.result,.dice-result__shell,#death-save-out.death-save-result){
  --dice-result-accent:var(--initiative-glow-color,var(--progress-color,var(--accent)));
  position:relative;
  z-index:0;
  border:1px solid transparent;
  background:
    radial-gradient(120% 140% at 12% 15%,rgba(255,255,255,.24)0%,rgba(255,255,255,0)55%) padding-box,
    linear-gradient(135deg,color-mix(in srgb,var(--dice-result-fill) 98%,transparent)0%,color-mix(in srgb,var(--dice-result-fill) 90%,transparent)100%) padding-box,
    var(--dice-result-border-gradient) border-box;
  background-origin:border-box;
  background-clip:padding-box,padding-box,border-box;
  border-radius:var(--dice-result-radius,999px);
  box-shadow:var(--dice-result-depth-shadow),0 0 22px -8px color-mix(in srgb,var(--dice-result-accent,var(--accent)) 60%,transparent),0 0 16px -6px var(--dice-result-glow-secondary);
  color:var(--text);
  text-shadow:0 1px 2px rgba(0,0,0,.6),0 0 12px color-mix(in srgb,var(--dice-result-accent,var(--accent)) 40%,transparent);
  overflow:hidden;
  transition:box-shadow .35s ease,transform .35s ease;
}
.dice-result__value{
  position:relative;
  z-index:0;
  display:inherit;
  align-items:inherit;
  justify-content:inherit;
  border-radius:inherit;
  overflow:hidden;
  isolation:isolate;
}
.dice-result__shell>.dice-result__value{width:100%;}
.dice-result__value>*{position:relative;z-index:0;}
:is(.dice-result__value,.pill.result,#death-save-out.death-save-result)::after{
  content:"";
  position:absolute;
  inset:-25% -45%;
  border-radius:inherit;
  background:linear-gradient(120deg,rgba(255,255,255,0)0%,rgba(255,255,255,.55)45%,rgba(255,255,255,0)75%);
  transform:translateX(-55%) rotate(8deg);
  opacity:0;
  pointer-events:none;
  mix-blend-mode:screen;
  animation:diceResultShellGlint 5.4s ease-in-out infinite;
  z-index:1;
}
body:not(.no-hover) :is(.pill.result,.dice-result__shell,#death-save-out.death-save-result):hover{box-shadow:var(--dice-result-depth-shadow),0 0 26px -6px color-mix(in srgb,var(--dice-result-accent,var(--accent)) 70%,transparent),0 0 18px -4px var(--dice-result-glow-secondary);transform:translateY(-1px)}
body:not(.no-hover) :is(.pill.result,.dice-result__shell,#death-save-out.death-save-result):hover :is(.dice-result__value,#death-save-out.death-save-result)::after,
body:not(.no-hover) :is(.pill.result,#death-save-out.death-save-result):hover::after{opacity:.55}
:is(.dice-result__value,.pill.result,#death-save-out.death-save-result).rolling::after,
.dice-result__shell.rolling .dice-result__value::after{opacity:.8;animation-duration:2.6s}
.roll-tool .pill.result{margin:0;font-size:var(--roll-tools-pill-font-size);min-height:var(--roll-tools-pill-height);padding:clamp(3px,1.1vw,6px) clamp(8px,2.2vw,12px);--dice-result-fill:color-mix(in srgb,var(--surface-2) 88%,var(--surface-3) 12%)}
.roll-tool .dice-breakdown{display:flex;flex-wrap:wrap;gap:calc(var(--roll-tools-gap)*.35);margin:0;padding:0;list-style:none;font-size:calc(var(--roll-tools-pill-font-size)*.9);color:var(--muted)}
.roll-tool .dice-breakdown[hidden]{display:none}
.roll-tool .dice-breakdown li{padding:.2em .55em;border-radius:calc(var(--radius)*.6);background:rgba(255,255,255,.08)}
.dice-result-decrypted{display:inline-flex;align-items:inherit;justify-content:inherit;gap:var(--dice-result-gap,.1em);letter-spacing:var(--dice-result-letter-spacing,.08em);position:relative;font-variant-numeric:tabular-nums}
.dice-result-decrypted__char{position:relative;display:inline-flex;align-items:center;justify-content:center;min-width:.66ch;padding-inline:.08em;color:var(--text);text-shadow:none;animation:none}
.dice-result-decrypted__char::after{content:none}
.dice-result-decrypted__char--scrambling{color:var(--text);text-shadow:none;animation:none}

@keyframes diceResultShellGlint{
  0%,65%{transform:translateX(-55%) rotate(8deg);opacity:0;}
  72%{opacity:.5;}
  100%{transform:translateX(120%) rotate(8deg);opacity:0;}
}
@keyframes diceResultDigitGlint{
  0%,55%{transform:translateX(-140%) skewX(-12deg);opacity:0;}
  65%{opacity:.65;}
  100%{transform:translateX(140%) skewX(-12deg);opacity:0;}
}
@keyframes diceResultNumeralSettle{
  0%{transform:translateY(38%) scale(.96);opacity:0;filter:blur(.9px);}
  36%{transform:translateY(-18%) scale(1.04);opacity:1;filter:blur(0);}
  72%{transform:translateY(6%) scale(.98);}
  100%{transform:translateY(0) scale(1);opacity:1;}
}
@keyframes diceResultNumeralRoll{
  0%{opacity:.4;filter:blur(1.2px);transform:translateY(-38%);}
  35%{opacity:.85;filter:blur(.4px);transform:translateY(36%);}
  70%{opacity:.6;filter:blur(.9px);transform:translateY(-18%);}
  100%{opacity:.4;filter:blur(1.2px);transform:translateY(36%);}
}


@media (max-width:640px){
  .roll-tools{gap:calc(var(--roll-tools-gap)*.8)}
  .roll-tool{padding:calc(var(--roll-tools-section-padding)*.85)}
  .roll-tool__grid{grid-template-columns:repeat(2,minmax(0,1fr));}
}
#initiative-roll-result{--initiative-glow-color:var(--accent);transition:color .3s ease, border-color .3s ease;}
#initiative-roll-result.initiative-roll--active{animation:initiativeGlow .9s cubic-bezier(.33,1,.68,1);}
#initiative-roll-result.initiative-roll--crit-high{--initiative-glow-color:var(--success);color:var(--success);}
#initiative-roll-result.initiative-roll--crit-low{--initiative-glow-color:var(--error);color:var(--error);}

.card--augments{
  display:flex;
  flex-direction:column;
  gap:clamp(10px,2.5vw,14px);
  align-items:stretch;
}

.card--augments .card-toolbar{
  margin-bottom:clamp(2px,.6vw,4px);
}

.card--augments .augment-selected{
  gap:clamp(8px,2vw,12px);
}

.augment-picker-trigger{
  align-self:flex-start;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  padding:calc(var(--pill-padding-y,.45em)*.85) calc(var(--pill-padding-x,1.2em)*1.05);
  border-radius:999px;
  border:1px solid color-mix(in srgb,var(--accent) 18%, var(--line) 82%);
  background:color-mix(in srgb,var(--surface-2) 80%, var(--accent) 20%);
  color:var(--text);
  font-size:clamp(.72rem,2vw,.82rem);
  font-weight:700;
  letter-spacing:.08em;
  text-transform:uppercase;
  transition:transform .25s ease,box-shadow .25s ease,border-color .25s ease,background .25s ease;
  box-shadow:0 6px 22px -18px color-mix(in srgb,var(--accent) 65%,transparent);
}

.augment-picker-trigger:focus-visible{
  outline:2px solid var(--accent);
  outline-offset:3px;
}

body:not(.no-hover) .augment-picker-trigger:hover{
  transform:translateY(-1px);
  background:color-mix(in srgb,var(--accent) 35%, var(--surface-2) 65%);
  border-color:color-mix(in srgb,var(--accent) 55%, var(--line) 45%);
  box-shadow:0 10px 28px -18px color-mix(in srgb,var(--accent) 70%,transparent);
}

.modal--augment-picker{
  --modal-width:clamp(320px,92vw,780px);
  display:flex;
  flex-direction:column;
  gap:clamp(12px,3vw,18px);
  overflow:hidden;
}

.modal--augment-picker__subtitle{
  margin:0;
  color:var(--muted);
  font-size:clamp(.75rem,2.1vw,.88rem);
}

.modal--augment-picker__content{
  flex:1 1 auto;
  min-height:0;
  display:flex;
  flex-direction:column;
  overflow:auto;
  margin-inline:calc(var(--modal-padding-inline,20px)*-1);
  padding:0 calc(var(--modal-padding-inline,20px));
  padding-bottom:calc(var(--modal-padding-block,14px));
}

.modal--augment-picker__content .augment-picker{
  flex:1 1 auto;
  height:100%;
}

.modal--augment-picker__content .augment-picker__list{
  flex:1 1 auto;
  min-height:0;
  overflow:auto;
  padding-right:4px;
}

.augment-slot-summary{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:calc(var(--pill-padding-y)*.6) calc(var(--pill-padding-x)*.9);
  border:1px solid var(--line);
  border-radius:999px;
  background:color-mix(in srgb,var(--surface-2) 85%, var(--accent) 15%);
  font-size:clamp(.68rem,2vw,.8rem);
  font-weight:700;
  letter-spacing:.08em;
  text-transform:uppercase;
}

.augment-selected,
.augment-picker{
  display:flex;
  flex-direction:column;
  gap:clamp(10px,3vw,14px);
}

.augment-selected__list,
.augment-picker__list{
  display:flex;
  flex-direction:column;
  gap:clamp(8px,2.4vw,12px);
  margin:0;
  padding:0;
  list-style:none;
}

.augment-picker__controls{
  display:flex;
  flex-wrap:wrap;
  gap:var(--control-gap);
  align-items:center;
}

.augment-picker__controls input[type="search"]{
  flex:1 1 200px;
  min-width:160px;
}

.augment-filters{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
}

.augment-filter{
  border-radius:999px;
  text-transform:uppercase;
  letter-spacing:.08em;
}

.augment-filter[data-active="true"]{
  background:var(--accent);
  border-color:var(--accent);
  color:var(--text-on-accent);
}

.augment-card{
  border:1px solid var(--line);
  border-radius:var(--radius);
  padding:clamp(10px,3vw,14px);
  background:var(--surface-2);
  display:flex;
  flex-direction:column;
  gap:clamp(8px,2vw,12px);
}

.augment-card__header{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:clamp(6px,2vw,10px);
}

.augment-card__title{
  display:flex;
  flex-direction:column;
  gap:4px;
}

.augment-card__name{
  margin:0;
  font-size:clamp(.95rem,2.6vw,1.05rem);
  font-weight:700;
}

.augment-card__group{
  margin:0;
  font-size:clamp(.7rem,2vw,.8rem);
  letter-spacing:.08em;
  text-transform:uppercase;
  color:var(--muted);
}

.augment-card__body{
  display:flex;
  flex-direction:column;
  gap:6px;
}

.augment-card__summary{
  margin:0;
  color:var(--muted);
  font-size:clamp(.75rem,2.2vw,.85rem);
}

.augment-card__effects{
  margin:0;
  padding-inline-start:20px;
  display:flex;
  flex-direction:column;
  gap:4px;
}

.augment-card__effects li{
  margin:0;
  font-size:clamp(.75rem,2.2vw,.85rem);
}

.augment-card__tags{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
  margin:0;
}

.augment-card__tag{
  padding:2px 8px;
  border-radius:999px;
  border:1px solid color-mix(in srgb,var(--accent) 35%, var(--line) 65%);
  font-size:clamp(.65rem,1.8vw,.75rem);
  letter-spacing:.08em;
  text-transform:uppercase;
  color:color-mix(in srgb,var(--accent) 65%, var(--text) 35%);
}

.augment-card__actions{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
}

.augment-card__actions .btn-sm{
  min-width:120px;
}

.empty-state{
  margin:12px 0 0;
  font-size:clamp(.75rem,2.2vw,.9rem);
  color:var(--muted);
  line-height:1.5;
}

.empty-state a{
  color:color-mix(in srgb,var(--accent) 80%, var(--text) 20%);
  text-decoration:underline;
  font-weight:600;
}

.augment-empty,
.level-reward-empty,
.medal-empty{
  font-size:clamp(.75rem,2.2vw,.85rem);
}

.recognition-grid{
  display:grid;
  gap:clamp(12px,3vw,24px);
}

@media(min-width:960px){
  .recognition-grid{
    grid-template-columns:minmax(260px,320px) minmax(0,1fr);
    align-items:start;
  }
}

.card--medals{
  gap:16px;
}

.medal-list{
  list-style:none;
  margin:0;
  padding:0;
  display:grid;
  gap:12px;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
}

.medal-list>.card{
  height:100%;
}

.card--medal{
  gap:12px;
}

.medal-card__header{
  display:flex;
  align-items:center;
  gap:12px;
}

.medal-card__icon{
  width:52px;
  height:52px;
  border-radius:50%;
  background:color-mix(in srgb,var(--surface-2) 70%, transparent);
  border:1px solid color-mix(in srgb,var(--line) 65%, transparent);
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
  flex-shrink:0;
}

.medal-card__icon-img{
  width:100%;
  height:100%;
  object-fit:cover;
}

.medal-card__icon-fallback{
  font-size:clamp(1.4rem,4.2vw,1.7rem);
}

.medal-card__meta{
  display:flex;
  flex-direction:column;
  gap:4px;
}

.medal-card__title{
  font-weight:600;
  letter-spacing:.02em;
}

.medal-card__details{
  font-size:clamp(.75rem,2.2vw,.9rem);
  color:var(--muted);
}

.medal-card__details[data-empty='true']{
  font-style:italic;
}

.medal-card__flavor{
  margin:0;
  font-size:clamp(.78rem,2.3vw,.95rem);
  color:var(--muted);
}

.medal-card__flavor[data-empty='false']{
  color:var(--text);
}

.modal--level-rewards{
  --modal-width:min(420px,calc(100vw - 32px));
  --modal-padding-block:clamp(16px,3.6vw,22px);
  --modal-padding-inline:clamp(18px,4vw,26px);
  display:flex;
  flex-direction:column;
  gap:clamp(12px,3vw,18px);
}

.modal--level-rewards .level-reward-list{
  max-height:min(260px,52vh);
  overflow:auto;
  padding-right:4px;
}

.level-reward-modal__intro{
  margin:0;
  font-size:clamp(.82rem,2.4vw,.95rem);
  color:var(--muted);
}

.level-reward-modal__actions{
  display:flex;
  justify-content:flex-end;
  margin-top:4px;
}

.level-reward-modal__actions .btn{
  min-width:0;
}

.player-tools-reminder{
  display:flex;
  margin-bottom:clamp(8px,2.6vw,12px);
}

.player-tools-reminder[hidden]{
  display:none !important;
}

.player-tools-reminder__actions{
  display:flex;
  align-items:stretch;
  gap:clamp(8px,2.6vw,12px);
  width:100%;
}

.player-tools-reminder__trigger{
  width:100%;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:clamp(10px,2.6vw,14px);
  padding:clamp(10px,3vw,14px);
  border-radius:var(--radius);
  border:1px solid color-mix(in srgb,var(--line) 75%, transparent);
  background:color-mix(in srgb,var(--surface-2) 92%, transparent);
  color:inherit;
  text-align:left;
  transition:box-shadow .28s ease,border-color .28s ease,background .28s ease,transform .28s ease;
}

.player-tools-reminder__trigger:disabled,
.player-tools-reminder__trigger[aria-disabled="true"]{
  border-color:color-mix(in srgb,var(--line) 80%, transparent);
  background:color-mix(in srgb,var(--surface-2) 70%, transparent);
  color:color-mix(in srgb,var(--text) 72%, transparent);
  box-shadow:none;
  cursor:default;
  opacity:.7;
  animation:none;
}

.player-tools-reminder__trigger[data-pending="true"]{
  border-color:color-mix(in srgb,var(--accent) 60%, var(--line) 40%);
  background:color-mix(in srgb,var(--accent) 14%, var(--surface-2) 86%);
  box-shadow:0 0 0 1px color-mix(in srgb,var(--accent) 45%, transparent);
}

.player-tools-reminder__trigger[data-pending="true"][data-animate="true"]{
  animation:playerToolsReminderPendingPulse 2.4s ease-in-out infinite;
}

.player-tools-reminder__trigger[data-pending="true"][data-animate="false"]{
  animation:none;
}

@keyframes playerToolsReminderPendingPulse{
  0%,100%{
    box-shadow:0 0 0 1px color-mix(in srgb,var(--accent) 45%, transparent),0 0 0 rgba(0,0,0,0);
    transform:translate3d(0,0,0);
  }
  50%{
    box-shadow:0 0 0 3px color-mix(in srgb,var(--accent) 55%, transparent),0 6px 18px rgba(0,0,0,.14);
    background:color-mix(in srgb,var(--accent) 20%, var(--surface-2) 80%);
    transform:translate3d(0,-1px,0);
  }
}


.player-tools-reminder__trigger[data-pending="true"][data-drawer-open="true"]{
  box-shadow:0 6px 22px rgba(0,0,0,.18),0 0 0 2px color-mix(in srgb,var(--accent) 55%, transparent);
}

.player-tools-reminder__content{
  display:flex;
  flex-direction:column;
  gap:4px;
}

.player-tools-reminder__title{
  font-weight:600;
  letter-spacing:.02em;
}

.player-tools-reminder__subtitle{
  font-size:clamp(.7rem,2vw,.8rem);
  color:var(--muted);
}

.player-tools-reminder__badge{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-width:28px;
  padding:4px 8px;
  border-radius:999px;
  background:var(--accent);
  color:var(--text-on-accent);
  font-weight:700;
  font-size:clamp(.72rem,2vw,.82rem);
}

.player-tools-reminder__trigger[hidden]{
  display:none !important;
}

body:not(.no-hover) .player-tools-reminder__trigger:hover{
  transform:translateY(-1px);
}

body:not(.no-hover) .player-tools-reminder__trigger:disabled:hover,
body:not(.no-hover) .player-tools-reminder__trigger[aria-disabled="true"]:hover{
  transform:none;
}

.player-tools-reminder__info{
  position:relative;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  flex:0 0 auto;
  padding:clamp(10px,3vw,14px);
  border-radius:var(--radius);
  border:1px solid color-mix(in srgb,var(--line) 75%, transparent);
  background:color-mix(in srgb,var(--surface-2) 92%, transparent);
  color:inherit;
  font-weight:700;
  font-size:clamp(.8rem,2.4vw,.9rem);
  transition:box-shadow .28s ease,border-color .28s ease,background .28s ease,transform .28s ease;
  min-width:clamp(38px,4vw,44px);
}

.player-tools-reminder__info[hidden]{
  display:none !important;
}

body:not(.no-hover) .player-tools-reminder__info:hover{
  transform:translateY(-1px);
}

.player-tools-reminder__info:focus-visible{
  outline:2px solid color-mix(in srgb,var(--accent) 65%, transparent);
  outline-offset:2px;
}

.player-tools-reminder__trigger[data-pending="true"] + .player-tools-reminder__info{
  border-color:color-mix(in srgb,var(--accent) 60%, var(--line) 40%);
  background:color-mix(in srgb,var(--accent) 14%, var(--surface-2) 86%);
  box-shadow:0 0 0 1px color-mix(in srgb,var(--accent) 35%, transparent);
  --tip-glow-color:color-mix(in srgb,var(--accent) 70%, transparent);
}

.player-tools-reminder__info-icon{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  font-size:clamp(.85rem,2.6vw,1rem);
  font-weight:700;
  text-transform:uppercase;
  line-height:1;
  letter-spacing:.05em;
}

@media (max-width:480px){
  .player-tools-reminder__trigger{
    padding:clamp(9px,4vw,12px);
  }
  .player-tools-reminder__info{
    padding:clamp(9px,4vw,12px);
  }
}

.level-reward-list{
  margin:0;
  padding:0;
  list-style:none;
  display:flex;
  flex-direction:column;
  gap:8px;
}

.level-reward-list li{
  display:flex;
  flex-direction:column;
  align-items:flex-start;
  gap:6px;
  font-size:clamp(.8rem,2.3vw,.9rem);
}

.level-reward-list input[type="checkbox"]{
  width:18px;
  height:18px;
}

.level-reward-list label{
  display:flex;
  align-items:center;
  gap:10px;
}

.level-reward-list label span{
  flex:1;
}

.level-reward-list__title{
  margin:0;
  font-weight:600;
  font-size:clamp(.8rem,2.3vw,.95rem);
}

.level-reward-list__details{
  margin:0;
  padding-left:1.2rem;
  list-style:disc;
  display:grid;
  gap:4px;
  font-size:clamp(.75rem,2.1vw,.85rem);
  color:color-mix(in srgb,var(--muted) 70%, var(--text) 30%);
}

.level-reward-list__control{
  width:100%;
}

.level-reward-list__stat-select{
  width:100%;
  padding:8px 10px;
  border-radius:6px;
  border:1px solid var(--line);
  background:var(--surface-2);
  color:var(--text);
  font:inherit;
}

.level-reward-list__action--automatic span,
.level-reward-list__action--complete span{
  color:color-mix(in srgb,var(--muted) 60%, var(--text) 40%);
}

.level-reward-list__action--automatic input,
.level-reward-list__action--complete input{
  opacity:.65;
}

.augment-slot-summary[data-over-limit="true"]{
  background:color-mix(in srgb,var(--error) 20%, var(--surface-2) 80%);
  border-color:color-mix(in srgb,var(--error) 55%, var(--line) 45%);
  color:color-mix(in srgb,var(--error) 80%, var(--text-on-accent) 20%);
}

.card[data-level-choice]{
  box-shadow:0 0 0 2px color-mix(in srgb,var(--accent) 35%, transparent);
}

.encounter-presets{
  margin-top:16px;
  padding-top:8px;
  border-top:1px solid var(--line);
  display:flex;
  flex-direction:column;
  gap:12px;
}

.encounter-presets__header h4{
  margin:0;
  font-size:clamp(.95rem,2.6vw,1.05rem);
}

.encounter-presets__controls{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  align-items:center;
}

.encounter-presets__controls input{
  flex:1 1 180px;
  min-width:140px;
}

.encounter-presets__list{
  display:flex;
  flex-direction:column;
  gap:8px;
}

.encounter-presets__empty{
  padding:8px;
  font-size:.85rem;
  color:var(--muted);
}

.encounter-preset{
  display:flex;
  flex-wrap:wrap;
  gap:12px;
  align-items:center;
}

.encounter-preset__info{
  flex:1 1 auto;
  min-width:0;
}

.encounter-preset__name{
  font-weight:600;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
}

.encounter-preset__meta{
  margin-top:2px;
  font-size:.8rem;
  color:var(--muted);
}

.encounter-preset__actions{
  display:flex;
  gap:8px;
}
.player-tools-drawer,
.player-tools-tab {
  contain: layout style paint;
}

:root {
  --drawer-width: clamp(480px, 62vw, 780px);
  --drawer-z: 1200;
  --drawer-slide-direction: -1;
  --player-tools-transition-duration: 420ms;
  --player-tools-transition-timing: cubic-bezier(0.18, 0.9, 0.2, 1);
  --player-tools-open-progress: 0;
  --player-tools-glass-radius: 30px;
  --player-tools-left-gutter: max(env(safe-area-inset-left, 0px), clamp(0px, 1.2vw, 14px));
  --player-tools-tray-inline-gap: clamp(0px, 0.35vw, 4px);
  --player-tools-drawer-inline-padding: clamp(12px, 4vw, 24px);
  --player-tools-content-inline-padding: clamp(12px, 4vw, 24px);
  --player-tools-frame-padding: clamp(14px, 3.2vw, 22px);
}
@media(max-width:600px){
  :root{
    --player-tools-left-gutter:max(env(safe-area-inset-left,0px),4px);
    --player-tools-tray-inline-gap:0px;
  }
}

.player-tools-drawer {
  position: fixed;
  top: 0;
  bottom: 0;
  left: 0;
  inline-size: min(var(--drawer-width, 360px), 100vw);
  display: flex;
  --player-tools-header-fill: color-mix(in srgb, var(--surface-2) 88%, var(--surface-3) 12%);
  pointer-events: none;
  background: transparent;
  z-index: var(--drawer-z, 1200);
  transform: translate3d(
    calc((1 - var(--player-tools-open-progress, 0)) * 100% * var(--drawer-slide-direction, -1)),
    0,
    0
  );
  transition:
    transform var(--player-tools-transition-duration) var(--player-tools-transition-timing),
    filter var(--player-tools-transition-duration) var(--player-tools-transition-timing);
  will-change: transform;
}

.player-tools-drawer.is-open {
  pointer-events: auto;
}

.player-tools-drawer__scrim {
  position: fixed;
  inset: 0;
  background: radial-gradient(120% 120% at 12% 12%, rgba(20, 26, 38, 0.72), rgba(5, 8, 12, 0.85));
  opacity: calc(var(--player-tools-open-progress, 0) * 0.85);
  transition: opacity var(--player-tools-transition-duration) var(--player-tools-transition-timing);
  pointer-events: none;
}

.player-tools-drawer.is-open .player-tools-drawer__scrim {
  pointer-events: auto;
}

.player-tools-drawer__inner {
  position: relative;
  z-index: 1;
  inline-size: 100%;
  block-size: 100%;
  padding-block: clamp(18px, 4vw, 32px);
  padding-inline-start: max(env(safe-area-inset-left, 0px), var(--player-tools-drawer-inline-padding));
  padding-inline-end: max(env(safe-area-inset-right, 0px), var(--player-tools-drawer-inline-padding));
  display: flex;
  align-items: flex-start;
  justify-content: flex-start;
}

.player-tools-drawer__panel {
  position: absolute;
  top: clamp(14px, 4vw, 24px);
  bottom: clamp(14px, 4vw, 24px);
  right: max(env(safe-area-inset-right, 0px), var(--player-tools-drawer-inline-padding));
  left: max(env(safe-area-inset-left, 0px), var(--player-tools-left-gutter));
  border-radius: calc(var(--player-tools-glass-radius, 30px) + 10px);
  background: none;
  box-shadow: none;
  filter: none;
  transform: translate3d(calc((1 - var(--player-tools-open-progress, 0)) * -18px), 0, 0);
  transition:
    box-shadow var(--player-tools-transition-duration) var(--player-tools-transition-timing),
    filter var(--player-tools-transition-duration) var(--player-tools-transition-timing),
    transform var(--player-tools-transition-duration) var(--player-tools-transition-timing),
    background var(--player-tools-transition-duration) var(--player-tools-transition-timing);
  overflow: hidden;
}

.player-tools-drawer__decor {
  position: absolute;
  inset: 0;
  border-radius: inherit;
  overflow: hidden;
}

.player-tools-drawer__beam {
  position: absolute;
  inline-size: 180%;
  block-size: 45%;
  top: -35%;
  left: -28%;
  background: radial-gradient(120% 120% at 50% 50%, rgba(130, 200, 255, 0.52), rgba(130, 200, 255, 0) 75%);
  opacity: calc(0.16 + 0.34 * var(--player-tools-open-progress, 0));
  transform: rotate(12deg) translate3d(0, calc((1 - var(--player-tools-open-progress, 0)) * -26%), 0);
  transition:
    opacity var(--player-tools-transition-duration) var(--player-tools-transition-timing),
    transform var(--player-tools-transition-duration) var(--player-tools-transition-timing);
}

.player-tools-drawer__beam--accent {
  top: auto;
  bottom: -40%;
  left: -18%;
  inline-size: 160%;
  block-size: 44%;
  background: radial-gradient(120% 120% at 40% 50%, rgba(72, 214, 255, 0.45), rgba(72, 214, 255, 0) 75%);
  transform: rotate(6deg) translate3d(0, calc((1 - var(--player-tools-open-progress, 0)) * 24%), 0);
}

.player-tools-drawer__glow {
  position: absolute;
  inset: -22% -12% 32%;
  background: radial-gradient(90% 70% at 42% 24%, rgba(120, 215, 255, 0.3), rgba(120, 215, 255, 0) 68%);
  opacity: calc(0.12 + 0.32 * var(--player-tools-open-progress, 0));
  transition: opacity var(--player-tools-transition-duration) var(--player-tools-transition-timing);
  mix-blend-mode: screen;
}

.player-tools-drawer__content {
  position: relative;
  inline-size: 100%;
  block-size: 100%;
  overflow: visible;
  scrollbar-width: none;
  -ms-overflow-style: none;
  padding-block: clamp(12px, 2.4vw, 20px);
  padding-inline-start: max(env(safe-area-inset-left, 0px), var(--player-tools-content-inline-padding));
  padding-inline-end: max(env(safe-area-inset-right, 0px), var(--player-tools-content-inline-padding));
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: var(--player-tools-glass-radius, 30px);
  background: none;
  box-shadow: none;
  backdrop-filter: none;
  color: var(--text, rgba(242, 244, 255, 0.92));
  transform: translate3d(calc((1 - var(--player-tools-open-progress, 0)) * -12px), 0, 0);
  opacity: calc(0.55 + 0.45 * var(--player-tools-open-progress, 0));
  transition:
    opacity var(--player-tools-transition-duration) var(--player-tools-transition-timing),
    transform var(--player-tools-transition-duration) var(--player-tools-transition-timing),
    box-shadow var(--player-tools-transition-duration) var(--player-tools-transition-timing),
    backdrop-filter var(--player-tools-transition-duration) var(--player-tools-transition-timing);
}

.player-tools-drawer__content::-webkit-scrollbar {
  display: none;
  width: 0;
  height: 0;
}

.player-tools-drawer__content:focus-visible {
  outline: 2px solid color-mix(in srgb, var(--accent) 60%, #fff 40%);
  outline-offset: 0;
}

.player-tools-drawer .roll-tools {
  grid-template-columns: 1fr;
}

.player-tools-drawer .roll-tool__header {
  position: relative;
}

.player-tools-drawer .roll-tool__header::before {
  content: '';
  position: absolute;
  inset: calc(var(--roll-tools-gap) * -0.35) 0;
  border-radius: calc(var(--radius) * 0.75);
  background: var(--player-tools-header-fill);
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.05);
  pointer-events: none;
  z-index: 0;
}

.player-tools-drawer .roll-tool__header > * {
  position: relative;
  z-index: 1;
}

.player-tools-drawer .roll-tool__header :is(.dice-result__shell, .pill.result) {
  --dice-result-fill: var(--player-tools-header-fill);
}


.player-tools-phone {
  --player-tools-frame-radius: clamp(34px, 7.4vw, 44px);
  --player-tools-safe-area-top: max(10px, env(safe-area-inset-top));
  --player-tools-status-bar-height: clamp(42px, 10vw, 56px);
  --player-tools-status-bar-offset: calc(
    var(--player-tools-status-bar-height) + var(--player-tools-safe-area-top)
  );
  position: relative;
  z-index: 0;
  display: flex;
  flex-direction: column;
  min-block-size: 100%;
  flex: 1;
  inline-size: 100%;
  max-inline-size: clamp(400px, 90vw, 600px);
  align-self: flex-start;
  margin-inline-start: 0;
  margin-inline-end: auto;
  padding: var(--player-tools-frame-padding);
  border-radius: calc(var(--player-tools-frame-radius) + var(--player-tools-frame-padding));
  background: linear-gradient(145deg, #f7f8fb 0%, #dfe3ea 32%, #959daa 58%, #d5d9e0 78%, #f2f5f9 100%);
  box-shadow:
    0 28px 52px rgba(8, 10, 16, 0.52),
    0 12px 22px rgba(8, 10, 16, 0.36),
    inset 0 1px 1px rgba(255, 255, 255, 0.55),
    inset 0 -1px 2px rgba(22, 24, 30, 0.4);
  overflow: hidden;
}

.player-tools-phone::before {
  content: '';
  position: absolute;
  inset: calc(var(--player-tools-frame-padding) * 0.35);
  border-radius: calc(var(--player-tools-frame-radius) + var(--player-tools-frame-padding) - calc(var(--player-tools-frame-padding) * 0.35));
  background: linear-gradient(160deg, rgba(255, 255, 255, 0.65) 0%, rgba(255, 255, 255, 0.08) 42%, rgba(12, 16, 22, 0.5) 100%);
  box-shadow:
    inset 0 1px 2px rgba(255, 255, 255, 0.42),
    inset 0 -1px 2px rgba(8, 10, 16, 0.6);
  opacity: 0.9;
  pointer-events: none;
  z-index: 0;
}

.player-tools-phone > * {
  position: relative;
  z-index: 1;
}

.player-tools-phone__status-bar {
  position: absolute;
  inset-inline: 0;
  top: 0;
  z-index: 2;
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: clamp(10px, 2.4vw, 16px);
  padding-inline: calc(var(--player-tools-screen-padding) - clamp(0px, 0.8vw, 8px));
  padding-block-start: calc(var(--player-tools-safe-area-top) + clamp(6px, 2vw, 12px));
  padding-block-end: clamp(6px, 2vw, 12px);
  min-block-size: calc(var(--player-tools-safe-area-top) + var(--player-tools-status-bar-height));
  color: rgba(255, 255, 255, 0.92);
  font-family: "SF Pro Text", "SF Pro Display", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  font-size: clamp(0.98rem, 2.4vw, 1.1rem);
  font-feature-settings: 'tnum' 1, 'liga' 1;
  letter-spacing: -0.015em;
  line-height: 1;
  background: transparent;
  box-shadow: none;
  backdrop-filter: none;
}

.player-tools-phone__status-bar::after {
  content: none;
}

.player-tools-phone__status-group {
  display: inline-flex;
  align-items: center;
  gap: clamp(8px, 2vw, 14px);
  min-inline-size: 0;
}

.player-tools-phone__status-group--left {
  justify-self: flex-start;
}

.player-tools-phone__status-group--center {
  justify-content: center;
  justify-self: center;
}

.player-tools-phone__status-group--right {
  justify-content: flex-end;
}

.player-tools-phone__clock {
  font-size: clamp(1.02rem, 2.6vw, 1.22rem);
  font-weight: 600;
  letter-spacing: -0.018em;
  color: rgba(255, 255, 255, 0.96);
  white-space: nowrap;
  text-shadow: none;
}

.player-tools-phone__dynamic-island {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: clamp(10px, 2.6vw, 16px);
  inline-size: clamp(102px, 28vw, 148px);
  block-size: clamp(26px, 7vw, 34px);
  border-radius: 999px;
  padding-inline: clamp(18px, 4vw, 26px);
  background: rgba(4, 6, 12, 0.96);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.12),
    inset 0 -1px 0 rgba(0, 0, 0, 0.7);
  position: relative;
  overflow: hidden;
}

.player-tools-phone__microphone {
  inline-size: clamp(18px, 4.6vw, 26px);
  block-size: clamp(4px, 1.4vw, 6px);
  border-radius: 999px;
  background: rgba(32, 36, 42, 0.85);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.18),
    inset 0 -1px 1px rgba(0, 0, 0, 0.65);
}

.player-tools-phone__camera {
  inline-size: clamp(14px, 3.6vw, 18px);
  block-size: clamp(14px, 3.6vw, 18px);
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, rgba(52, 64, 82, 0.45), rgba(12, 16, 24, 0.96));
  box-shadow:
    inset 0 0 0 1px rgba(255, 255, 255, 0.18),
    inset 0 0 0 3px rgba(4, 8, 12, 0.9);
  opacity: 0.95;
}

.player-tools-phone__screen {
  --player-tools-screen-padding: clamp(14px, 2.8vw, 22px);
  --player-tools-screen-glass: linear-gradient(
    180deg,
    rgba(18, 20, 28, 0.98) 0%,
    rgba(6, 8, 16, 0.98) 55%,
    rgba(2, 3, 6, 0.98) 100%
  );
  position: relative;
  flex: 1;
  display: flex;
  border-radius: calc(var(--player-tools-frame-radius) - clamp(8px, 2.2vw, 12px));
  background: #05070c;
  background-image: var(--player-tools-screen-glass);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.08),
    inset 0 -1px 0 rgba(0, 0, 0, 0.86),
    0 24px 48px rgba(2, 4, 10, 0.58);
  overflow: hidden;
}

.player-tools-phone__viewport {
  display: flex;
  flex-direction: column;
  gap: clamp(12px, 2.4vw, 18px);
  flex: 1;
  padding: var(--player-tools-screen-padding);
  padding-block-start: calc(var(--player-tools-screen-padding) + var(--player-tools-status-bar-offset));
  overflow-y: auto;
  overscroll-behavior: contain;
  scrollbar-gutter: stable both-edges;
  scroll-padding-top: calc(var(--player-tools-screen-padding) + var(--player-tools-status-bar-offset));
}


.player-tools-status {
  position: relative;
  display: inline-flex;
  align-items: center;
  gap: clamp(6px, 1.8vw, 10px);
  font-family: "SF Pro Text", "SF Pro Display", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  font-size: clamp(0.86rem, 2vw, 0.98rem);
  font-feature-settings: 'tnum' 1, 'liga' 1;
  font-variant-numeric: tabular-nums;
  letter-spacing: -0.01em;
  text-transform: none;
  color: rgba(255, 255, 255, 0.88);
}

.player-tools-status__icon {
  position: relative;
  inline-size: clamp(26px, 4.4vw, 32px);
  block-size: clamp(18px, 3.4vw, 20px);
  display: inline-flex;
  align-items: flex-end;
  justify-content: center;
  color: currentColor;
  filter: none;
}

.player-tools-status__icon::before,
.player-tools-status__icon::after {
  pointer-events: none;
}

.player-tools-status__icon--signal::before {
  content: '';
  position: absolute;
  inset: 0;
  inline-size: 86%;
  block-size: 100%;
  transform: translateX(-6%);
  background:
    linear-gradient(to top, currentColor 0%, currentColor 100%) 0% 100% / 16% 36% no-repeat,
    linear-gradient(to top, currentColor 0%, currentColor 100%) 24% 100% / 16% 54% no-repeat,
    linear-gradient(to top, currentColor 0%, currentColor 100%) 48% 100% / 16% 72% no-repeat,
    linear-gradient(to top, currentColor 0%, currentColor 100%) 72% 100% / 16% 88% no-repeat,
    linear-gradient(to top, currentColor 0%, currentColor 100%) 96% 100% / 16% 100% no-repeat;
  opacity: 0.9;
}

.player-tools-status__icon--wifi::before {
  content: '';
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 50% 95%, currentColor 0 7%, transparent 8%) center bottom / 18% 18% no-repeat,
    radial-gradient(circle at 50% 100%, transparent 0 34%, currentColor 35% 37%, transparent 38%) center bottom / 54% 54% no-repeat,
    radial-gradient(circle at 50% 100%, transparent 0 56%, currentColor 57% 59%, transparent 60%) center bottom / 76% 76% no-repeat,
    radial-gradient(circle at 50% 100%, transparent 0 78%, currentColor 79% 81%, transparent 82%) center bottom / 98% 98% no-repeat;
  opacity: 0.9;
}

.player-tools-status__icon--battery {
  inline-size: clamp(44px, 8.6vw, 56px);
  block-size: clamp(18px, 3.6vw, 20px);
  align-items: center;
  justify-content: center;
}

.player-tools-status--battery {
  --battery-frame-color: rgba(255, 255, 255, 0.88);
  --battery-level-color: rgba(255, 255, 255, 0.9);
  --battery-level-opacity: 1;
  --battery-cap-width: clamp(4px, 1vw, 6px);
}

.player-tools-status--battery[data-battery-state='green'] {
  --battery-level-color: #2fd158;
}

.player-tools-status--battery[data-battery-state='orange'] {
  --battery-level-color: #ffa941;
}

.player-tools-status--battery[data-battery-state='yellow'] {
  --battery-level-color: #ffd426;
}

.player-tools-status--battery[data-battery-state='red'],
.player-tools-status--battery[data-battery-state='critical'] {
  --battery-level-color: #ff453a;
}

.player-tools-status--battery[data-battery-state='unavailable'] {
  --battery-frame-color: rgba(255, 255, 255, 0.35);
  --battery-level-opacity: 0;
}

.player-tools-status__icon--battery {
  position: relative;
  overflow: visible;
}

.player-tools-status__battery {
  position: relative;
  inline-size: 100%;
  block-size: 100%;
  border-radius: clamp(3px, 0.8vw, 4px);
  border: 1.5px solid var(--battery-frame-color);
  background: transparent;
  box-shadow: none;
  overflow: hidden;
}

.player-tools-status__battery::after {
  content: '';
  position: absolute;
  top: 50%;
  inset-inline-end: calc(-1 * var(--battery-cap-width));
  inline-size: var(--battery-cap-width);
  block-size: 42%;
  border-radius: clamp(1px, 0.6vw, 3px);
  background: var(--battery-frame-color);
  box-shadow: none;
  transform: translateY(-50%);
}

.player-tools-status__battery-level {
  position: absolute;
  inset-block: 0;
  inset-inline-start: 0;
  inset-inline-end: calc(100% - var(--player-tools-meter-fill, 0%));
  border-radius: inherit;
  background: var(--battery-level-color);
  box-shadow: none;
  opacity: var(--battery-level-opacity, 1);
  transition:
    inset-inline-end 320ms cubic-bezier(0.28, 0.85, 0.32, 1.02),
    opacity 220ms ease-out,
    filter 220ms ease-out;
  filter: none;
}

.player-tools-status--battery[data-battery-charging='true'] .player-tools-status__battery-level {
  background-image:
    linear-gradient(90deg, var(--battery-level-color), var(--battery-level-color)),
    repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.28) 0 6px, rgba(255, 255, 255, 0) 6px 12px);
  background-size: 100% 100%, 16px 16px;
  animation: player-tools-battery-charge 1.4s linear infinite;
}

.player-tools-status--battery[data-battery-state='unavailable'] .player-tools-status__battery-level {
  animation: none;
}

.player-tools-status__battery-warning {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  font-size: clamp(10px, 2.8vw, 14px);
  font-weight: 700;
  color: var(--battery-level-color, #ff453a);
  text-shadow: none;
  opacity: 0;
  transform: scale(0.6);
  pointer-events: none;
  transition: opacity 180ms ease-out, transform 180ms ease-out;
}

.player-tools-status--battery[data-battery-state='critical'] .player-tools-status__battery-warning::before {
  content: '!';
}

.player-tools-status--battery[data-battery-state='critical'] .player-tools-status__battery-warning {
  opacity: 1;
  transform: scale(1);
}

@keyframes player-tools-battery-charge {
  from {
    background-position: 0 0, 0 0;
  }

  to {
    background-position: 0 0, 16px 0;
  }
}

.player-tools-status__text {
  font-size: inherit;
}
.player-tools-tab {
  contain: layout style paint;
}

:root {
  --drawer-width: clamp(320px, 42vw, 520px);
  --drawer-z: 1200;
  --drawer-slide-direction: -1;
  --player-tools-transition-duration: 420ms;
  --player-tools-transition-timing: cubic-bezier(0.18, 0.9, 0.2, 1);
  --player-tools-open-progress: 0;
  --player-tools-glass-radius: 30px;
  --player-tools-drawer-inline-padding: clamp(12px, 4vw, 24px);
  --player-tools-content-inline-padding: clamp(12px, 4vw, 24px);
  --player-tools-frame-padding: clamp(12px, 3vw, 18px);
}

.player-tools-drawer {
  position: fixed;
  top: 0;
  bottom: 0;
  left: 0;
  inline-size: min(var(--drawer-width, 360px), 100vw);
  display: flex;
  pointer-events: none;
  background: transparent;
  z-index: var(--drawer-z, 1200);
  transform: translate3d(
    calc((1 - var(--player-tools-open-progress, 0)) * 100% * var(--drawer-slide-direction, -1)),
    0,
    0
  );
  transition:
    transform var(--player-tools-transition-duration) var(--player-tools-transition-timing),
    filter var(--player-tools-transition-duration) var(--player-tools-transition-timing);
  will-change: transform;
}

.player-tools-drawer.is-open {
  pointer-events: auto;
}

.player-tools-drawer__scrim {
  position: fixed;
  inset: 0;
  background: radial-gradient(120% 120% at 12% 12%, rgba(20, 26, 38, 0.72), rgba(5, 8, 12, 0.85));
  opacity: calc(var(--player-tools-open-progress, 0) * 0.85);
  transition: opacity var(--player-tools-transition-duration) var(--player-tools-transition-timing);
  pointer-events: none;
}

.player-tools-drawer.is-open .player-tools-drawer__scrim {
  pointer-events: auto;
}

.player-tools-drawer__inner {
  position: relative;
  z-index: 1;
  inline-size: 100%;
  block-size: 100%;
  padding-block: clamp(18px, 4vw, 32px);
  padding-inline-start: max(env(safe-area-inset-left, 0px), var(--player-tools-drawer-inline-padding));
  padding-inline-end: max(env(safe-area-inset-right, 0px), var(--player-tools-drawer-inline-padding));
  display: flex;
  align-items: stretch;
  justify-content: flex-start;
}

.player-tools-drawer__panel {
  position: absolute;
  inset: clamp(14px, 4vw, 24px) clamp(10px, 4vw, 18px);
  border-radius: calc(var(--player-tools-glass-radius, 30px) + 10px);
  background: none;
  box-shadow: none;
  filter: none;
  transform: translate3d(calc((1 - var(--player-tools-open-progress, 0)) * -18px), 0, 0);
  transition:
    box-shadow var(--player-tools-transition-duration) var(--player-tools-transition-timing),
    filter var(--player-tools-transition-duration) var(--player-tools-transition-timing),
    transform var(--player-tools-transition-duration) var(--player-tools-transition-timing),
    background var(--player-tools-transition-duration) var(--player-tools-transition-timing);
  overflow: hidden;
}

.player-tools-drawer__decor {
  position: absolute;
  inset: 0;
  border-radius: inherit;
  overflow: hidden;
}

.player-tools-drawer__beam {
  position: absolute;
  inline-size: 180%;
  block-size: 45%;
  top: -35%;
  left: -28%;
  background: radial-gradient(120% 120% at 50% 50%, rgba(130, 200, 255, 0.52), rgba(130, 200, 255, 0) 75%);
  opacity: calc(0.16 + 0.34 * var(--player-tools-open-progress, 0));
  transform: rotate(12deg) translate3d(0, calc((1 - var(--player-tools-open-progress, 0)) * -26%), 0);
  transition:
    opacity var(--player-tools-transition-duration) var(--player-tools-transition-timing),
    transform var(--player-tools-transition-duration) var(--player-tools-transition-timing);
}

.player-tools-drawer__beam--accent {
  top: auto;
  bottom: -40%;
  left: -18%;
  inline-size: 160%;
  block-size: 44%;
  background: radial-gradient(120% 120% at 40% 50%, rgba(72, 214, 255, 0.45), rgba(72, 214, 255, 0) 75%);
  transform: rotate(6deg) translate3d(0, calc((1 - var(--player-tools-open-progress, 0)) * 24%), 0);
}

.player-tools-drawer__glow {
  position: absolute;
  inset: -22% -12% 32%;
  background: radial-gradient(90% 70% at 42% 24%, rgba(120, 215, 255, 0.3), rgba(120, 215, 255, 0) 68%);
  opacity: calc(0.12 + 0.32 * var(--player-tools-open-progress, 0));
  transition: opacity var(--player-tools-transition-duration) var(--player-tools-transition-timing);
  mix-blend-mode: screen;
}

.player-tools-drawer__content {
  position: relative;
  inline-size: 100%;
  block-size: 100%;
  overflow: visible;
  padding-block: clamp(12px, 2.4vw, 20px);
  padding-inline-start: max(env(safe-area-inset-left, 0px), var(--player-tools-content-inline-padding));
  padding-inline-end: max(env(safe-area-inset-right, 0px), var(--player-tools-content-inline-padding));
  display: flex;
  flex-direction: column;
  align-items: center;
  border-radius: var(--player-tools-glass-radius, 30px);
  background: none;
  box-shadow: none;
  backdrop-filter: none;
  color: var(--text, rgba(242, 244, 255, 0.92));
  transform: translate3d(calc((1 - var(--player-tools-open-progress, 0)) * -12px), 0, 0);
  opacity: calc(0.55 + 0.45 * var(--player-tools-open-progress, 0));
  transition:
    opacity var(--player-tools-transition-duration) var(--player-tools-transition-timing),
    transform var(--player-tools-transition-duration) var(--player-tools-transition-timing),
    box-shadow var(--player-tools-transition-duration) var(--player-tools-transition-timing),
    backdrop-filter var(--player-tools-transition-duration) var(--player-tools-transition-timing);
}

.player-tools-drawer__content:focus-visible {
  outline: 2px solid color-mix(in srgb, var(--accent) 60%, #fff 40%);
  outline-offset: 0;
}

.player-tools-drawer .roll-tools {
  grid-template-columns: 1fr;
}

.player-tools-phone {
  --player-tools-safe-area-top: max(10px, env(safe-area-inset-top));
  --player-tools-status-bar-height: clamp(54px, 13vw, 70px);
  --player-tools-status-bar-offset: calc(
    var(--player-tools-status-bar-height) + var(--player-tools-safe-area-top)
  );
  position: relative;
  display: flex;
  flex-direction: column;
  min-block-size: 100%;
  flex: 1;
  inline-size: min(100%, clamp(340px, 82vw, 480px));
  margin-inline: auto;
}

.player-tools-phone__status-bar {
  position: absolute;
  inset-inline: 0;
  top: 0;
  z-index: 2;
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: clamp(14px, 3.4vw, 22px);
  padding-inline: var(--player-tools-screen-padding);
  padding-block-start: calc(var(--player-tools-safe-area-top) + clamp(12px, 3.2vw, 18px));
  padding-block-end: clamp(12px, 3.2vw, 18px);
  min-block-size: calc(var(--player-tools-safe-area-top) + var(--player-tools-status-bar-height));
  color: rgba(214, 230, 255, 0.94);
  background: var(
    --player-tools-screen-glass,
    linear-gradient(205deg, rgba(20, 32, 48, 0.5), rgba(10, 16, 28, 0.55))
  );
  box-shadow:
    inset 0 -1px 0 rgba(110, 170, 255, 0.25),
    inset 0 1px 0 rgba(5, 8, 14, 0.6);
  backdrop-filter: inherit;
}

.player-tools-phone__status-bar::after {
  content: '';
  position: absolute;
  inset-inline: calc(var(--player-tools-screen-padding) + clamp(12px, 3vw, 18px));
  inset-block-end: clamp(6px, 1.6vw, 12px);
  block-size: 2px;
  border-radius: 999px;
  background: linear-gradient(
    90deg,
    rgba(120, 190, 255, 0),
    rgba(120, 190, 255, 0.55),
    rgba(120, 190, 255, 0)
  );
  opacity: 0.7;
  pointer-events: none;
}

.player-tools-phone__status-group {
  display: inline-flex;
  align-items: center;
  gap: clamp(12px, 3vw, 18px);
  min-inline-size: 0;
}

.player-tools-phone__status-group--center {
  justify-self: center;
}

.player-tools-phone__status-group--right {
  justify-content: flex-end;
}

.player-tools-phone__clock {
  font-size: clamp(1.1rem, 2.8vw, 1.4rem);
  font-weight: 600;
  letter-spacing: 0.045em;
  color: rgba(230, 240, 255, 0.97);
  white-space: nowrap;
  text-shadow: 0 0 16px rgba(110, 180, 255, 0.4);
}

.player-tools-phone__screen {
  --player-tools-screen-padding: clamp(14px, 2.8vw, 22px);
  --player-tools-screen-glass: linear-gradient(
    205deg,
    rgba(20, 32, 48, 0.5),
    rgba(12, 18, 30, 0.55)
  );
  position: relative;
  flex: 1;
  display: flex;
  border-radius: clamp(26px, 6vw, 34px);
  background: var(--player-tools-screen-glass);
  box-shadow:
    inset 0 0 0 1px rgba(110, 170, 255, 0.22),
    inset 0 -1px 0 rgba(6, 10, 18, 0.6),
    0 22px 52px rgba(2, 6, 12, 0.65);
  backdrop-filter: blur(22px) saturate(170%);
  overflow: hidden;
}

.player-tools-status {  position: relative;
  display: inline-flex;
  align-items: center;
  gap: clamp(6px, 2vw, 12px);
  font-size: clamp(0.82rem, 2.1vw, 0.95rem);
  letter-spacing: 0.01em;
  text-transform: none;
  color: rgba(245, 247, 255, 0.85);
}

.player-tools-status__icon {
  position: relative;
  inline-size: clamp(18px, 3.2vw, 24px);
  block-size: clamp(12px, 2.8vw, 16px);
  display: inline-flex;
  align-items: flex-end;
  justify-content: center;
  color: currentColor;
}

.player-tools-status__icon::before,
.player-tools-status__icon::after {
  pointer-events: none;
}

.player-tools-status__icon--signal {
  inline-size: clamp(18px, 3vw, 24px);
}

.player-tools-status__icon--signal::before {
  content: '';
  position: absolute;
  inset-inline: 0;
  inset-block-end: 0;
  background:
    linear-gradient(to top, rgba(255, 255, 255, 0.35), rgba(255, 255, 255, 0.35)) 5% 100% / 18% 40% no-repeat,
    linear-gradient(to top, rgba(255, 255, 255, 0.55), rgba(255, 255, 255, 0.55)) 35% 100% / 18% 60% no-repeat,
    linear-gradient(to top, rgba(255, 255, 255, 0.75), rgba(255, 255, 255, 0.75)) 65% 100% / 18% 80% no-repeat,
    linear-gradient(to top, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.95)) 95% 100% / 18% 100% no-repeat;
  border-radius: 2px;
}

.player-tools-status__icon--wifi {
  inline-size: clamp(20px, 3.6vw, 28px);
}

.player-tools-status__icon--wifi::before {
  content: '';
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 50% 86%, rgba(255, 255, 255, 0.95) 0 9%, transparent 10%) center bottom / 16% 16% no-repeat,
    radial-gradient(circle at 50% 100%, transparent 0 42%, rgba(255, 255, 255, 0.6) 43% 45%, transparent 46%) center bottom / 60% 60% no-repeat,
    radial-gradient(circle at 50% 100%, transparent 0 62%, rgba(255, 255, 255, 0.45) 63% 65%, transparent 66%) center bottom / 86% 86% no-repeat;
}

.player-tools-status--battery {
  --battery-frame-color: rgba(255, 255, 255, 0.88);
  --battery-level-color: rgba(255, 255, 255, 0.9);
  --battery-level-opacity: 1;
  --battery-cap-width: clamp(4px, 0.9vw, 5px);
  display: inline-flex;
  align-items: center;
  gap: clamp(6px, 1.8vw, 10px);
  padding: clamp(2px, 0.5vw, 4px) clamp(8px, 2vw, 12px);
  border-radius: 999px;
  background: transparent;
  box-shadow: none;
}

.player-tools-status--battery[data-battery-state='green'] {
  --battery-level-color: #2fd158;
}

.player-tools-status--battery[data-battery-state='orange'] {
  --battery-level-color: #ffa941;
}

.player-tools-status--battery[data-battery-state='yellow'] {
  --battery-level-color: #ffd426;
}

.player-tools-status--battery[data-battery-state='red'],
.player-tools-status--battery[data-battery-state='critical'] {
  --battery-level-color: #ff453a;
}

.player-tools-status--battery[data-battery-state='unavailable'] {
  --battery-frame-color: rgba(255, 255, 255, 0.35);
  --battery-level-opacity: 0;
}

.player-tools-status--battery[data-battery-charging='true'] {
  box-shadow: none;
}

.player-tools-status__icon--battery {
  inline-size: clamp(18px, 3.2vw, 24px);
  block-size: clamp(12px, 2.6vw, 15px);
  align-items: center;
  justify-content: center;
}

.player-tools-status__percent {
  font-size: clamp(0.82rem, 2.1vw, 0.96rem);
  font-weight: 600;
  letter-spacing: 0.01em;
  color: rgba(248, 250, 255, 0.96);
}

.player-tools-status__percent::after {
  content: '%';
  font-size: 0.75em;
  margin-inline-start: 1px;
  opacity: 0.85;
}

.player-tools-status__percent[data-charging='true']::before {
  content: '';
  font-size: 0.72em;
  margin-inline-end: 2px;
  position: relative;
  top: -0.05em;
  opacity: 0.9;
}

.player-tools-status__percent[hidden] {
  display: none !important;
}

.player-tools-status__percent {
  font-size: clamp(0.82rem, 2.1vw, 0.96rem);
  font-weight: 600;
  letter-spacing: 0.01em;
  color: rgba(248, 250, 255, 0.96);
}

.player-tools-status__percent[hidden] {
  display: none !important;
}


.player-tools-status__text {
  font-size: inherit;
}
.player-tools-tab {
  contain: layout style paint;
}

:root {
  --drawer-width: clamp(320px, 42vw, 520px);
  --drawer-z: 1200;
  --drawer-slide-direction: -1;
  --player-tools-transition-duration: 420ms;
  --player-tools-transition-timing: cubic-bezier(0.18, 0.9, 0.2, 1);
  --player-tools-open-progress: 0;
  --player-tools-glass-radius: 30px;
  --player-tools-drawer-inline-padding: clamp(12px, 4vw, 24px);
  --player-tools-content-inline-padding: clamp(12px, 4vw, 24px);
  --player-tools-frame-padding: clamp(12px, 3vw, 18px);
}

.player-tools-drawer {
  position: fixed;
  top: 0;
  bottom: 0;
  left: 0;
  inline-size: min(var(--drawer-width, 360px), 100vw);
  display: flex;
  pointer-events: none;
  background: transparent;
  z-index: var(--drawer-z, 1200);
  transform: translate3d(
    calc((1 - var(--player-tools-open-progress, 0)) * 100% * var(--drawer-slide-direction, -1)),
    0,
    0
  );
  transition:
    transform var(--player-tools-transition-duration) var(--player-tools-transition-timing),
    filter var(--player-tools-transition-duration) var(--player-tools-transition-timing);
  will-change: transform;
}

.player-tools-drawer.is-open {
  pointer-events: auto;
}

.player-tools-drawer__scrim {
  position: fixed;
  inset: 0;
  background: radial-gradient(120% 120% at 12% 12%, rgba(20, 26, 38, 0.72), rgba(5, 8, 12, 0.85));
  opacity: calc(var(--player-tools-open-progress, 0) * 0.85);
  transition: opacity var(--player-tools-transition-duration) var(--player-tools-transition-timing);
  pointer-events: none;
}

.player-tools-drawer.is-open .player-tools-drawer__scrim {
  pointer-events: auto;
}

.player-tools-drawer__inner {
  position: relative;
  z-index: 1;
  inline-size: 100%;
  block-size: 100%;
  padding-block: clamp(18px, 4vw, 32px);
  padding-inline-start: max(env(safe-area-inset-left, 0px), var(--player-tools-drawer-inline-padding));
  padding-inline-end: max(env(safe-area-inset-right, 0px), var(--player-tools-drawer-inline-padding));
  display: flex;
  align-items: stretch;
  justify-content: flex-start;
}

.player-tools-drawer__panel {
  position: absolute;
  inset: clamp(14px, 4vw, 24px) clamp(10px, 4vw, 18px);
  border-radius: calc(var(--player-tools-glass-radius, 30px) + 10px);
  background: none;
  box-shadow: none;
  filter: none;
  transform: translate3d(calc((1 - var(--player-tools-open-progress, 0)) * -18px), 0, 0);
  transition:
    box-shadow var(--player-tools-transition-duration) var(--player-tools-transition-timing),
    filter var(--player-tools-transition-duration) var(--player-tools-transition-timing),
    transform var(--player-tools-transition-duration) var(--player-tools-transition-timing),
    background var(--player-tools-transition-duration) var(--player-tools-transition-timing);
  overflow: hidden;
}

.player-tools-drawer__decor {
  position: absolute;
  inset: 0;
  border-radius: inherit;
  overflow: hidden;
}

.player-tools-drawer__beam {
  position: absolute;
  inline-size: 180%;
  block-size: 45%;
  top: -35%;
  left: -28%;
  background: radial-gradient(120% 120% at 50% 50%, rgba(130, 200, 255, 0.52), rgba(130, 200, 255, 0) 75%);
  opacity: calc(0.16 + 0.34 * var(--player-tools-open-progress, 0));
  transform: rotate(12deg) translate3d(0, calc((1 - var(--player-tools-open-progress, 0)) * -26%), 0);
  transition:
    opacity var(--player-tools-transition-duration) var(--player-tools-transition-timing),
    transform var(--player-tools-transition-duration) var(--player-tools-transition-timing);
}

.player-tools-drawer__beam--accent {
  top: auto;
  bottom: -40%;
  left: -18%;
  inline-size: 160%;
  block-size: 44%;
  background: radial-gradient(120% 120% at 40% 50%, rgba(72, 214, 255, 0.45), rgba(72, 214, 255, 0) 75%);
  transform: rotate(6deg) translate3d(0, calc((1 - var(--player-tools-open-progress, 0)) * 24%), 0);
}

.player-tools-drawer__glow {
  position: absolute;
  inset: -22% -12% 32%;
  background: radial-gradient(90% 70% at 42% 24%, rgba(120, 215, 255, 0.3), rgba(120, 215, 255, 0) 68%);
  opacity: calc(0.12 + 0.32 * var(--player-tools-open-progress, 0));
  transition: opacity var(--player-tools-transition-duration) var(--player-tools-transition-timing);
  mix-blend-mode: screen;
}

.player-tools-drawer__content {
  position: relative;
  inline-size: 100%;
  block-size: 100%;
  overflow: visible;
  padding-block: clamp(12px, 2.4vw, 20px);
  padding-inline-start: max(env(safe-area-inset-left, 0px), var(--player-tools-content-inline-padding));
  padding-inline-end: max(env(safe-area-inset-right, 0px), var(--player-tools-content-inline-padding));
  display: flex;
  flex-direction: column;
  align-items: center;
  border-radius: var(--player-tools-glass-radius, 30px);
  background: none;
  box-shadow: none;
  backdrop-filter: none;
  color: var(--text, rgba(242, 244, 255, 0.92));
  transform: translate3d(calc((1 - var(--player-tools-open-progress, 0)) * -12px), 0, 0);
  opacity: calc(0.55 + 0.45 * var(--player-tools-open-progress, 0));
  transition:
    opacity var(--player-tools-transition-duration) var(--player-tools-transition-timing),
    transform var(--player-tools-transition-duration) var(--player-tools-transition-timing),
    box-shadow var(--player-tools-transition-duration) var(--player-tools-transition-timing),
    backdrop-filter var(--player-tools-transition-duration) var(--player-tools-transition-timing);
}

.player-tools-drawer__content:focus-visible {
  outline: 2px solid color-mix(in srgb, var(--accent) 60%, #fff 40%);
  outline-offset: 0;
}

.player-tools-drawer .roll-tools {
  grid-template-columns: 1fr;
}

.player-tools-phone {
  --player-tools-safe-area-top: max(10px, env(safe-area-inset-top));
  --player-tools-status-bar-height: clamp(54px, 13vw, 70px);
  --player-tools-status-bar-offset: calc(
    var(--player-tools-status-bar-height) + var(--player-tools-safe-area-top)
  );
  position: relative;
  display: flex;
  flex-direction: column;
  min-block-size: 100%;
  flex: 1;
  inline-size: min(100%, clamp(340px, 82vw, 480px));
  margin-inline: auto;
}

.player-tools-phone__status-bar {
  position: absolute;
  inset-inline: 0;
  top: 0;
  z-index: 2;
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: clamp(14px, 3.4vw, 22px);
  padding-inline: var(--player-tools-screen-padding);
  padding-block-start: calc(var(--player-tools-safe-area-top) + clamp(12px, 3.2vw, 18px));
  padding-block-end: clamp(12px, 3.2vw, 18px);
  min-block-size: calc(var(--player-tools-safe-area-top) + var(--player-tools-status-bar-height));
  color: rgba(214, 230, 255, 0.94);
  background: var(
    --player-tools-screen-glass,
    linear-gradient(205deg, rgba(20, 32, 48, 0.5), rgba(10, 16, 28, 0.55))
  );
  box-shadow:
    inset 0 -1px 0 rgba(110, 170, 255, 0.25),
    inset 0 1px 0 rgba(5, 8, 14, 0.6);
  backdrop-filter: inherit;
}

.player-tools-phone__status-bar::after {
  content: '';
  position: absolute;
  inset-inline: calc(var(--player-tools-screen-padding) + clamp(12px, 3vw, 18px));
  inset-block-end: clamp(6px, 1.6vw, 12px);
  block-size: 2px;
  border-radius: 999px;
  background: linear-gradient(
    90deg,
    rgba(120, 190, 255, 0),
    rgba(120, 190, 255, 0.55),
    rgba(120, 190, 255, 0)
  );
  opacity: 0.7;
  pointer-events: none;
}

.player-tools-phone__status-group {
  display: inline-flex;
  align-items: center;
  gap: clamp(12px, 3vw, 18px);
  min-inline-size: 0;
}

.player-tools-phone__status-group--center {
  justify-self: center;
}

.player-tools-phone__status-group--right {
  justify-content: flex-end;
}

.player-tools-phone__clock {
  font-size: clamp(1.1rem, 2.8vw, 1.4rem);
  font-weight: 600;
  letter-spacing: 0.045em;
  color: rgba(230, 240, 255, 0.97);
  white-space: nowrap;
  text-shadow: 0 0 16px rgba(110, 180, 255, 0.4);
}

.player-tools-phone__screen {
  --player-tools-screen-padding: clamp(14px, 2.8vw, 22px);
  --player-tools-screen-glass: linear-gradient(
    205deg,
    rgba(20, 32, 48, 0.5),
    rgba(12, 18, 30, 0.55)
  );
  position: relative;
  flex: 1;
  display: flex;
  border-radius: clamp(26px, 6vw, 34px);
  background: var(--player-tools-screen-glass);
  box-shadow:
    inset 0 0 0 1px rgba(110, 170, 255, 0.22),
    inset 0 -1px 0 rgba(6, 10, 18, 0.6),
    0 22px 52px rgba(2, 6, 12, 0.65);
  backdrop-filter: blur(22px) saturate(170%);
  overflow: hidden;
}

.player-tools-status {  position: relative;
  display: inline-flex;
  align-items: center;
  gap: clamp(7px, 2vw, 12px);
  font-size: clamp(0.82rem, 2.2vw, 0.98rem);
  letter-spacing: 0.055em;
  text-transform: uppercase;
  color: rgba(216, 232, 255, 0.82);
}

.player-tools-status__icon {
  position: relative;
  inline-size: clamp(24px, 4.2vw, 30px);
  block-size: clamp(18px, 3.4vw, 20px);
  display: inline-flex;
  align-items: flex-end;
  justify-content: center;
  color: rgba(210, 235, 255, 0.94);
  filter: drop-shadow(0 0 10px rgba(110, 180, 255, 0.32));
}

.player-tools-status__icon::before,
.player-tools-status__icon::after {
  pointer-events: none;
}

.player-tools-status__icon--signal {
  --signal-bar-1: rgba(150, 200, 255, 0.45);
  --signal-bar-2: rgba(160, 210, 255, 0.55);
  --signal-bar-3: rgba(170, 220, 255, 0.65);
  --signal-bar-4: rgba(185, 230, 255, 0.78);
  --signal-bar-5: rgba(205, 240, 255, 0.92);
}

.player-tools-status__icon--signal::before {
  content: '';
  position: absolute;
  inset: 0;
  inline-size: 86%;
  block-size: 100%;
  transform: translateX(-7%);
  background:
    linear-gradient(to top, var(--signal-bar-1) 0%, var(--signal-bar-1) 100%) 0% 100% / 14% 32% no-repeat,
    linear-gradient(to top, var(--signal-bar-2) 0%, var(--signal-bar-2) 100%) 24% 100% / 14% 48% no-repeat,
    linear-gradient(to top, var(--signal-bar-3) 0%, var(--signal-bar-3) 100%) 48% 100% / 14% 66% no-repeat,
    linear-gradient(to top, var(--signal-bar-4) 0%, var(--signal-bar-4) 100%) 72% 100% / 14% 84% no-repeat,
    linear-gradient(to top, var(--signal-bar-5) 0%, var(--signal-bar-5) 100%) 96% 100% / 14% 100% no-repeat;
  filter: drop-shadow(0 0 8px rgba(110, 200, 255, 0.32));
}

.player-tools-status__icon--wifi {
  --wifi-arc-color-1: rgba(150, 205, 255, 0.48);
  --wifi-arc-color-2: rgba(165, 215, 255, 0.62);
  --wifi-arc-color-3: rgba(185, 230, 255, 0.78);
  --wifi-dot-color: rgba(215, 240, 255, 0.92);
}

.player-tools-status__icon--wifi::before {
  content: '';
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 50% 95%, var(--wifi-dot-color) 0 7%, transparent 8%) center bottom / 16% 16% no-repeat,
    radial-gradient(circle at 50% 100%, transparent 0 32%, var(--wifi-arc-color-1) 33% 35%, transparent 36%) center bottom / 52% 52% no-repeat,
    radial-gradient(circle at 50% 100%, transparent 0 52%, var(--wifi-arc-color-2) 53% 55%, transparent 56%) center bottom / 74% 74% no-repeat,
    radial-gradient(circle at 50% 100%, transparent 0 72%, var(--wifi-arc-color-3) 73% 75%, transparent 76%) center bottom / 96% 96% no-repeat;
  filter: drop-shadow(0 0 8px rgba(110, 200, 255, 0.3));
}

.player-tools-status__icon--battery {
  inline-size: clamp(44px, 8.6vw, 56px);
  block-size: clamp(18px, 3.6vw, 20px);
  align-items: center;
  justify-content: center;
}


.player-tools-status__text {
  font-size: inherit;
}
.player-tools-tab {
  contain: layout style paint;
}

:root {
  --drawer-width: clamp(320px, 42vw, 520px);
  --drawer-z: 1200;
  --drawer-slide-direction: -1;
  --player-tools-transition-duration: 420ms;
  --player-tools-transition-timing: cubic-bezier(0.18, 0.9, 0.2, 1);
  --player-tools-open-progress: 0;
  --player-tools-glass-radius: 30px;
  --player-tools-drawer-inline-padding: clamp(12px, 4vw, 24px);
  --player-tools-content-inline-padding: clamp(12px, 4vw, 24px);
  --player-tools-frame-padding: clamp(12px, 3vw, 18px);
}

.player-tools-drawer {
  position: fixed;
  top: 0;
  bottom: 0;
  left: 0;
  inline-size: min(var(--drawer-width, 360px), 100vw);
  display: flex;
  pointer-events: none;
  background: transparent;
  z-index: var(--drawer-z, 1200);
  transform: translate3d(
    calc((1 - var(--player-tools-open-progress, 0)) * 100% * var(--drawer-slide-direction, -1)),
    0,
    0
  );
  transition:
    transform var(--player-tools-transition-duration) var(--player-tools-transition-timing),
    filter var(--player-tools-transition-duration) var(--player-tools-transition-timing);
  will-change: transform;
}

.player-tools-drawer.is-open {
  pointer-events: auto;
}

.player-tools-drawer__scrim {
  position: fixed;
  inset: 0;
  background: radial-gradient(120% 120% at 12% 12%, rgba(20, 26, 38, 0.72), rgba(5, 8, 12, 0.85));
  opacity: calc(var(--player-tools-open-progress, 0) * 0.85);
  transition: opacity var(--player-tools-transition-duration) var(--player-tools-transition-timing);
  pointer-events: none;
}

.player-tools-drawer.is-open .player-tools-drawer__scrim {
  pointer-events: auto;
}

.player-tools-drawer__inner {
  position: relative;
  z-index: 1;
  inline-size: 100%;
  block-size: 100%;
  padding-block: clamp(18px, 4vw, 32px);
  padding-inline-start: max(env(safe-area-inset-left, 0px), var(--player-tools-drawer-inline-padding));
  padding-inline-end: max(env(safe-area-inset-right, 0px), var(--player-tools-drawer-inline-padding));
  display: flex;
  align-items: stretch;
  justify-content: flex-start;
}

.player-tools-drawer__panel {
  position: absolute;
  inset: clamp(14px, 4vw, 24px) clamp(10px, 4vw, 18px);
  border-radius: calc(var(--player-tools-glass-radius, 30px) + 10px);
  background: none;
  box-shadow: none;
  filter: none;
  transform: translate3d(calc((1 - var(--player-tools-open-progress, 0)) * -18px), 0, 0);
  transition:
    box-shadow var(--player-tools-transition-duration) var(--player-tools-transition-timing),
    filter var(--player-tools-transition-duration) var(--player-tools-transition-timing),
    transform var(--player-tools-transition-duration) var(--player-tools-transition-timing),
    background var(--player-tools-transition-duration) var(--player-tools-transition-timing);
  overflow: hidden;
}

.player-tools-drawer__decor {
  position: absolute;
  inset: 0;
  border-radius: inherit;
  overflow: hidden;
}

.player-tools-drawer__beam {
  position: absolute;
  inline-size: 180%;
  block-size: 45%;
  top: -35%;
  left: -28%;
  background: radial-gradient(120% 120% at 50% 50%, rgba(130, 200, 255, 0.52), rgba(130, 200, 255, 0) 75%);
  opacity: calc(0.16 + 0.34 * var(--player-tools-open-progress, 0));
  transform: rotate(12deg) translate3d(0, calc((1 - var(--player-tools-open-progress, 0)) * -26%), 0);
  transition:
    opacity var(--player-tools-transition-duration) var(--player-tools-transition-timing),
    transform var(--player-tools-transition-duration) var(--player-tools-transition-timing);
}

.player-tools-drawer__beam--accent {
  top: auto;
  bottom: -40%;
  left: -18%;
  inline-size: 160%;
  block-size: 44%;
  background: radial-gradient(120% 120% at 40% 50%, rgba(72, 214, 255, 0.45), rgba(72, 214, 255, 0) 75%);
  transform: rotate(6deg) translate3d(0, calc((1 - var(--player-tools-open-progress, 0)) * 24%), 0);
}

.player-tools-drawer__glow {
  position: absolute;
  inset: -22% -12% 32%;
  background: radial-gradient(90% 70% at 42% 24%, rgba(120, 215, 255, 0.3), rgba(120, 215, 255, 0) 68%);
  opacity: calc(0.12 + 0.32 * var(--player-tools-open-progress, 0));
  transition: opacity var(--player-tools-transition-duration) var(--player-tools-transition-timing);
  mix-blend-mode: screen;
}

.player-tools-drawer__content {
  position: relative;
  inline-size: 100%;
  block-size: 100%;
  overflow: visible;
  padding-block: clamp(12px, 2.4vw, 20px);
  padding-inline-start: max(env(safe-area-inset-left, 0px), var(--player-tools-content-inline-padding));
  padding-inline-end: max(env(safe-area-inset-right, 0px), var(--player-tools-content-inline-padding));
  display: flex;
  flex-direction: column;
  align-items: center;
  border-radius: var(--player-tools-glass-radius, 30px);
  background: none;
  box-shadow: none;
  backdrop-filter: none;
  color: var(--text, rgba(242, 244, 255, 0.92));
  transform: translate3d(calc((1 - var(--player-tools-open-progress, 0)) * -12px), 0, 0);
  opacity: calc(0.55 + 0.45 * var(--player-tools-open-progress, 0));
  transition:
    opacity var(--player-tools-transition-duration) var(--player-tools-transition-timing),
    transform var(--player-tools-transition-duration) var(--player-tools-transition-timing),
    box-shadow var(--player-tools-transition-duration) var(--player-tools-transition-timing),
    backdrop-filter var(--player-tools-transition-duration) var(--player-tools-transition-timing);
}

.player-tools-drawer__content:focus-visible {
  outline: 2px solid color-mix(in srgb, var(--accent) 60%, #fff 40%);
  outline-offset: 0;
}

.player-tools-drawer .roll-tools {
  grid-template-columns: 1fr;
}

.player-tools-phone {
  --player-tools-safe-area-top: max(10px, env(safe-area-inset-top));
  --player-tools-status-bar-height: clamp(54px, 13vw, 70px);
  --player-tools-status-bar-offset: calc(
    var(--player-tools-status-bar-height) + var(--player-tools-safe-area-top)
  );
  position: relative;
  display: flex;
  flex-direction: column;
  min-block-size: 100%;
  flex: 1;
  inline-size: min(100%, clamp(340px, 82vw, 480px));
  margin-inline: auto;
}

.player-tools-phone__status-bar {
  position: absolute;
  inset-inline: 0;
  top: 0;
  z-index: 2;
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: clamp(10px, 2.6vw, 18px);
  padding-inline: var(--player-tools-screen-padding);
  padding-block-start: calc(var(--player-tools-safe-area-top) + clamp(10px, 2.8vw, 16px));
  padding-block-end: clamp(10px, 2.8vw, 16px);
  min-block-size: calc(var(--player-tools-safe-area-top) + var(--player-tools-status-bar-height));
  color: rgba(245, 247, 255, 0.96);
  background: var(
    --player-tools-screen-glass,
    linear-gradient(205deg, rgba(20, 32, 48, 0.5), rgba(10, 16, 28, 0.55))
  );
  box-shadow:
    inset 0 -1px 0 rgba(110, 170, 255, 0.25),
    inset 0 1px 0 rgba(5, 8, 14, 0.6);
  backdrop-filter: inherit;
}

.player-tools-phone__status-bar::after {
  content: '';
  position: absolute;
  inset-inline: calc(var(--player-tools-screen-padding) + clamp(10px, 2.6vw, 16px));
  inset-block-end: clamp(4px, 1.2vw, 8px);
  block-size: 2px;
  border-radius: 999px;
  background: linear-gradient(
    90deg,
    rgba(120, 190, 255, 0),
    rgba(120, 190, 255, 0.55),
    rgba(120, 190, 255, 0)
  );
  opacity: 0.7;
  pointer-events: none;
}

.player-tools-phone__status-group {
  display: inline-flex;
  align-items: center;
  gap: clamp(8px, 2.4vw, 16px);
  min-inline-size: 0;
}

.player-tools-phone__status-group--left {
  justify-self: flex-start;
}

.player-tools-phone__status-group--center {
  justify-content: center;
  justify-self: center;
}

.player-tools-phone__status-group--right {
  justify-content: flex-end;
}

.player-tools-phone__clock {
  font-size: clamp(1.05rem, 2.6vw, 1.28rem);
  font-weight: 600;
  letter-spacing: 0.015em;
  color: rgba(248, 250, 255, 0.96);
  white-space: nowrap;
  text-shadow: 0 0 6px rgba(0, 0, 0, 0.35);
}

.player-tools-phone__dynamic-island {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  inline-size: clamp(96px, 28vw, 140px);
  block-size: clamp(24px, 7vw, 32px);
  border-radius: 999px;
  background: linear-gradient(180deg, rgba(8, 10, 16, 0.94), rgba(3, 5, 10, 0.96));
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.06);
  position: relative;
  overflow: hidden;
}

.player-tools-phone__camera {
  inline-size: clamp(12px, 3.6vw, 16px);
  block-size: clamp(12px, 3.6vw, 16px);
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, rgba(65, 88, 118, 0.7), rgba(12, 16, 24, 0.96));
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.12);
  opacity: 0.9;
}
.player-tools-phone__screen {
  --player-tools-screen-padding: clamp(14px, 2.8vw, 22px);
  --player-tools-screen-glass: linear-gradient(
    205deg,
    rgba(20, 32, 48, 0.5),
    rgba(12, 18, 30, 0.55)
  );
  position: relative;
  flex: 1;
  display: flex;
  border-radius: clamp(26px, 6vw, 34px);
  background: var(--player-tools-screen-glass);
  box-shadow:
    inset 0 0 0 1px rgba(110, 170, 255, 0.22),
    inset 0 -1px 0 rgba(6, 10, 18, 0.6),
    0 22px 52px rgba(2, 6, 12, 0.65);
  backdrop-filter: blur(22px) saturate(170%);
  overflow: hidden;
}

.player-tools-status {  position: relative;
  display: inline-flex;
  align-items: center;
  gap: clamp(6px, 2vw, 12px);
  font-size: clamp(0.82rem, 2.1vw, 0.95rem);
  letter-spacing: 0.01em;
  text-transform: none;
  color: rgba(245, 247, 255, 0.85);
}

.player-tools-status__icon {
  position: relative;
  inline-size: clamp(20px, 3.6vw, 28px);
  block-size: clamp(14px, 3.2vw, 18px);
  display: inline-flex;
  align-items: flex-end;
  justify-content: center;
  color: currentColor;
}

.player-tools-status__icon::before,
.player-tools-status__icon::after {
  pointer-events: none;
}

.player-tools-status__icon--signal {
  inline-size: clamp(20px, 3.4vw, 26px);
}

.player-tools-status__icon--signal::before {
  content: '';
  position: absolute;
  inset: 0;
  inline-size: 86%;
  block-size: 100%;
  transform: translateX(-6%);
  background:
    linear-gradient(to top, currentColor 0%, currentColor 100%) 0% 100% / 16% 36% no-repeat,
    linear-gradient(to top, currentColor 0%, currentColor 100%) 24% 100% / 16% 54% no-repeat,
    linear-gradient(to top, currentColor 0%, currentColor 100%) 48% 100% / 16% 72% no-repeat,
    linear-gradient(to top, currentColor 0%, currentColor 100%) 72% 100% / 16% 88% no-repeat,
    linear-gradient(to top, currentColor 0%, currentColor 100%) 96% 100% / 16% 100% no-repeat;
  opacity: 0.9;
}

.player-tools-status__icon--wifi {
  inline-size: clamp(24px, 4vw, 32px);
}

.player-tools-status__icon--wifi::before {
  content: '';
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 50% 95%, currentColor 0 7%, transparent 8%) center bottom / 18% 18% no-repeat,
    radial-gradient(circle at 50% 100%, transparent 0 34%, currentColor 35% 37%, transparent 38%) center bottom / 54% 54% no-repeat,
    radial-gradient(circle at 50% 100%, transparent 0 56%, currentColor 57% 59%, transparent 60%) center bottom / 76% 76% no-repeat,
    radial-gradient(circle at 50% 100%, transparent 0 78%, currentColor 79% 81%, transparent 82%) center bottom / 98% 98% no-repeat;
  opacity: 0.9;
}

.player-tools-status--battery {
  --battery-frame-color: rgba(255, 255, 255, 0.88);
  --battery-level-color: rgba(255, 255, 255, 0.9);
  --battery-level-opacity: 1;
  --battery-cap-width: clamp(4px, 1vw, 6px);
  display: inline-flex;
  align-items: center;
  gap: clamp(8px, 2.2vw, 12px);
  padding: clamp(2px, 0.6vw, 4px) clamp(10px, 2.4vw, 14px);
  border-radius: 999px;
  background: transparent;
  box-shadow: none;
}

.player-tools-status--battery[data-battery-state='green'] {
  --battery-level-color: #2fd158;
}

.player-tools-status--battery[data-battery-state='orange'] {
  --battery-level-color: #ffa941;
}

.player-tools-status--battery[data-battery-state='yellow'] {
  --battery-level-color: #ffd426;
}

.player-tools-status--battery[data-battery-state='red'],
.player-tools-status--battery[data-battery-state='critical'] {
  --battery-level-color: #ff453a;
}

.player-tools-status--battery[data-battery-state='unavailable'] {
  --battery-frame-color: rgba(255, 255, 255, 0.35);
  --battery-level-opacity: 0;
}

.player-tools-status__icon--battery {
  inline-size: clamp(20px, 3.6vw, 26px);
  block-size: clamp(12px, 2.8vw, 16px);
  align-items: center;
  justify-content: center;
}


.player-tools-status__text {
  font-size: inherit;
}
/* Player Tools tab button */
.player-tools-tab {
  position: fixed;
  left: 1rem;
  right: auto;
  bottom: 1.5rem;
  z-index: 1500;
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  padding: 0.45rem 0.7rem;
  border-radius: 999px;
  border: 1px solid rgba(0, 229, 255, 0.5);
  background: radial-gradient(circle at 0 0, rgba(0, 229, 255, 0.35), rgba(0, 0, 0, 0.85));
  color: #e5f9ff;
  font-size: 0.8rem;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  cursor: pointer;
  box-shadow: 0 0 20px rgba(0, 229, 255, 0.5);
  transition: opacity 0.18s ease, transform 0.18s ease;
}

/* When the drawer is open we hide the Tools tab */
.player-tools-tab[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  transform: translateX(-10px);
}

.player-tools-tab[data-player-credit='pending'],
.player-tools-tab[data-player-reward='pending'] {
  border-color: color-mix(in srgb, var(--accent, #38bdf8) 55%, transparent);
}

.player-tools-tab::before {
  content: "";
  position: absolute;
  inset: 6% 10% 6% -32%;
  border-radius: 999px;
  background: radial-gradient(120% 120% at 32% 48%, rgba(108, 190, 255, 0.4), rgba(108, 190, 255, 0) 70%);
  opacity: calc(0.2 + 0.3 * var(--player-tools-open-progress, 0));
  transform: translate3d(calc(-12px * (1 - var(--player-tools-open-progress, 0))), 0, 0);
  transition:
    opacity var(--player-tools-transition-duration) var(--player-tools-transition-timing),
    transform var(--player-tools-transition-duration) var(--player-tools-transition-timing);
  pointer-events: none;
  mix-blend-mode: screen;
}

.player-tools-tab::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.22), rgba(255, 255, 255, 0) 65%);
  opacity: calc(0.18 + 0.22 * var(--player-tools-open-progress, 0));
  pointer-events: none;
}

.player-tools-tab__icon {
  position: relative;
  z-index: 1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  inline-size: 100%;
  block-size: 100%;
}

.player-tools-tab__badge {
  position: absolute;
  top: clamp(6px, 14%, 12px);
  right: clamp(6px, 14%, 12px);
  min-width: 18px;
  min-height: 18px;
  padding: 0 4px;
  border-radius: 999px;
  background: color-mix(in srgb, var(--accent, #38bdf8) 88%, transparent);
  color: #fff;
  font-size: 0.65rem;
  font-weight: 700;
  line-height: 1;
  display: none;
  place-items: center;
  box-shadow:
    0 0 0 2px rgba(4, 9, 20, 0.78),
    0 2px 6px rgba(0, 0, 0, 0.36);
  pointer-events: none;
}

.player-tools-tab__badge:not([hidden]) {
  display: grid;
}

.player-tools-tab[data-player-credit='pending'] .player-tools-tab__badge,
.player-tools-tab[data-player-reward='pending'] .player-tools-tab__badge {
  animation: playerToolsCreditPulse 1.8s ease-in-out infinite;
}

@keyframes playerToolsCreditPulse {
  0%,
  100% {
    transform: scale(1);
    box-shadow:
      0 0 0 2px rgba(4, 9, 20, 0.78),
      0 0 0 0 rgba(56, 189, 248, 0.45);
  }
  50% {
    transform: scale(1.1);
    box-shadow:
      0 0 0 2px rgba(4, 9, 20, 0.78),
      0 0 12px 4px rgba(56, 189, 248, 0.6);
  }
}

.player-tools-tab__icon img {
  display: block;
  inline-size: 80%;
  block-size: 80%;
  margin: auto;
  object-fit: contain;
  filter: drop-shadow(0 2px 6px rgba(0, 0, 0, 0.28));
}

.player-tools-tab:focus-visible {
  outline: 2px solid currentColor;
  outline-offset: 4px;
}

@keyframes playerToolsPulse {
  0%,
  100% {
    transform: scale(0.9);
    opacity: 0.6;
  }

  50% {
    transform: scale(1.25);
    opacity: 1;
  }
}

@keyframes playerToolsWave {
  0% {
    transform: scaleY(0.4);
    opacity: 0.45;
  }

  50% {
    transform: scaleY(1);
    opacity: 1;
  }

  100% {
    transform: scaleY(0.55);
    opacity: 0.6;
  }
}

@media (prefers-contrast: more) {
  .player-tools-tab {
    border-color: currentColor;
    box-shadow: 0 0 0 2px currentColor;
    background: #000;
    color: #fff;
  }

  .player-tools-tab::before,
  .player-tools-tab::after {
    opacity: 0.1;
  }

  .player-tools-drawer__panel {
    background: none;
    box-shadow: none;
    filter: none;
  }

  .player-tools-drawer__content {
    background: none;
    box-shadow: none;
    backdrop-filter: none;
  }
}

@media (max-width: 600px) {
  .player-tools-drawer {
    inline-size: 100%;
    block-size: 100%;
  }

  .player-tools-drawer__inner {
    padding-inline-start: max(env(safe-area-inset-left, 0px), var(--player-tools-drawer-inline-padding));
    padding-inline-end: max(env(safe-area-inset-right, 0px), var(--player-tools-drawer-inline-padding));
  }

  .player-tools-drawer__content {
    padding-inline-start: max(env(safe-area-inset-left, 0px), var(--player-tools-content-inline-padding));
    padding-inline-end: max(env(safe-area-inset-right, 0px), var(--player-tools-content-inline-padding));
  }

  .player-tools-phone,
  .player-tools-phone__status-bar {
    inline-size: 100%;
    max-inline-size: none;
    margin-inline-start: 0;
    margin-inline-end: 0;
  }
}
/* Player Tools tray trigger */
.player-tools-tab {
  position: fixed;
  right: 1rem;
  bottom: 1.5rem;
  z-index: 1500;
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  padding: 0.45rem 0.7rem;
  border-radius: 999px;
  border: 1px solid rgba(0, 229, 255, 0.5);
  background: radial-gradient(circle at 0 0, rgba(0, 229, 255, 0.35), rgba(0, 0, 0, 0.85));
  color: #e5f9ff;
  font-size: 0.8rem;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  cursor: pointer;
  box-shadow: 0 0 20px rgba(0, 229, 255, 0.5);
}

.player-tools-tab__icon {
  font-size: 1rem;
  line-height: 1;
}

.player-tools-tab__label {
  font-weight: 600;
}

/* Drawer chrome */
.player-tools-drawer {
  position: fixed;
  inset: 0;
  z-index: 1400;
  display: flex;
  justify-content: flex-start;
  align-items: stretch;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.2s ease;
}

.player-tools-drawer.is-open {
  pointer-events: auto;
  opacity: 1;
}

.player-tools-drawer__scrim {
  flex: 1 1 auto;
  background: radial-gradient(circle at 10% 10%, rgba(0, 229, 255, 0.18), transparent);
  backdrop-filter: blur(2px);
}

.player-tools-drawer__shell {
  flex: 0 0 auto;
  width: min(380px, 90vw);
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 1.25rem 1rem;
  transform: translateX(-100%);
  transition: transform 0.25s ease;
}

.player-tools-drawer.is-open .player-tools-drawer__shell {
  transform: translateX(0);
}

.player-tools-drawer__inner {
  position: relative;
  width: 100%;
  display: flex;
  justify-content: center;
}

/* Phone shell: width controls everything, height comes from image ratio */
.player-tools-phone {
  position: relative;
  width: min(360px, 90vw);
}

/* phone.png preserves its natural aspect ratio */
.player-tools-phone__shell {
  display: block;
  width: 100%;
  height: auto;
}

/* Screen area anchored inside the shell image */
.player-tools-phone__screen {
  position: absolute;
  inset: 10% 8% 7% 8%;
  display: flex;
  align-items: stretch;
}

.player-tools-phone__screen-inner {
  position: relative;
  width: 100%;
  height: 100%;
  border-radius: 18px;
  background:
    radial-gradient(circle at 0 0, rgba(0, 229, 255, 0.3), transparent 55%),
    radial-gradient(circle at 100% 100%, rgba(255, 255, 255, 0.1), transparent 55%),
    rgba(3, 10, 20, 0.96);
  border: 1px solid rgba(0, 229, 255, 0.4);
  box-shadow:
    inset 0 0 0 1px rgba(0, 229, 255, 0.3),
    0 0 25px rgba(0, 229, 255, 0.5);
  padding: 0.4rem 0.45rem 0.5rem;
  display: flex;
  flex-direction: column;
}

/* Status bar */
.phone-status-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", sans-serif;
  font-size: 0.65rem;
  color: #c7f7ff;
  opacity: 0.9;
  margin-bottom: 0.25rem;
}

.phone-status-bar__icons span {
  margin-left: 0.25rem;
}

/* Header chip */
.phone-chip {
  align-self: center;
  font-size: 0.7rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  padding: 0.15rem 0.5rem;
  border-radius: 999px;
  border: 1px solid rgba(0, 229, 255, 0.6);
  color: #e5f9ff;
  background: linear-gradient(90deg, rgba(0, 229, 255, 0.15), rgba(0, 255, 170, 0.08));
  box-shadow: 0 0 12px rgba(0, 229, 255, 0.4);
  margin-bottom: 0.35rem;
}

/* Scrollable tools viewport */
.player-tools-phone__viewport {
  margin-top: 0.3rem;
  flex: 1 1 auto;
  overflow-y: auto;
  padding: 0.3rem 0.05rem 0.1rem;
  display: flex;
  flex-direction: column;
  gap: 0.4rem;
}

.phone-gesture-bar {
  position: absolute;
  left: 50%;
  bottom: 0.35rem;
  transform: translateX(-50%);
  width: 40%;
  height: 4px;
  border-radius: 999px;
  border: none;
  background: rgba(255, 255, 255, 0.35);
  cursor: pointer;
}

.phone-gesture-bar::after {
  content: '';
  position: absolute;
  inset: -6px -10px;
}

.player-tools-phone__viewport::-webkit-scrollbar {
  width: 4px;
}

.player-tools-phone__viewport::-webkit-scrollbar-track {
  background: transparent;
}

.player-tools-phone__viewport::-webkit-scrollbar-thumb {
  background: rgba(0, 229, 255, 0.4);
  border-radius: 999px;
}

/* Generic tool card */
.tool-card {
  border-radius: 12px;
  background: linear-gradient(145deg, rgba(10, 25, 40, 0.95), rgba(3, 8, 18, 0.98));
  border: 1px solid rgba(0, 229, 255, 0.3);
  padding: 0.45rem 0.5rem;
  box-shadow: 0 0 10px rgba(0, 229, 255, 0.25);
}

.tool-card__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 0.35rem;
}

.tool-card__title {
  font-size: 0.8rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: #e9fbff;
}

.tool-card__result-shell {
  border-radius: 999px;
  padding: 0.1rem 0.4rem;
  background: rgba(0, 0, 0, 0.6);
  border: 1px solid rgba(0, 229, 255, 0.4);
  font-size: 0.75rem;
  color: #00e5ff;
}

.tool-card__result[data-placeholder] {
  opacity: 0.8;
}

.tool-card__body {
  display: flex;
  flex-direction: column;
  gap: 0.35rem;
}

.tool-card__body--grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 0.35rem;
}

.tool-card__body--history {
  max-height: 100px;
  overflow-y: auto;
}

/* Fields */
.tool-field {
  display: flex;
  flex-direction: column;
  gap: 0.15rem;
}

.tool-field label {
  font-size: 0.65rem;
  color: #c4f5ff;
}

.tool-field input {
  font-size: 0.75rem;
  padding: 0.15rem 0.25rem;
  border-radius: 6px;
  border: 1px solid rgba(0, 229, 255, 0.35);
  background: rgba(2, 8, 14, 0.95);
  color: #e5f9ff;
}

/* Buttons */
.btn {
  font-size: 0.75rem;
  padding: 0.3rem 0.5rem;
  border-radius: 999px;
  border: 1px solid transparent;
  cursor: pointer;
}

.btn-block {
  width: 100%;
}

.btn-sm {
  font-size: 0.7rem;
  padding: 0.2rem 0.45rem;
}

.btn-primary {
  background: linear-gradient(135deg, #00e5ff, #00ffa3);
  color: #020609;
  font-weight: 600;
  border-color: rgba(0, 20, 30, 0.9);
}

.btn-secondary {
  background: rgba(0, 229, 255, 0.1);
  color: #e5f9ff;
  border-color: rgba(0, 229, 255, 0.4);
}

/* Reminders */
.player-tools-reminder {
  border-radius: 12px;
  border: 1px solid rgba(0, 229, 255, 0.4);
  background: radial-gradient(circle at 0 0, rgba(0, 229, 255, 0.28), rgba(0, 0, 0, 0.9));
  padding: 0.4rem 0.45rem;
}

.player-tools-reminder--mini-game {
  background: radial-gradient(circle at 0 100%, rgba(255, 196, 0, 0.3), rgba(0, 0, 0, 0.9));
}

.player-tools-reminder__body {
  display: flex;
  align-items: center;
  gap: 0.35rem;
  justify-content: space-between;
}

.player-tools-reminder__trigger {
  flex: 1 1 auto;
  border: none;
  background: none;
  padding: 0;
  display: flex;
  align-items: center;
  gap: 0.35rem;
  cursor: pointer;
  text-align: left;
  color: inherit;
}

.player-tools-reminder__content {
  display: flex;
  flex-direction: column;
  gap: 0.05rem;
}

.player-tools-reminder__title {
  font-size: 0.78rem;
  font-weight: 600;
  color: #ffffff;
}

.player-tools-reminder__subtitle {
  font-size: 0.68rem;
  color: #c4f5ff;
}

.player-tools-reminder__badge {
  border-radius: 999px;
  padding: 0.05rem 0.35rem;
  background: #ff6b81;
  color: #fff;
  font-size: 0.65rem;
  font-weight: 600;
}

.player-tools-reminder__info {
  border-radius: 999px;
  width: 1.3rem;
  height: 1.3rem;
  border: 1px solid rgba(0, 229, 255, 0.6);
  background: rgba(0, 0, 0, 0.7);
  color: #e5f9ff;
  font-size: 0.75rem;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}

/* History list */
.toast-history-list {
  list-style: none;
  margin: 0;
  padding: 0;
  font-size: 0.68rem;
  color: #e5f9ff;
}

.toast-history-list li {
  padding: 0.15rem 0.1rem;
  border-bottom: 1px solid rgba(0, 229, 255, 0.16);
}

.toast-history-list li:last-child {
  border-bottom: none;
}

.toast-history-list__time {
  opacity: 0.7;
  font-size: 0.6rem;
  margin-right: 0.25rem;
}

@media (max-width: 480px) {
  .player-tools-tab {
    left: 0.75rem;
    bottom: 1rem;
  }
}

